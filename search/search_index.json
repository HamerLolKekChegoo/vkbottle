{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u0425\u0430\u0431 \u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e VKBottle! \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043c\u0435\u043d\u044e \u0441\u043b\u0435\u0432\u0430 \u0434\u043b\u044f \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u0438 \u0414\u043b\u044f \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0438\u0445 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u0442\u044c\u0441\u044f \u0441 \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u043e\u043c , \u0430 \u0434\u043b\u044f \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u044e\u0449\u0438\u0445 \u0441 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0435\u0439 \u043f\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430\u043c \u0440\u0430\u0437\u043d\u044b\u0445 \u0443\u0440\u043e\u0432\u043d\u0435\u0439","title":"\u0425\u0430\u0431"},{"location":"#_1","text":"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e VKBottle! \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043c\u0435\u043d\u044e \u0441\u043b\u0435\u0432\u0430 \u0434\u043b\u044f \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u0438 \u0414\u043b\u044f \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0438\u0445 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u0442\u044c\u0441\u044f \u0441 \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u043e\u043c , \u0430 \u0434\u043b\u044f \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u044e\u0449\u0438\u0445 \u0441 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0435\u0439 \u043f\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430\u043c \u0440\u0430\u0437\u043d\u044b\u0445 \u0443\u0440\u043e\u0432\u043d\u0435\u0439","title":"\u0425\u0430\u0431"},{"location":"modules/","text":"Dependencies customisation JSON \u0412 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u043d\u0430\u043f\u0440\u0430\u0432\u043e: json , ujson , hyperjson , orjson Logging \u0412 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u043d\u0430\u043f\u0440\u0430\u0432\u043e: logging , loguru","title":"\u041a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439"},{"location":"modules/#dependencies-customisation","text":"","title":"Dependencies customisation"},{"location":"modules/#json","text":"\u0412 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u043d\u0430\u043f\u0440\u0430\u0432\u043e: json , ujson , hyperjson , orjson","title":"JSON"},{"location":"modules/#logging","text":"\u0412 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u043d\u0430\u043f\u0440\u0430\u0432\u043e: logging , loguru","title":"Logging"},{"location":"why_vkbottle/","text":"VKBottle \u2014 \u044d\u0442\u043e \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a, \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0439 \u0434\u043b\u044f \u043a\u043e\u043c\u0444\u043e\u0440\u0442\u043d\u043e\u0439 \u0438 \u0431\u044b\u0441\u0442\u0440\u043e\u0439 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0432\u044b\u0441\u043e\u043a\u043e\u043d\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0449\u0438\u0445 VK API \u041d\u0443\u0436\u043d\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441 \u0447\u0438\u0441\u0442\u044b\u043c API \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435, \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c HTTP-\u043a\u043b\u0438\u0435\u043d\u0442 \u0438\u043b\u0438 \u0432\u0430\u043b\u0438\u0434\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0442\u0432\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u043e\u0442\u043b\u043e\u0432\u0438\u0442\u044c \u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0443 \u0432 \u0440\u0430\u043d\u0442\u0430\u0439\u043c\u0435? \u0414\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0442\u043e: \u043d\u043e\u0432\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f VKBottle \u043f\u043e\u0437\u0432\u043e\u043b\u0438\u0442 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u044d\u0442\u043e \u0432 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u0440\u043e\u043a \u043a\u043e\u0434\u0430. \u0420\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441 VK API \u0435\u0449\u0451 \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u0431\u044b\u043b\u043e \u0442\u0430\u043a \u043b\u0435\u0433\u043a\u043e. \u0418 \u0432\u043e\u0442 \u043f\u043e\u0447\u0435\u043c\u0443: * \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0440\u043e\u0443\u0442\u0438\u043d\u0433\u0430 \u2014 \u0442\u0435\u043f\u0435\u0440\u044c \u043e\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0432 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0440\u0430\u0437 \u0431\u044b\u0441\u0442\u0440\u0435\u0435 \u0438 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u0435\u0435. \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043d\u043e\u0432\u044b\u0445 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u0432 \u2014 View \u0438 Labeler, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u043a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u0443\u043b\u0443\u0447\u0448\u0438\u0442\u044c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0441\u043e\u0431\u044b\u0442\u0438\u0439. * \u0411\u0440\u0430\u043d\u0447\u0438 \u0442\u0430\u043a\u0436\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0431\u043e\u043b\u044c\u0448\u043e\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435. \u0422\u0435\u043f\u0435\u0440\u044c \u044d\u0442\u043e \u0441\u0442\u0435\u0439\u0442\u044b \u2014 \u0433\u0438\u0431\u043a\u0430\u044f \u0438 \u0443\u0434\u043e\u0431\u043d\u0430\u044f \u0432\u0435\u0442\u043e\u0447\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439. \u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u043a\u0432\u0438\u0437\u044b, \u0438\u0433\u0440\u044b \u0438 \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043c\u0435\u043d\u044e \u2014 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043d\u0435 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u044b. * \u041d\u0435 \u0437\u0430\u0431\u044b\u043b\u0438 \u0438 \u043f\u0440\u043e \u0431\u043b\u0443\u043f\u0440\u0438\u043d\u0442\u044b \u2014 \u043e\u043d\u0438 \u0432 \u043d\u043e\u0432\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0438 \u0442\u043e\u0436\u0435 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442, \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0438\u0445 \u043f\u043e-\u043f\u0440\u0435\u0436\u043d\u0435\u043c\u0443 \u043b\u0435\u0433\u043a\u043e \u0438 \u043f\u0440\u0438\u044f\u0442\u043d\u043e. \u041f\u0440\u043e\u0447\u0438\u0442\u0430\u0439\u0442\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u2014 https://vkbottle.readthedocs.io/ru/latest/ \u041d\u0430\u0448 \u0442\u0435\u043b\u0435\u0433\u0440\u0430\u043c \u043a\u0430\u043d\u0430\u043b","title":"Why vkbottle"},{"location":"high-level/","text":"High-level API Bot Access Bot Labeler Multibot Blueprint Handling Handler View Return Manager State Dispenser Middleware Routing","title":"High-level API"},{"location":"high-level/#high-level-api","text":"Bot Access Bot Labeler Multibot Blueprint Handling Handler View Return Manager State Dispenser Middleware Routing","title":"High-level API"},{"location":"high-level/bot/","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0430: \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0438\u043d\u0441\u0442\u0430\u043d\u0441\u0430 \u0431\u043e\u0442\u0430 \u0434\u043b\u044f \u0440\u0430\u0437\u043d\u044b\u0445 \u0446\u0435\u043b\u0435\u0439 \u0438 \u0435\u0433\u043e \u043a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0430\u0446\u0438\u044f Bot Blueprint Labeler Multibot","title":"Index"},{"location":"high-level/bot/blueprint/","text":"Bot-Blueprint \u0411\u043b\u0443\u043f\u0440\u0438\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u044b \u0434\u043b\u044f \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u0434\u0430. \u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043a\u0430\u043a \u043e\u043d\u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f \u043c\u043e\u0436\u043d\u043e \u0432 \u044d\u0442\u043e\u043c \u043f\u0440\u0438\u043c\u0435\u0440\u0435 \u0411\u043b\u0443\u043f\u0440\u0438\u043d\u0442\u044b \u0438\u043c\u0435\u044e\u0442 \u0441\u0445\u043e\u0436\u0438\u0439 \u0441 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u043e\u043c \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u043d\u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441, \u043d\u043e \u0435\u0441\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043c\u0435\u0442\u043e\u0434 load \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0438\u043d\u0441\u0442\u0430\u043d\u0441 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0430 \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043d\u0430\u0434\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0431\u043b\u0443\u043f\u0440\u0438\u043d\u0442","title":"Blueprint"},{"location":"high-level/bot/blueprint/#bot-blueprint","text":"\u0411\u043b\u0443\u043f\u0440\u0438\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u044b \u0434\u043b\u044f \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u0434\u0430. \u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043a\u0430\u043a \u043e\u043d\u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f \u043c\u043e\u0436\u043d\u043e \u0432 \u044d\u0442\u043e\u043c \u043f\u0440\u0438\u043c\u0435\u0440\u0435 \u0411\u043b\u0443\u043f\u0440\u0438\u043d\u0442\u044b \u0438\u043c\u0435\u044e\u0442 \u0441\u0445\u043e\u0436\u0438\u0439 \u0441 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u043e\u043c \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u043d\u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441, \u043d\u043e \u0435\u0441\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043c\u0435\u0442\u043e\u0434 load \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0438\u043d\u0441\u0442\u0430\u043d\u0441 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0430 \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043d\u0430\u0434\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0431\u043b\u0443\u043f\u0440\u0438\u043d\u0442","title":"Bot-Blueprint"},{"location":"high-level/bot/bot/","text":"Bot \u0418\u043d\u0441\u0442\u0430\u043d\u0441 \u0431\u043e\u0442\u0430 \u044d\u0442\u043e \u0430\u0434\u0434\u043e\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0449\u0438\u0439 \u0438\u0437 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e \u0430\u043f\u0438 \u0438 \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0445 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0430, \u0442\u0430\u043a \u0436\u0435 \u043e\u043d \u0443\u043c\u0435\u0435\u0442 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u043b\u043e\u043d\u0433\u043f\u043e\u043b \u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044b: bot.api - API \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f bot.router - Router \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f bot.labeler / bot.on - Labeler \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f bot.polling - Polling \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f bot.callback - Callback \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f bot.loop_wrapper - Loop Wrapper \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f bot.loop - \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 event loop \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u044b\u043b \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0438\u043b\u0438 \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0435\u0433\u043e bot.error - \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 error handler \u0431\u043e\u0442\u0430 \u0438\u0437 bot.router . \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0434\u043b\u044f \u043a\u0440\u0430\u0442\u043a\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u0424\u0443\u043d\u043a\u0446\u0438\u0438: \u0420\u0430\u0431\u043e\u0442\u0430 \u0447\u0435\u0440\u0435\u0437 Long Poll API bot.run_polling() \u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0439 \u0437\u0430\u043f\u0443\u0441\u043a longpoll bot.run_forever() \u0421\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0439 \u0437\u0430\u043f\u0443\u0441\u043a longpoll. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 run_polling \u0432 \u0442\u0430\u0441\u043a\u0438 bot.loop_wrapper \u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442 \u043b\u0443\u043f \u0432 run_forever \u0420\u0430\u0431\u043e\u0442\u0430 \u0447\u0435\u0440\u0435\u0437 Callback API bot.setup_webhook() \u0423\u0441\u0442\u0430\u043d\u0430\u043b\u0438\u0432\u0430\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440 \u0434\u043b\u044f CallbackAPI \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e bot.process_event(event) \u041f\u0435\u0440\u0435\u0434\u0430\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u0432 \u0440\u043e\u0443\u0442\u0435\u0440, \u0434\u043b\u044f \u0435\u0433\u043e \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438","title":"Bot"},{"location":"high-level/bot/bot/#bot","text":"\u0418\u043d\u0441\u0442\u0430\u043d\u0441 \u0431\u043e\u0442\u0430 \u044d\u0442\u043e \u0430\u0434\u0434\u043e\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0449\u0438\u0439 \u0438\u0437 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e \u0430\u043f\u0438 \u0438 \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0445 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0430, \u0442\u0430\u043a \u0436\u0435 \u043e\u043d \u0443\u043c\u0435\u0435\u0442 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u043b\u043e\u043d\u0433\u043f\u043e\u043b \u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044b: bot.api - API \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f bot.router - Router \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f bot.labeler / bot.on - Labeler \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f bot.polling - Polling \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f bot.callback - Callback \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f bot.loop_wrapper - Loop Wrapper \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f bot.loop - \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 event loop \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u044b\u043b \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0438\u043b\u0438 \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0435\u0433\u043e bot.error - \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 error handler \u0431\u043e\u0442\u0430 \u0438\u0437 bot.router . \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0434\u043b\u044f \u043a\u0440\u0430\u0442\u043a\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u0424\u0443\u043d\u043a\u0446\u0438\u0438:","title":"Bot"},{"location":"high-level/bot/bot/#long-poll-api","text":"","title":"\u0420\u0430\u0431\u043e\u0442\u0430 \u0447\u0435\u0440\u0435\u0437 Long Poll API"},{"location":"high-level/bot/bot/#botrun_polling","text":"\u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0439 \u0437\u0430\u043f\u0443\u0441\u043a longpoll","title":"bot.run_polling()"},{"location":"high-level/bot/bot/#botrun_forever","text":"\u0421\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0439 \u0437\u0430\u043f\u0443\u0441\u043a longpoll. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 run_polling \u0432 \u0442\u0430\u0441\u043a\u0438 bot.loop_wrapper \u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442 \u043b\u0443\u043f \u0432 run_forever","title":"bot.run_forever()"},{"location":"high-level/bot/bot/#callback-api","text":"","title":"\u0420\u0430\u0431\u043e\u0442\u0430 \u0447\u0435\u0440\u0435\u0437 Callback API"},{"location":"high-level/bot/bot/#botsetup_webhook","text":"\u0423\u0441\u0442\u0430\u043d\u0430\u043b\u0438\u0432\u0430\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440 \u0434\u043b\u044f CallbackAPI \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e","title":"bot.setup_webhook()"},{"location":"high-level/bot/bot/#botprocess_eventevent","text":"\u041f\u0435\u0440\u0435\u0434\u0430\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u0432 \u0440\u043e\u0443\u0442\u0435\u0440, \u0434\u043b\u044f \u0435\u0433\u043e \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438","title":"bot.process_event(event)"},{"location":"high-level/bot/labeler/","text":"Bot-Labeler \u0423\u0434\u043e\u0431\u043d\u0430\u044f \u043e\u0431\u043e\u043b\u043e\u0447\u043a\u0430 \u043d\u0430\u0434 \u0440\u043e\u0443\u0442\u0435\u0440\u0430\u043c\u0438. \u0421 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043b\u0435\u0439\u0431\u043b\u0435\u0440\u0430 \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b. \u041c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043e \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u043e\u0440\u0442\u0430\u0431\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0441\u043f\u0430\u0442\u0447\u0435\u0440\u0430. \u0418\u043c\u0435\u0435\u0442 \u043c\u0435\u0442\u043e\u0434 load \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0434\u043e\u043b\u0436\u0435\u043d \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0442\u044c \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u0438 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 \u0432 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043b\u0435\u0439\u0431\u043b\u0435\u0440 \u0438\u0437 \u0434\u0430\u043d\u043d\u043e\u0433\u043e. \u041c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043e \u0434\u043b\u044f \u0440\u0430\u0437\u0431\u0438\u0432\u0430\u043d\u0438\u044f \u043a\u043e\u0434\u0430 \u043d\u0430 \u043c\u043d\u043e\u0433\u043e \u0447\u0430\u0441\u0442\u0435\u0439: bot.py from vkbottle import Bot from routes import labelers bot = Bot ( \"token\" ) for custom_labeler in labelers : bot . labeler . load ( custom_labeler ) bot . run_forever () routes/__init__.py from . import greetings , goodbyes labelers = [ greetings . bl , goodbyes . bl ] routes/greetings.py from vkbottle.bot import BotLabeler , Message bl = BotLabeler () @bl . message ( text = [ \"\u043f\u0440\u0438\u0432\u0435\u0442\" , \"\u0445\u0430\u0439\" , \"\u0437\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\" ]) async def greeting ( message : Message ): await message . answer ( \"\u041f\u0440\u0438\u0432\u0435\u0442, \u0434\u0440\u0443\u0433\" ) routes/goodbyes.py from vkbottle.bot import BotLabeler , Message bl = BotLabeler () @bl . message ( text = [ \"\u043f\u043e\u043a\u0430\" , \"\u0434\u043e \u0441\u0432\u0438\u0434\u0430\u043d\u0438\u044f\" ]) async def greeting ( message : Message ): await message . answer ( \"\u0414\u043e \u043d\u043e\u0432\u044b\u0445 \u0432\u0441\u0442\u0440\u0435\u0447\" )","title":"Labeler"},{"location":"high-level/bot/labeler/#bot-labeler","text":"\u0423\u0434\u043e\u0431\u043d\u0430\u044f \u043e\u0431\u043e\u043b\u043e\u0447\u043a\u0430 \u043d\u0430\u0434 \u0440\u043e\u0443\u0442\u0435\u0440\u0430\u043c\u0438. \u0421 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043b\u0435\u0439\u0431\u043b\u0435\u0440\u0430 \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b. \u041c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043e \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u043e\u0440\u0442\u0430\u0431\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0441\u043f\u0430\u0442\u0447\u0435\u0440\u0430. \u0418\u043c\u0435\u0435\u0442 \u043c\u0435\u0442\u043e\u0434 load \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0434\u043e\u043b\u0436\u0435\u043d \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0442\u044c \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u0438 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 \u0432 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043b\u0435\u0439\u0431\u043b\u0435\u0440 \u0438\u0437 \u0434\u0430\u043d\u043d\u043e\u0433\u043e. \u041c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043e \u0434\u043b\u044f \u0440\u0430\u0437\u0431\u0438\u0432\u0430\u043d\u0438\u044f \u043a\u043e\u0434\u0430 \u043d\u0430 \u043c\u043d\u043e\u0433\u043e \u0447\u0430\u0441\u0442\u0435\u0439: bot.py from vkbottle import Bot from routes import labelers bot = Bot ( \"token\" ) for custom_labeler in labelers : bot . labeler . load ( custom_labeler ) bot . run_forever () routes/__init__.py from . import greetings , goodbyes labelers = [ greetings . bl , goodbyes . bl ] routes/greetings.py from vkbottle.bot import BotLabeler , Message bl = BotLabeler () @bl . message ( text = [ \"\u043f\u0440\u0438\u0432\u0435\u0442\" , \"\u0445\u0430\u0439\" , \"\u0437\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\" ]) async def greeting ( message : Message ): await message . answer ( \"\u041f\u0440\u0438\u0432\u0435\u0442, \u0434\u0440\u0443\u0433\" ) routes/goodbyes.py from vkbottle.bot import BotLabeler , Message bl = BotLabeler () @bl . message ( text = [ \"\u043f\u043e\u043a\u0430\" , \"\u0434\u043e \u0441\u0432\u0438\u0434\u0430\u043d\u0438\u044f\" ]) async def greeting ( message : Message ): await message . answer ( \"\u0414\u043e \u043d\u043e\u0432\u044b\u0445 \u0432\u0441\u0442\u0440\u0435\u0447\" )","title":"Bot-Labeler"},{"location":"high-level/bot/multibot/","text":"Bot-Multibot \u041c\u0443\u043b\u044c\u0442\u0438\u0431\u043e\u0442 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u043e\u043d\u0433\u043f\u043e\u043b\u043e\u0432 \u043d\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u044b\u0445 \u0432\u0430\u043c\u0438 API \u0438 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c\u044b\u0435 \u0438\u0432\u0435\u043d\u0442\u044b \u0441\u043e \u0432\u0441\u0435\u0445 \u043b\u043e\u043d\u0433\u043f\u043e\u043b\u043e\u0432 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043e\u0434\u043d\u043e\u0433\u043e \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0431\u043e\u0442\u0430. \u042d\u0442\u0430 \u0438\u0434\u0435\u044f \u0432\u0441\u0442\u0440\u0435\u0447\u0430\u0435\u0442\u0441\u044f \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0432 \u0447\u0430\u0442-\u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0435 \u0441 \u0438\u0445 \u0441\u0443\u0431\u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430\u043c\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0430 \u0432 \u0440\u0430\u0437\u043d\u044b\u0445 \u0446\u0435\u043b\u044f\u0445 \u041f\u0440\u0438\u043c\u0435\u0440 \u043c\u0443\u043b\u044c\u0442\u0438\u0431\u043e\u0442\u0430 \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0437\u0434\u0435\u0441\u044c run_multibot(bot, apis, polling_type=BotPolling) \u0414\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0442\u0430\u043a\u043e\u0433\u043e \u0431\u043e\u0442\u0430 \u0432\u0430\u043c \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u0441\u044f run_multibot , \u043e\u043d \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u0437\u0430\u043f\u0443\u0441\u043a\u0438 \u043b\u043e\u043d\u0433\u043f\u043e\u043b\u0430 \u043a\u0430\u043a \u0442\u0430\u0441\u043a\u0438 \u0438 \u043d\u0430\u0432\u0441\u0435\u0433\u0434\u0430 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442 event loop . \u0415\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0437 vkbottle.bot \u041e\u0441\u043d\u043e\u0432\u043d\u043e\u043c\u0443 \u0431\u043e\u0442\u0443 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c \u0442\u043e\u043a\u0435\u043d \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f API \u043d\u0435 \u043d\u0443\u0436\u043d\u043e apis - \u043b\u044e\u0431\u043e\u0439 \u0438\u0442\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 (\u0442\u043e \u0435\u0441\u0442\u044c \u043c\u043e\u0436\u043d\u043e \u043b\u0435\u0433\u043a\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u043f\u0440\u0438 \u0436\u0435\u043b\u0430\u043d\u0438\u0438) polling_type - \u0435\u0441\u043b\u0438 \u0432\u044b \u043a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0438\u0440\u0443\u0435\u0442\u0435 \u043f\u043e\u043b\u043b\u0438\u043d\u0433 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u044d\u0442\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435","title":"Multibot"},{"location":"high-level/bot/multibot/#bot-multibot","text":"\u041c\u0443\u043b\u044c\u0442\u0438\u0431\u043e\u0442 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u043e\u043d\u0433\u043f\u043e\u043b\u043e\u0432 \u043d\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u044b\u0445 \u0432\u0430\u043c\u0438 API \u0438 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c\u044b\u0435 \u0438\u0432\u0435\u043d\u0442\u044b \u0441\u043e \u0432\u0441\u0435\u0445 \u043b\u043e\u043d\u0433\u043f\u043e\u043b\u043e\u0432 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043e\u0434\u043d\u043e\u0433\u043e \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0431\u043e\u0442\u0430. \u042d\u0442\u0430 \u0438\u0434\u0435\u044f \u0432\u0441\u0442\u0440\u0435\u0447\u0430\u0435\u0442\u0441\u044f \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0432 \u0447\u0430\u0442-\u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0435 \u0441 \u0438\u0445 \u0441\u0443\u0431\u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430\u043c\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0430 \u0432 \u0440\u0430\u0437\u043d\u044b\u0445 \u0446\u0435\u043b\u044f\u0445 \u041f\u0440\u0438\u043c\u0435\u0440 \u043c\u0443\u043b\u044c\u0442\u0438\u0431\u043e\u0442\u0430 \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0437\u0434\u0435\u0441\u044c","title":"Bot-Multibot"},{"location":"high-level/bot/multibot/#run_multibotbot-apis-polling_typebotpolling","text":"\u0414\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0442\u0430\u043a\u043e\u0433\u043e \u0431\u043e\u0442\u0430 \u0432\u0430\u043c \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u0441\u044f run_multibot , \u043e\u043d \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u0437\u0430\u043f\u0443\u0441\u043a\u0438 \u043b\u043e\u043d\u0433\u043f\u043e\u043b\u0430 \u043a\u0430\u043a \u0442\u0430\u0441\u043a\u0438 \u0438 \u043d\u0430\u0432\u0441\u0435\u0433\u0434\u0430 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442 event loop . \u0415\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0437 vkbottle.bot \u041e\u0441\u043d\u043e\u0432\u043d\u043e\u043c\u0443 \u0431\u043e\u0442\u0443 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c \u0442\u043e\u043a\u0435\u043d \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f API \u043d\u0435 \u043d\u0443\u0436\u043d\u043e apis - \u043b\u044e\u0431\u043e\u0439 \u0438\u0442\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 (\u0442\u043e \u0435\u0441\u0442\u044c \u043c\u043e\u0436\u043d\u043e \u043b\u0435\u0433\u043a\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u043f\u0440\u0438 \u0436\u0435\u043b\u0430\u043d\u0438\u0438) polling_type - \u0435\u0441\u043b\u0438 \u0432\u044b \u043a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0438\u0440\u0443\u0435\u0442\u0435 \u043f\u043e\u043b\u043b\u0438\u043d\u0433 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u044d\u0442\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435","title":"run_multibot(bot, apis, polling_type=BotPolling)"},{"location":"high-level/handling/","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0430: \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432 \u0438 \u0438\u0445 \u043a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0430\u0446\u0438\u044f Handler Return Manager State Dispenser View Middleware","title":"Index"},{"location":"high-level/handling/handler/","text":"Handling-Handler \u0425\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u044d\u0442\u043e \u043a\u043e\u043d\u0435\u0447\u043d\u0430\u044f \u0442\u043e\u0447\u043a\u0430 \u0432 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0439. \u0425\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u043c\u0438 (\u0435\u0441\u043b\u0438 \u043d\u0430\u0448\u0435\u043b\u0441\u044f \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0439 \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u0434\u0440\u0443\u0433\u0438\u0435 \u0443\u0436\u0435 \u043d\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u044e\u0442\u0441\u044f \u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f) \u0438 \u043d\u0435 \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u043c\u0438 (\u0432 \u0442\u0430\u043a\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c\u044b\u0445 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432 \u043d\u0435 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043e \u0438 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0442\u043e\u0433\u043e \u043a\u0430\u043a\u0438\u0435 \u043f\u0440\u043e\u0439\u0434\u0443\u0442). \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0432\u0441\u0435 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u043c\u0438 \u0425\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u043f\u043e\u043c\u0435\u0447\u0430\u044e\u0442\u0441\u044f (\u043b\u0435\u0439\u0431\u043b\u0438\u0440\u0443\u044e\u0442\u0441\u044f) \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u043e\u0432. \u0417\u0430 \u044d\u0442\u043e \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 Labeler high-level \u0438\u043d\u0441\u0442\u0430\u043d\u0441\u0430 \u0441 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0432\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442\u0435. \u041f\u0440\u0438\u043c\u0435\u0440 \u0441 \u0431\u043e\u0442\u043e\u043c: from vkbottle.bot import Bot , Message bot = Bot ( \"token\" ) @bot . on . message () async def any_message ( message : Message ): await message . answer ( \"\u041f\u0440\u0438\u0432\u0435\u0442 \u044f \u0431\u043e\u0442\" ) bot . run_forever () \u0425\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u0431\u043e\u0442\u043e\u0432 message \u042d\u0442\u043e\u0442 \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u043f\u043e\u043a\u0430\u0437\u0430\u043d \u0432 \u043f\u0440\u0438\u043c\u0435\u0440\u0435 \u0432\u044b\u0448\u0435 \u0425\u0435\u043d\u0434\u043b\u0435\u0440 \u043d\u0430 \u0432\u0441\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f (\u0438 \u0438\u0437 \u0447\u0430\u0442\u0430, \u0438 \u0438\u0437 \u043b\u0438\u0447\u043d\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439) chat_message \u0425\u0435\u043d\u0434\u043b\u0435\u0440 \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0438\u0437 \u0447\u0430\u0442\u043e\u0432 private_message \u0425\u0435\u043d\u0434\u043b\u0435\u0440 \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0438\u0437 \u043b\u0438\u0447\u043d\u044b\u0445 \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432 \u0422\u0438\u043f\u044b \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432 \u0432\u044b\u0448\u0435 \u043d\u0435 \u0434\u0435\u043b\u0430\u044e\u0442 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u043e\u0431\u044b\u0447\u043d\u043e\u0433\u043e, \u0430 \u043f\u0440\u043e\u0441\u0442\u043e \u043e\u043f\u0435\u0440\u0438\u0440\u0443\u044e\u0442 \u043f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u043c \u043f\u0440\u0430\u0432\u0438\u043b\u043e\u043c PeerRule . \u0412 message \u043e\u043d \u043d\u0435 \u043f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f, \u0432 chat_message - PeerRule(True) \u0432 private_message - PeerRule(False) \u0414\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0438\u043d\u0441\u0442\u0430\u043d\u0441\u044b \u043f\u0440\u0430\u0432\u0438\u043b ( ABCRule ) \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 kwargs \u043e\u043d \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0438\u0437 custom_rules (\u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043c\u043e\u0436\u043d\u043e \u043a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 Labeler.custom_rules ) \u0443\u0440\u0430\u0432\u043d\u0435\u043d\u043d\u043e\u0435 \u0441\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u044d\u0442\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u043e \u0431\u0443\u0434\u0435\u0442 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043e, \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f VBMLRule , \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043f\u043e\u0434 \u0438\u043c\u0435\u043d\u0435\u043c text \u0434\u043e\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f Patcher '\u043e\u043c \u0432 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u043c \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0435, \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u0442\u043e\u0436\u0435 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 Labeler 'e \u0415\u0441\u043b\u0438 \u043f\u0440\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435 \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u0444\u0438\u043b\u044c\u0442\u0440 ( ABCHandler.filter ) \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u043b\u043e\u0432\u0430\u0440\u044c, \u0442\u043e \u044d\u0442\u043e\u0442 \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0432\u043f\u043e\u0441\u043b\u0435\u0434\u0441\u0442\u0432\u0438\u0438 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u0430\u043d \u043f\u0440\u0438 \u0432\u044b\u0437\u043e\u0432\u0435 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430 (\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u0435\u0433\u043e \u043d\u0435\u043f\u043e\u0437\u0438\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u043f\u043e\u0437\u0438\u0446\u0438\u043e\u043d\u043d\u044b\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c \u043a\u043b\u0430\u0441\u0441\u0430 Message \u0438\u043b\u0438 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0438\u0432\u0435\u043d\u0442\u0430)","title":"Handler"},{"location":"high-level/handling/handler/#handling-handler","text":"\u0425\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u044d\u0442\u043e \u043a\u043e\u043d\u0435\u0447\u043d\u0430\u044f \u0442\u043e\u0447\u043a\u0430 \u0432 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0439. \u0425\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u043c\u0438 (\u0435\u0441\u043b\u0438 \u043d\u0430\u0448\u0435\u043b\u0441\u044f \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0439 \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u0434\u0440\u0443\u0433\u0438\u0435 \u0443\u0436\u0435 \u043d\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u044e\u0442\u0441\u044f \u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f) \u0438 \u043d\u0435 \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u043c\u0438 (\u0432 \u0442\u0430\u043a\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c\u044b\u0445 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432 \u043d\u0435 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043e \u0438 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0442\u043e\u0433\u043e \u043a\u0430\u043a\u0438\u0435 \u043f\u0440\u043e\u0439\u0434\u0443\u0442). \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0432\u0441\u0435 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u043c\u0438 \u0425\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u043f\u043e\u043c\u0435\u0447\u0430\u044e\u0442\u0441\u044f (\u043b\u0435\u0439\u0431\u043b\u0438\u0440\u0443\u044e\u0442\u0441\u044f) \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u043e\u0432. \u0417\u0430 \u044d\u0442\u043e \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 Labeler high-level \u0438\u043d\u0441\u0442\u0430\u043d\u0441\u0430 \u0441 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0432\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442\u0435. \u041f\u0440\u0438\u043c\u0435\u0440 \u0441 \u0431\u043e\u0442\u043e\u043c: from vkbottle.bot import Bot , Message bot = Bot ( \"token\" ) @bot . on . message () async def any_message ( message : Message ): await message . answer ( \"\u041f\u0440\u0438\u0432\u0435\u0442 \u044f \u0431\u043e\u0442\" ) bot . run_forever ()","title":"Handling-Handler"},{"location":"high-level/handling/handler/#_1","text":"","title":"\u0425\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u0431\u043e\u0442\u043e\u0432"},{"location":"high-level/handling/handler/#message","text":"\u042d\u0442\u043e\u0442 \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u043f\u043e\u043a\u0430\u0437\u0430\u043d \u0432 \u043f\u0440\u0438\u043c\u0435\u0440\u0435 \u0432\u044b\u0448\u0435 \u0425\u0435\u043d\u0434\u043b\u0435\u0440 \u043d\u0430 \u0432\u0441\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f (\u0438 \u0438\u0437 \u0447\u0430\u0442\u0430, \u0438 \u0438\u0437 \u043b\u0438\u0447\u043d\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439)","title":"message"},{"location":"high-level/handling/handler/#chat_message","text":"\u0425\u0435\u043d\u0434\u043b\u0435\u0440 \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0438\u0437 \u0447\u0430\u0442\u043e\u0432","title":"chat_message"},{"location":"high-level/handling/handler/#private_message","text":"\u0425\u0435\u043d\u0434\u043b\u0435\u0440 \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0438\u0437 \u043b\u0438\u0447\u043d\u044b\u0445 \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432 \u0422\u0438\u043f\u044b \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432 \u0432\u044b\u0448\u0435 \u043d\u0435 \u0434\u0435\u043b\u0430\u044e\u0442 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u043e\u0431\u044b\u0447\u043d\u043e\u0433\u043e, \u0430 \u043f\u0440\u043e\u0441\u0442\u043e \u043e\u043f\u0435\u0440\u0438\u0440\u0443\u044e\u0442 \u043f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u043c \u043f\u0440\u0430\u0432\u0438\u043b\u043e\u043c PeerRule . \u0412 message \u043e\u043d \u043d\u0435 \u043f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f, \u0432 chat_message - PeerRule(True) \u0432 private_message - PeerRule(False) \u0414\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0438\u043d\u0441\u0442\u0430\u043d\u0441\u044b \u043f\u0440\u0430\u0432\u0438\u043b ( ABCRule ) \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 kwargs \u043e\u043d \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0438\u0437 custom_rules (\u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043c\u043e\u0436\u043d\u043e \u043a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 Labeler.custom_rules ) \u0443\u0440\u0430\u0432\u043d\u0435\u043d\u043d\u043e\u0435 \u0441\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u044d\u0442\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u043e \u0431\u0443\u0434\u0435\u0442 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043e, \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f VBMLRule , \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043f\u043e\u0434 \u0438\u043c\u0435\u043d\u0435\u043c text \u0434\u043e\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f Patcher '\u043e\u043c \u0432 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u043c \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0435, \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u0442\u043e\u0436\u0435 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 Labeler 'e \u0415\u0441\u043b\u0438 \u043f\u0440\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435 \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u0444\u0438\u043b\u044c\u0442\u0440 ( ABCHandler.filter ) \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u043b\u043e\u0432\u0430\u0440\u044c, \u0442\u043e \u044d\u0442\u043e\u0442 \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0432\u043f\u043e\u0441\u043b\u0435\u0434\u0441\u0442\u0432\u0438\u0438 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u0430\u043d \u043f\u0440\u0438 \u0432\u044b\u0437\u043e\u0432\u0435 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430 (\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u0435\u0433\u043e \u043d\u0435\u043f\u043e\u0437\u0438\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u043f\u043e\u0437\u0438\u0446\u0438\u043e\u043d\u043d\u044b\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c \u043a\u043b\u0430\u0441\u0441\u0430 Message \u0438\u043b\u0438 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0438\u0432\u0435\u043d\u0442\u0430)","title":"private_message"},{"location":"high-level/handling/middleware/","text":"Middleware \u041c\u0438\u0434\u043b\u0432\u0430\u0440\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u0435\u0442\u043e\u0434\u044b pre \u0438/\u0438\u043b\u0438 post . pre \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0434\u043e \u043f\u043e\u0438\u0441\u043a\u0430 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432, \u0430 post \u043f\u043e\u0441\u043b\u0435. \u041c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 \u0432\u0441\u0435\u0433\u0434\u0430 \u0440\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0438\u0437 labeler \u0410\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441 \u0434\u043b\u044f \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439 - BaseMiddleware \u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0438\u0432\u0435\u043d\u0442 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 pre / post \u043d\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432, \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0442\u044c None : self.stop(\u043e\u0448\u0438\u0431\u043a\u0430) \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 view \u0441\u0440\u043e\u0447\u043d\u043e \u043e\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f self.send({\u043a\u043b\u044e\u0447: \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}) \u0432 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b (\u043a\u043b\u044e\u0447 - \u0438\u043c\u044f \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430) BaseMiddleware , \u0438\u043c\u0435\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430\u043c: event (\u0441\u0430\u043c \u0435\u0432\u0435\u043d\u0442, \u043a\u0430\u043a \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0433\u043e \u0442\u0438\u043f, \u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u043d\u0438\u0436\u0435) view: ABCView (\u0441 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0431\u044b\u043b \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d \u0438\u0432\u0435\u043d\u0442) handle_responses: list (\u0432\u0441\u0435 \u0442\u043e \u0447\u0442\u043e \u0432\u0435\u0440\u043d\u0443\u043b\u0438 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u043f\u043e \u043f\u043e\u0440\u044f\u0434\u043a\u0443 \u0438\u0445 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f) handlers: List[ABCHandler] (\u0432\u0441\u0435 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u0447\u0442\u043e \u0431\u044b\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u044b) \u0422\u0438\u043f \u0438\u0432\u0435\u043d\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c, \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432 \u0434\u0436\u0435\u043d\u0435\u0440\u0438\u043a\u0435 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u0430 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: from vkbottle import BaseMiddleware from vkbottle.bot import Message class MyMiddleware ( BaseMiddleware [ Message ]): ... \u0414\u043b\u044f message_view \u044d\u0442\u043e Message (\u0440\u0430\u0437\u043d\u044b\u0439 \u0434\u043b\u044f Bot \u0438 User ), \u0430 \u0434\u043b\u044f raw_event_view \u0441\u043b\u043e\u0432\u0430\u0440\u044c (\u0434\u043b\u044f Bot ) \u0438\u043b\u0438 \u043b\u0438\u0441\u0442 (\u0434\u043b\u044f User ) \u0411\u043e\u043b\u044c\u0448\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0432 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0437\u0434\u0435\u0441\u044c","title":"Middleware"},{"location":"high-level/handling/middleware/#middleware","text":"\u041c\u0438\u0434\u043b\u0432\u0430\u0440\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u0435\u0442\u043e\u0434\u044b pre \u0438/\u0438\u043b\u0438 post . pre \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0434\u043e \u043f\u043e\u0438\u0441\u043a\u0430 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432, \u0430 post \u043f\u043e\u0441\u043b\u0435. \u041c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 \u0432\u0441\u0435\u0433\u0434\u0430 \u0440\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0438\u0437 labeler \u0410\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441 \u0434\u043b\u044f \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439 - BaseMiddleware \u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0438\u0432\u0435\u043d\u0442 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 pre / post \u043d\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432, \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0442\u044c None : self.stop(\u043e\u0448\u0438\u0431\u043a\u0430) \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 view \u0441\u0440\u043e\u0447\u043d\u043e \u043e\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f self.send({\u043a\u043b\u044e\u0447: \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}) \u0432 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b (\u043a\u043b\u044e\u0447 - \u0438\u043c\u044f \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430) BaseMiddleware , \u0438\u043c\u0435\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430\u043c: event (\u0441\u0430\u043c \u0435\u0432\u0435\u043d\u0442, \u043a\u0430\u043a \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0433\u043e \u0442\u0438\u043f, \u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u043d\u0438\u0436\u0435) view: ABCView (\u0441 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0431\u044b\u043b \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d \u0438\u0432\u0435\u043d\u0442) handle_responses: list (\u0432\u0441\u0435 \u0442\u043e \u0447\u0442\u043e \u0432\u0435\u0440\u043d\u0443\u043b\u0438 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u043f\u043e \u043f\u043e\u0440\u044f\u0434\u043a\u0443 \u0438\u0445 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f) handlers: List[ABCHandler] (\u0432\u0441\u0435 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u0447\u0442\u043e \u0431\u044b\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u044b) \u0422\u0438\u043f \u0438\u0432\u0435\u043d\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c, \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432 \u0434\u0436\u0435\u043d\u0435\u0440\u0438\u043a\u0435 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u0430 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: from vkbottle import BaseMiddleware from vkbottle.bot import Message class MyMiddleware ( BaseMiddleware [ Message ]): ... \u0414\u043b\u044f message_view \u044d\u0442\u043e Message (\u0440\u0430\u0437\u043d\u044b\u0439 \u0434\u043b\u044f Bot \u0438 User ), \u0430 \u0434\u043b\u044f raw_event_view \u0441\u043b\u043e\u0432\u0430\u0440\u044c (\u0434\u043b\u044f Bot ) \u0438\u043b\u0438 \u043b\u0438\u0441\u0442 (\u0434\u043b\u044f User ) \u0411\u043e\u043b\u044c\u0448\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0432 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0437\u0434\u0435\u0441\u044c","title":"Middleware"},{"location":"high-level/handling/return-manager/","text":"Return-Manager \u0414\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e view \u043c\u043e\u0436\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c handler_return_manager . \u042d\u0442\u043e\u0442 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0442\u043e, \u0447\u0442\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f \u0438\u0437 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u0435\u0441\u043b\u0438 \u0432\u0435\u0440\u043d\u0435\u0442\u0441\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u0442\u043e \u043e\u043d\u0430 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043a\u0430\u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u044b \u043f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b \u0432 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 view . \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0434\u043b\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439: \u0435\u0441\u043b\u0438 \u0432\u0435\u0440\u043d\u0435\u0442\u0441\u044f \u0441\u0442\u0440\u043e\u043a\u0430 - \u043e\u043d\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0441\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435\u043c, \u0435\u0441\u043b\u0438 \u043a\u043e\u0440\u0442\u0435\u0436 \u0438\u043b\u0438 \u043b\u0438\u0441\u0442, \u0432\u0441\u0435 \u0435\u0433\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u044f\u0442\u0441\u044f \u043a\u0430\u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435, \u0435\u0441\u043b\u0438 \u0441\u043b\u043e\u0432\u0430\u0440\u044c - \u043e\u043d \u0440\u0430\u0441\u043f\u0430\u043a\u0443\u0435\u0442\u0441\u044f \u0432 \u043c\u0435\u0442\u043e\u0434 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f. \u0412\u043e\u0442 \u0442\u0430\u043a \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u0435\u0433\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f: from vkbottle import BaseReturnManager from vkbottle.bot import Message from typing import Union class BotMessageReturnHandler ( BaseReturnManager ): @BaseReturnManager . instance_of ( str ) async def str_handler ( self , value : str , message : Message , _ : dict ): await message . answer ( value ) @BaseReturnManager . instance_of (( tuple , list )) async def iter_handler ( self , value : Union [ tuple , list ], message : Message , _ : dict ): [ await message . answer ( str ( e )) for e in value ] @BaseReturnManager . instance_of ( dict ) async def dict_handler ( self , value : dict , message : Message , _ : dict ): await message . answer ( ** value ) \u041f\u0435\u0440\u0432\u044b\u043c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0432 \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442 \u0441\u0430\u043c\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435, \u0447\u0442\u043e \u0431\u044b\u043b\u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e \u0438\u0437 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430, \u0432\u0442\u043e\u0440\u044b\u043c - \u043e\u0431\u044a\u0435\u043a\u0442 \u0438\u0432\u0435\u043d\u0442\u0430, \u0442\u0440\u0435\u0442\u044c\u0438\u043c - \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u0437 \u0440\u0443\u043b\u0437\u043e\u0432 \u0438 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439 \u0434\u043b\u044f \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430 \u0425\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u043e\u0431\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0432 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440 instance_of , \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 \u0442\u0438\u043f \u0438\u043b\u0438 \u043a\u043e\u0440\u0442\u0435\u0436 \u0442\u0438\u043f\u043e\u0432","title":"Return Manager"},{"location":"high-level/handling/return-manager/#return-manager","text":"\u0414\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e view \u043c\u043e\u0436\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c handler_return_manager . \u042d\u0442\u043e\u0442 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0442\u043e, \u0447\u0442\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f \u0438\u0437 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u0435\u0441\u043b\u0438 \u0432\u0435\u0440\u043d\u0435\u0442\u0441\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u0442\u043e \u043e\u043d\u0430 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043a\u0430\u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u044b \u043f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b \u0432 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 view . \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0434\u043b\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439: \u0435\u0441\u043b\u0438 \u0432\u0435\u0440\u043d\u0435\u0442\u0441\u044f \u0441\u0442\u0440\u043e\u043a\u0430 - \u043e\u043d\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0441\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435\u043c, \u0435\u0441\u043b\u0438 \u043a\u043e\u0440\u0442\u0435\u0436 \u0438\u043b\u0438 \u043b\u0438\u0441\u0442, \u0432\u0441\u0435 \u0435\u0433\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u044f\u0442\u0441\u044f \u043a\u0430\u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435, \u0435\u0441\u043b\u0438 \u0441\u043b\u043e\u0432\u0430\u0440\u044c - \u043e\u043d \u0440\u0430\u0441\u043f\u0430\u043a\u0443\u0435\u0442\u0441\u044f \u0432 \u043c\u0435\u0442\u043e\u0434 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f. \u0412\u043e\u0442 \u0442\u0430\u043a \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u0435\u0433\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f: from vkbottle import BaseReturnManager from vkbottle.bot import Message from typing import Union class BotMessageReturnHandler ( BaseReturnManager ): @BaseReturnManager . instance_of ( str ) async def str_handler ( self , value : str , message : Message , _ : dict ): await message . answer ( value ) @BaseReturnManager . instance_of (( tuple , list )) async def iter_handler ( self , value : Union [ tuple , list ], message : Message , _ : dict ): [ await message . answer ( str ( e )) for e in value ] @BaseReturnManager . instance_of ( dict ) async def dict_handler ( self , value : dict , message : Message , _ : dict ): await message . answer ( ** value ) \u041f\u0435\u0440\u0432\u044b\u043c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0432 \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442 \u0441\u0430\u043c\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435, \u0447\u0442\u043e \u0431\u044b\u043b\u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e \u0438\u0437 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430, \u0432\u0442\u043e\u0440\u044b\u043c - \u043e\u0431\u044a\u0435\u043a\u0442 \u0438\u0432\u0435\u043d\u0442\u0430, \u0442\u0440\u0435\u0442\u044c\u0438\u043c - \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u0437 \u0440\u0443\u043b\u0437\u043e\u0432 \u0438 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439 \u0434\u043b\u044f \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430 \u0425\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u043e\u0431\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0432 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440 instance_of , \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 \u0442\u0438\u043f \u0438\u043b\u0438 \u043a\u043e\u0440\u0442\u0435\u0436 \u0442\u0438\u043f\u043e\u0432","title":"Return-Manager"},{"location":"high-level/handling/state-dispenser/","text":"State-Dispenser StateDispenser'\u044b \u043d\u0443\u0436\u043d\u044b, \u0447\u0442\u043e\u0431\u044b \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u043e\u0432\u044b\u0432\u0430\u0442\u044c \u0432\u0435\u0442\u043e\u0447\u043d\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. \u0421\u043b\u043e\u0436\u043d\u043e\u0435 \u043c\u0435\u043d\u044e - \u0441\u0442\u0435\u0439\u0442\u044b, \u043a\u0432\u0438\u0437 - \u0441\u0442\u0435\u0439\u0442\u044b, \u043a\u0430\u043a\u0430\u044f-\u0442\u043e \u0438\u0433\u0440\u0430 - \u0441\u0442\u0435\u0439\u0442\u044b. StateDispenser \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043c\u0435\u0442\u043e\u0434\u044b: get \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 StatePeer (\u0435\u0441\u043b\u0438 \u0437\u0430\u043f\u0438\u0441\u044c \u043d\u0430 \u0437\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u044b\u0439 peer_id \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442) \u0438\u043b\u0438 None (\u0435\u0441\u043b\u0438 \u043d\u0435\u0442). \u041d\u0430 \u0432\u0445\u043e\u0434 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 peer_id set \u0414\u0435\u043b\u0430\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u044c. \u041d\u0430 \u0432\u0445\u043e\u0434 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 peer_id \u0438 state . delete \u0423\u0434\u0430\u043b\u044f\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u044c. \u041d\u0430 \u0432\u0445\u043e\u0434 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 peer_id \u0420\u0430\u0431\u043e\u0442\u0430 \u0441\u043e \u0441\u0442\u0435\u0439\u0442\u0430\u043c\u0438 \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u0442\u0435\u0439\u0442 \u043c\u043e\u0436\u043d\u043e \u0438\u0437 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u043b\u044e\u0431\u043e\u0433\u043e \u0438\u0432\u0435\u043d\u0442\u0430 event.state_peer.state \u0427\u0442\u043e\u0431\u044b \u0437\u0430\u0434\u0430\u0442\u044c \u0441\u0442\u0435\u0439\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e, \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0432\u044b\u0448\u0435\u0443\u043f\u043e\u043c\u044f\u043d\u0443\u0442\u044b\u043c \u043c\u0435\u0442\u043e\u0434\u043e\u043c set \u041b\u043e\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0441\u043e \u0441\u0442\u0435\u0439\u0442\u0430\u043c\u0438 \u0432 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430\u043c\u0438 \u043c\u043e\u0436\u043d\u043e \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e StateRule . \u041f\u0440\u0438\u043c\u0435\u0440: from vkbottle import BaseStateGroup from vkbottle.bot import Message , Bot bot = Bot ( \"t\" ) class SuperStates ( BaseStateGroup ): AWKWARD_STATE = \"awkward\" CONFIDENT_STATE = \"confident\" TERRIFYING_STATE = \"terrifying\" @bot . on . message ( state = SuperStates . AWKWARD_STATE ) # StateRule(SuperStates.AWKWARD_STATE) async def awkward_handler ( message : Message ): await message . answer ( \"oi awkward\" ) @bot . on . message ( lev = \"/die\" ) async def die_handler ( message : Message ): await bot . state_dispenser . set ( message . peer_id , SuperStates . AWKWARD_STATE ) return \"ok\" bot . run_forever () set \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c **payload \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u0437\u0436\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u043a\u0430\u043a \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0438\u0437 event.state_peer.payload # ... In handler: await bot . state_dispenser . set ( message . peer_id , SuperStates . TERRIFYING_STATE , something = 1 ) # ... With state: print ( event . state_peer . payload [ \"something\" ]) # 1","title":"State Dispenser"},{"location":"high-level/handling/state-dispenser/#state-dispenser","text":"StateDispenser'\u044b \u043d\u0443\u0436\u043d\u044b, \u0447\u0442\u043e\u0431\u044b \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u043e\u0432\u044b\u0432\u0430\u0442\u044c \u0432\u0435\u0442\u043e\u0447\u043d\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. \u0421\u043b\u043e\u0436\u043d\u043e\u0435 \u043c\u0435\u043d\u044e - \u0441\u0442\u0435\u0439\u0442\u044b, \u043a\u0432\u0438\u0437 - \u0441\u0442\u0435\u0439\u0442\u044b, \u043a\u0430\u043a\u0430\u044f-\u0442\u043e \u0438\u0433\u0440\u0430 - \u0441\u0442\u0435\u0439\u0442\u044b. StateDispenser \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043c\u0435\u0442\u043e\u0434\u044b:","title":"State-Dispenser"},{"location":"high-level/handling/state-dispenser/#get","text":"\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 StatePeer (\u0435\u0441\u043b\u0438 \u0437\u0430\u043f\u0438\u0441\u044c \u043d\u0430 \u0437\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u044b\u0439 peer_id \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442) \u0438\u043b\u0438 None (\u0435\u0441\u043b\u0438 \u043d\u0435\u0442). \u041d\u0430 \u0432\u0445\u043e\u0434 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 peer_id","title":"get"},{"location":"high-level/handling/state-dispenser/#set","text":"\u0414\u0435\u043b\u0430\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u044c. \u041d\u0430 \u0432\u0445\u043e\u0434 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 peer_id \u0438 state .","title":"set"},{"location":"high-level/handling/state-dispenser/#delete","text":"\u0423\u0434\u0430\u043b\u044f\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u044c. \u041d\u0430 \u0432\u0445\u043e\u0434 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 peer_id","title":"delete"},{"location":"high-level/handling/state-dispenser/#_1","text":"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u0442\u0435\u0439\u0442 \u043c\u043e\u0436\u043d\u043e \u0438\u0437 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u043b\u044e\u0431\u043e\u0433\u043e \u0438\u0432\u0435\u043d\u0442\u0430 event.state_peer.state \u0427\u0442\u043e\u0431\u044b \u0437\u0430\u0434\u0430\u0442\u044c \u0441\u0442\u0435\u0439\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e, \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0432\u044b\u0448\u0435\u0443\u043f\u043e\u043c\u044f\u043d\u0443\u0442\u044b\u043c \u043c\u0435\u0442\u043e\u0434\u043e\u043c set \u041b\u043e\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0441\u043e \u0441\u0442\u0435\u0439\u0442\u0430\u043c\u0438 \u0432 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430\u043c\u0438 \u043c\u043e\u0436\u043d\u043e \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e StateRule . \u041f\u0440\u0438\u043c\u0435\u0440: from vkbottle import BaseStateGroup from vkbottle.bot import Message , Bot bot = Bot ( \"t\" ) class SuperStates ( BaseStateGroup ): AWKWARD_STATE = \"awkward\" CONFIDENT_STATE = \"confident\" TERRIFYING_STATE = \"terrifying\" @bot . on . message ( state = SuperStates . AWKWARD_STATE ) # StateRule(SuperStates.AWKWARD_STATE) async def awkward_handler ( message : Message ): await message . answer ( \"oi awkward\" ) @bot . on . message ( lev = \"/die\" ) async def die_handler ( message : Message ): await bot . state_dispenser . set ( message . peer_id , SuperStates . AWKWARD_STATE ) return \"ok\" bot . run_forever () set \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c **payload \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u0437\u0436\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u043a\u0430\u043a \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0438\u0437 event.state_peer.payload # ... In handler: await bot . state_dispenser . set ( message . peer_id , SuperStates . TERRIFYING_STATE , something = 1 ) # ... With state: print ( event . state_peer . payload [ \"something\" ]) # 1","title":"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441\u043e \u0441\u0442\u0435\u0439\u0442\u0430\u043c\u0438"},{"location":"high-level/handling/view/","text":"Handling-View View \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u043c\u0438 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430\u043c\u0438 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432. \u0415\u0441\u043b\u0438 process_event \u0443 view \u0432\u0435\u0440\u043d\u0443\u043b True \u0442\u043e \u0434\u0440\u0443\u0433\u0438\u0435 view \u0443\u0436\u0435 \u043d\u0435 \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c\u0441\u044f \u041f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 view \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u044e\u0449\u0435\u0433\u043e \u0438\u0432\u0435\u043d\u0442 \u043f\u0440\u043e\u0441\u0442\u0430: \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f process_view \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u0435\u0440\u043d\u0443\u0442\u044c boolean -\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435. \u0415\u0441\u043b\u0438 \u0432\u0435\u0440\u043d\u0443\u043b\u043e\u0441\u044c True \u0442\u043e \u043f\u043e\u0438\u0441\u043a view \u043f\u0440\u0435\u043a\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f \u0438 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f handle_event \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0437\u0430 \u043f\u043e\u0434\u0431\u043e\u0440 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430 register_middleware(BaseMiddleware) \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c \u0432 view.middlewares \u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 view View - \u044d\u0442\u043e \u043a\u0430\u043a \u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u0445\u0435\u043d\u0434\u043b\u0435\u0440, \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u0443\u044e \u043b\u043e\u0433\u0438\u043a\u0443 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044f\u043c\u0438, \u0441\u0442\u0435\u0439\u0442 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u043e\u043c \u0438 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u043d\u044b\u043c\u0438 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432 \u041a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0435 view \u043d\u0443\u0436\u043d\u044b \u043e\u0431\u044b\u0447\u043d\u043e \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0440\u0435\u0434\u044b \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043a\u0430\u043a\u043e\u0433\u043e-\u0442\u043e \u0438\u0432\u0435\u043d\u0442\u0430 \u0438\u043b\u0438 \u0433\u0440\u0443\u043f\u043f\u044b \u0438\u0432\u0435\u043d\u0442\u043e\u0432 \u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u0440\u0438\u043c\u0435\u0440 view \u0434\u043b\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u043c\u043e\u0436\u043d\u043e \u0437\u0434\u0435\u0441\u044c \u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e view \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043c\u0438\u043d\u0438\u043c\u0443\u043c 4 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430: handlers - \u043b\u0438\u0441\u0442 \u0438\u0437 ABCHandler middlewares - \u0441\u0435\u0442 \u0438\u0437 \u043a\u043b\u0430\u0441\u0441\u043e\u0432 BaseMiddleware middleware_instances - \u043b\u0438\u0441\u0442 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 BaseMiddleware , \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432 view.pre_middleware \u0438 view.post_middleware handler_return_manager - BaseReturnManager \u0418\u0437 \u043d\u0438\u0445 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u044e\u0442\u0441\u044f 2 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430, handlers \u0438 middlewares \u042d\u0442\u0438 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u044b \u0432\u043f\u043e\u0441\u043b\u0435\u0434\u0441\u0442\u0432\u0438\u0438 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432 handle_event \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439 \u0438 \u043f\u043e\u0438\u0441\u043a\u0430 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430 from vkbottle import ABCView , MiddlewareResponse from vkbottle_types.events.bot_events import PollVoteNew class VoteView ( ABCView ): def __init__ ( self ): super () . __init__ () async def process_event ( self , event : dict ) -> bool : # \u042d\u0442\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0438\u0432\u0435\u043d\u0442 \u0432 \u0444\u043e\u0440\u043c\u0435 \u0441\u043b\u043e\u0432\u0430\u0440\u044f, # \u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u043b\u0438 \u0438\u0432\u0435\u043d\u0442 \u043f\u043e\u0434 # \u0442\u0435\u043a\u0443\u0449\u0438\u0439 view \u0438\u043b\u0438 \u043d\u0435\u0442 \u0438 \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0435 # boolean-\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 return event [ \"type\" ] == \"poll_vote_new\" async def handle_event ( self , event : dict , ctx_api : \"ABCAPI\" , state_dispenser : \"ABCStateDispenser\" ): # \u042d\u0442\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 # \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u0438\u0432\u0435\u043d\u0442 vote = PollVoteNew ( ** event ) # \u0417\u0434\u0435\u0441\u044c \u043c\u043e\u0436\u043d\u043e \u043e\u0431\u043e\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0441\u0442\u0435\u0439\u0442-\u043a\u0430\u0441\u0442 # \u043f\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u043c\u0443 \u043a\u043b\u044e\u0447\u0443 \u0434\u043b\u044f \u043e\u0431\u044a\u0435\u043a\u0442\u0430 vote . object . state_peer = await state_dispenser . cast ( vote . object . user_id ) # \u0417\u0434\u0435\u0441\u044c \u043c\u043e\u0436\u043d\u043e \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439 # \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0435\u0441\u043b\u0438 `pre_middleware` \u0432\u0435\u0440\u043d\u0443\u043b \u0447\u0442\u043e-\u043b\u0438\u0431\u043e, \u0442\u043e \u0432 \u043e\u0434\u043d\u043e\u043c \u0438\u0437 # \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439 \u0431\u044b\u043b \u0432\u044b\u0437\u0432\u0430\u043d `self.stop(...)` - \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0441\u0440\u0430\u0437\u0443 \u043e\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f mw_instances = await self . pre_middleware ( vote ) if mw_instances is None : return logger . info ( \"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430, pre_middleware \u0432\u0435\u0440\u043d\u0443\u043b \u043e\u0448\u0438\u0431\u043a\u0443\" ) # `handlers` \u0438 `handle_responses` \u043d\u0443\u0436\u043d\u044b \u0434\u043b\u044f post \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439 handlers = [] handler_responses = [] for handler in self . handlers : if not await handler . filter ( vote ): continue handler_responses . append ( await handler . handle ( vote )) handlers . append ( handler ) if handler . blocking : break # \u0417\u0430\u043f\u0443\u0441\u043a post-\u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439 await self . post_middleware ( mw_instances , handler_responses , handlers ) \u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u044e \u0432\u044b \u043d\u0430\u043f\u0438\u0441\u0430\u043b\u0438 \u0441\u0432\u043e\u0439 view! \u0422\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432, \u043d\u043e \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0438\u0445 \u0441\u043e\u0437\u0434\u0430\u0442\u044c, \u043c\u043e\u0436\u043d\u043e \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f FromFuncHandler : from vkbottle.bot import Bot , rules , BotLabeler from vkbottle.dispatch.handlers import FromFuncHandler from vkbottle_types.events.bot_events import PollVoteNew from typing import Dict async def vote_up ( vote : PollVoteNew ): print ( \" {} \u0441\u043e \u0441\u0442\u0435\u0439\u0442\u043e\u043c {} \u0433\u043e\u043b\u043e\u0441\u0443\u0435\u0442 \u0437\u0430 {} \" . format ( vote . object . user_id , vote . object . state_peer , vote . object . option_id )) async def vote_up_admin ( vote : PollVoteNew ): print ( \"\u0410\u0434\u043c\u0438\u043d \u043f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043b \u0437\u0430 {} \" , vote . object . option_id ) my_view = VoteView () my_view . handlers = [ FromFuncHandler ( vote_up_admin , rules . FuncRule ( lambda v : v . object . user_id in admin_ids )), FromFuncHandler ( vote_up ) ] class MyLabeler ( BotLabeler ): def views ( self ) -> Dict [ str , \"ABCView\" ]: # \u0418\u0437 views \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u044b \u0432\u0441\u0435 view \u043a\u043e\u0442\u043e\u0440\u044b\u0435 # \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u0437\u0436\u0435 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u0440\u043e\u0443\u0442\u0435\u0440\u043e\u043c return { \"vote_view\" : my_view } bot = Bot () bot . labeler = MyLabeler () admin_ids = [ 1 ] \u0411\u043e\u0442 \u0441 VoteView \u0433\u043e\u0442\u043e\u0432","title":"View"},{"location":"high-level/handling/view/#handling-view","text":"View \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u043c\u0438 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430\u043c\u0438 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432. \u0415\u0441\u043b\u0438 process_event \u0443 view \u0432\u0435\u0440\u043d\u0443\u043b True \u0442\u043e \u0434\u0440\u0443\u0433\u0438\u0435 view \u0443\u0436\u0435 \u043d\u0435 \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c\u0441\u044f \u041f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 view \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u044e\u0449\u0435\u0433\u043e \u0438\u0432\u0435\u043d\u0442 \u043f\u0440\u043e\u0441\u0442\u0430: \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f process_view \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u0435\u0440\u043d\u0443\u0442\u044c boolean -\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435. \u0415\u0441\u043b\u0438 \u0432\u0435\u0440\u043d\u0443\u043b\u043e\u0441\u044c True \u0442\u043e \u043f\u043e\u0438\u0441\u043a view \u043f\u0440\u0435\u043a\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f \u0438 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f handle_event \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0437\u0430 \u043f\u043e\u0434\u0431\u043e\u0440 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430","title":"Handling-View"},{"location":"high-level/handling/view/#register_middlewarebasemiddleware","text":"\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c \u0432 view.middlewares","title":"register_middleware(BaseMiddleware)"},{"location":"high-level/handling/view/#view","text":"View - \u044d\u0442\u043e \u043a\u0430\u043a \u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u0445\u0435\u043d\u0434\u043b\u0435\u0440, \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u0443\u044e \u043b\u043e\u0433\u0438\u043a\u0443 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044f\u043c\u0438, \u0441\u0442\u0435\u0439\u0442 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u043e\u043c \u0438 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u043d\u044b\u043c\u0438 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432 \u041a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0435 view \u043d\u0443\u0436\u043d\u044b \u043e\u0431\u044b\u0447\u043d\u043e \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0440\u0435\u0434\u044b \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043a\u0430\u043a\u043e\u0433\u043e-\u0442\u043e \u0438\u0432\u0435\u043d\u0442\u0430 \u0438\u043b\u0438 \u0433\u0440\u0443\u043f\u043f\u044b \u0438\u0432\u0435\u043d\u0442\u043e\u0432 \u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u0440\u0438\u043c\u0435\u0440 view \u0434\u043b\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u043c\u043e\u0436\u043d\u043e \u0437\u0434\u0435\u0441\u044c \u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e view \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043c\u0438\u043d\u0438\u043c\u0443\u043c 4 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430: handlers - \u043b\u0438\u0441\u0442 \u0438\u0437 ABCHandler middlewares - \u0441\u0435\u0442 \u0438\u0437 \u043a\u043b\u0430\u0441\u0441\u043e\u0432 BaseMiddleware middleware_instances - \u043b\u0438\u0441\u0442 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 BaseMiddleware , \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432 view.pre_middleware \u0438 view.post_middleware handler_return_manager - BaseReturnManager \u0418\u0437 \u043d\u0438\u0445 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u044e\u0442\u0441\u044f 2 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430, handlers \u0438 middlewares \u042d\u0442\u0438 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u044b \u0432\u043f\u043e\u0441\u043b\u0435\u0434\u0441\u0442\u0432\u0438\u0438 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432 handle_event \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439 \u0438 \u043f\u043e\u0438\u0441\u043a\u0430 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430 from vkbottle import ABCView , MiddlewareResponse from vkbottle_types.events.bot_events import PollVoteNew class VoteView ( ABCView ): def __init__ ( self ): super () . __init__ () async def process_event ( self , event : dict ) -> bool : # \u042d\u0442\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0438\u0432\u0435\u043d\u0442 \u0432 \u0444\u043e\u0440\u043c\u0435 \u0441\u043b\u043e\u0432\u0430\u0440\u044f, # \u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u043b\u0438 \u0438\u0432\u0435\u043d\u0442 \u043f\u043e\u0434 # \u0442\u0435\u043a\u0443\u0449\u0438\u0439 view \u0438\u043b\u0438 \u043d\u0435\u0442 \u0438 \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0435 # boolean-\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 return event [ \"type\" ] == \"poll_vote_new\" async def handle_event ( self , event : dict , ctx_api : \"ABCAPI\" , state_dispenser : \"ABCStateDispenser\" ): # \u042d\u0442\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 # \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u0438\u0432\u0435\u043d\u0442 vote = PollVoteNew ( ** event ) # \u0417\u0434\u0435\u0441\u044c \u043c\u043e\u0436\u043d\u043e \u043e\u0431\u043e\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0441\u0442\u0435\u0439\u0442-\u043a\u0430\u0441\u0442 # \u043f\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u043c\u0443 \u043a\u043b\u044e\u0447\u0443 \u0434\u043b\u044f \u043e\u0431\u044a\u0435\u043a\u0442\u0430 vote . object . state_peer = await state_dispenser . cast ( vote . object . user_id ) # \u0417\u0434\u0435\u0441\u044c \u043c\u043e\u0436\u043d\u043e \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439 # \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0435\u0441\u043b\u0438 `pre_middleware` \u0432\u0435\u0440\u043d\u0443\u043b \u0447\u0442\u043e-\u043b\u0438\u0431\u043e, \u0442\u043e \u0432 \u043e\u0434\u043d\u043e\u043c \u0438\u0437 # \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439 \u0431\u044b\u043b \u0432\u044b\u0437\u0432\u0430\u043d `self.stop(...)` - \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0441\u0440\u0430\u0437\u0443 \u043e\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f mw_instances = await self . pre_middleware ( vote ) if mw_instances is None : return logger . info ( \"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430, pre_middleware \u0432\u0435\u0440\u043d\u0443\u043b \u043e\u0448\u0438\u0431\u043a\u0443\" ) # `handlers` \u0438 `handle_responses` \u043d\u0443\u0436\u043d\u044b \u0434\u043b\u044f post \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439 handlers = [] handler_responses = [] for handler in self . handlers : if not await handler . filter ( vote ): continue handler_responses . append ( await handler . handle ( vote )) handlers . append ( handler ) if handler . blocking : break # \u0417\u0430\u043f\u0443\u0441\u043a post-\u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439 await self . post_middleware ( mw_instances , handler_responses , handlers ) \u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u044e \u0432\u044b \u043d\u0430\u043f\u0438\u0441\u0430\u043b\u0438 \u0441\u0432\u043e\u0439 view! \u0422\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432, \u043d\u043e \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0438\u0445 \u0441\u043e\u0437\u0434\u0430\u0442\u044c, \u043c\u043e\u0436\u043d\u043e \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f FromFuncHandler : from vkbottle.bot import Bot , rules , BotLabeler from vkbottle.dispatch.handlers import FromFuncHandler from vkbottle_types.events.bot_events import PollVoteNew from typing import Dict async def vote_up ( vote : PollVoteNew ): print ( \" {} \u0441\u043e \u0441\u0442\u0435\u0439\u0442\u043e\u043c {} \u0433\u043e\u043b\u043e\u0441\u0443\u0435\u0442 \u0437\u0430 {} \" . format ( vote . object . user_id , vote . object . state_peer , vote . object . option_id )) async def vote_up_admin ( vote : PollVoteNew ): print ( \"\u0410\u0434\u043c\u0438\u043d \u043f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043b \u0437\u0430 {} \" , vote . object . option_id ) my_view = VoteView () my_view . handlers = [ FromFuncHandler ( vote_up_admin , rules . FuncRule ( lambda v : v . object . user_id in admin_ids )), FromFuncHandler ( vote_up ) ] class MyLabeler ( BotLabeler ): def views ( self ) -> Dict [ str , \"ABCView\" ]: # \u0418\u0437 views \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u044b \u0432\u0441\u0435 view \u043a\u043e\u0442\u043e\u0440\u044b\u0435 # \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u0437\u0436\u0435 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u0440\u043e\u0443\u0442\u0435\u0440\u043e\u043c return { \"vote_view\" : my_view } bot = Bot () bot . labeler = MyLabeler () admin_ids = [ 1 ] \u0411\u043e\u0442 \u0441 VoteView \u0433\u043e\u0442\u043e\u0432","title":"\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 view"},{"location":"high-level/routing/","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0430: \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u043e\u0443\u0442\u0438\u043d\u0433\u0430 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0430 \u0438 \u0435\u0433\u043e \u043a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0430\u0446\u0438\u044f Rules","title":"Routing"},{"location":"high-level/routing/rules/","text":"Rules Labeler Custom Rules from_chat - \u043e\u0442 PeerRule command - \u043e\u0442 CommandRule from_user - \u043e\u0442 FromUserRule peer_ids - \u043e\u0442 FromPeerRule sticker - \u043e\u0442 StickerRule attachment - \u043e\u0442 AttachmentTypeRule levenshtein \u0438 lev - \u043e\u0442 LevenshteinRule length - \u043e\u0442 MessageLengthRule action - \u043e\u0442 ChatActionRule payload - \u043e\u0442 PayloadRule payload_contains - \u043e\u0442 PayloadContainsRule payload_map - \u043e\u0442 PayloadMapRule func - \u043e\u0442 FuncRule \u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0412\u0441\u0435 \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0435 \u0440\u0443\u043b\u0437\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0441 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c Message , \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0441\u044b\u0440\u044b\u0445 \u0435\u0432\u0435\u043d\u0442\u043e\u0432 \u043d\u0443\u0436\u043d\u043e \u043f\u0438\u0441\u0430\u0442\u044c \u0441\u0432\u043e\u044e \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e. \u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043b\u043e\u0433\u0438\u043a\u0443 \u0440\u0443\u043b\u0437\u043e\u0432 \u043c\u043e\u0436\u043d\u043e \u0437\u0434\u0435\u0441\u044c: \u0442\u044b\u043a","title":"Rules"},{"location":"high-level/routing/rules/#rules","text":"","title":"Rules"},{"location":"high-level/routing/rules/#labeler-custom-rules","text":"from_chat - \u043e\u0442 PeerRule command - \u043e\u0442 CommandRule from_user - \u043e\u0442 FromUserRule peer_ids - \u043e\u0442 FromPeerRule sticker - \u043e\u0442 StickerRule attachment - \u043e\u0442 AttachmentTypeRule levenshtein \u0438 lev - \u043e\u0442 LevenshteinRule length - \u043e\u0442 MessageLengthRule action - \u043e\u0442 ChatActionRule payload - \u043e\u0442 PayloadRule payload_contains - \u043e\u0442 PayloadContainsRule payload_map - \u043e\u0442 PayloadMapRule func - \u043e\u0442 FuncRule","title":"Labeler Custom Rules"},{"location":"high-level/routing/rules/#_1","text":"\u0412\u0441\u0435 \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0435 \u0440\u0443\u043b\u0437\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0441 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c Message , \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0441\u044b\u0440\u044b\u0445 \u0435\u0432\u0435\u043d\u0442\u043e\u0432 \u043d\u0443\u0436\u043d\u043e \u043f\u0438\u0441\u0430\u0442\u044c \u0441\u0432\u043e\u044e \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e. \u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043b\u043e\u0433\u0438\u043a\u0443 \u0440\u0443\u043b\u0437\u043e\u0432 \u043c\u043e\u0436\u043d\u043e \u0437\u0434\u0435\u0441\u044c: \u0442\u044b\u043a","title":"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!"},{"location":"low-level/","text":"Low-level API API Accessing API Response Validators Exception Handling Code Exception Error Handler Http Client Accessing Http Client Polling Accessing Polling","title":"Low-level API"},{"location":"low-level/#low-level-api","text":"API Accessing API Response Validators Exception Handling Code Exception Error Handler Http Client Accessing Http Client Polling Accessing Polling","title":"Low-level API"},{"location":"low-level/api/","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0430: \u041d\u0438\u0437\u043a\u043e\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u043e\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b c \u0430\u043f\u0438 \u0432\u043a API Request Validator Response Valudator Request Rescheduler","title":"Index"},{"location":"low-level/api/api/","text":"API \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0441 API \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 \u043f\u0440\u044f\u043c\u043e \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438. from vkbottle import API api = API ( token = \"token\" ) \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b token - \u0442\u043e\u043a\u0435\u043d \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430/\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u0442\u043e\u043a\u0435\u043d\u043e\u0432 ignore_error - \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0438 VK API http_client - \u043a\u043b\u0438\u0435\u043d\u0442 \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 ( \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f ) request_rescheduler - \u0440\u0435\u0449\u0435\u0434\u0443\u043b\u0435\u0440 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 ( \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f ) Captcha \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u0414\u043e\u043b\u0436\u0435\u043d \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u043e\u0434 \u043e\u0442 \u043a\u0430\u043f\u0447\u0438: from vkbottle import CaptchaError bot = ... async def captcha_handler ( e : CaptchaError ): ... return code bot . api . add_captcha_handler ( captcha_handler )","title":"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 API"},{"location":"low-level/api/api/#api","text":"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0441 API \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 \u043f\u0440\u044f\u043c\u043e \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438. from vkbottle import API api = API ( token = \"token\" )","title":"API"},{"location":"low-level/api/api/#_1","text":"token - \u0442\u043e\u043a\u0435\u043d \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430/\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u0442\u043e\u043a\u0435\u043d\u043e\u0432 ignore_error - \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0438 VK API http_client - \u043a\u043b\u0438\u0435\u043d\u0442 \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 ( \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f ) request_rescheduler - \u0440\u0435\u0449\u0435\u0434\u0443\u043b\u0435\u0440 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 ( \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f )","title":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b"},{"location":"low-level/api/api/#captcha","text":"\u0414\u043e\u043b\u0436\u0435\u043d \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u043e\u0434 \u043e\u0442 \u043a\u0430\u043f\u0447\u0438: from vkbottle import CaptchaError bot = ... async def captcha_handler ( e : CaptchaError ): ... return code bot . api . add_captcha_handler ( captcha_handler )","title":"Captcha \u0445\u0435\u043d\u0434\u043b\u0435\u0440"},{"location":"low-level/api/request-rescheduler/","text":"Request Rescheduler \u0420\u0435\u0448\u0435\u0434\u0443\u043b\u0435\u0440\u044b \u043d\u0443\u0436\u043d\u044b \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043b\u043e\u0436\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u043a \u0430\u043f\u0438 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043d\u0435 \u0443\u0434\u0430\u043b\u0441\u044f \u043f\u043e \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u043f\u0440\u0438\u0447\u0438\u043d\u0430\u043c - \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043e\u0448\u0438\u0431\u043a\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432 \u0432\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 \u0420\u0435\u0448\u0435\u0434\u0443\u043b\u0435\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0435\u0433\u043e \u043e\u0434\u0438\u043d \u043c\u0435\u0442\u043e\u0434 - \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0439 reschedule, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u043d\u0430 \u0432\u0445\u043e\u0434: ctx_api - \u0430\u043f\u0438 \u0441 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u043b\u0441\u044f \u0437\u0430\u043f\u0440\u043e\u0441 method - \u043c\u0435\u0442\u043e\u0434 data - \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b recent_response - \u043e\u0442\u0432\u0435\u0442 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: None)","title":"Request Rescheduler"},{"location":"low-level/api/request-rescheduler/#request-rescheduler","text":"\u0420\u0435\u0448\u0435\u0434\u0443\u043b\u0435\u0440\u044b \u043d\u0443\u0436\u043d\u044b \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043b\u043e\u0436\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u043a \u0430\u043f\u0438 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043d\u0435 \u0443\u0434\u0430\u043b\u0441\u044f \u043f\u043e \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u043f\u0440\u0438\u0447\u0438\u043d\u0430\u043c - \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043e\u0448\u0438\u0431\u043a\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432 \u0432\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 \u0420\u0435\u0448\u0435\u0434\u0443\u043b\u0435\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0435\u0433\u043e \u043e\u0434\u0438\u043d \u043c\u0435\u0442\u043e\u0434 - \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0439 reschedule, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u043d\u0430 \u0432\u0445\u043e\u0434: ctx_api - \u0430\u043f\u0438 \u0441 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u043b\u0441\u044f \u0437\u0430\u043f\u0440\u043e\u0441 method - \u043c\u0435\u0442\u043e\u0434 data - \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b recent_response - \u043e\u0442\u0432\u0435\u0442 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: None)","title":"Request Rescheduler"},{"location":"low-level/api/request-validator/","text":"Request-Validator \u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043a \u0412\u041a \u043d\u0443\u0436\u043d\u044b, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0435\u0432\u0440\u0430\u0449\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043a\u0438 \u0447\u0435\u0433\u043e-\u043b\u0438\u0431\u043e \u0432 \u0441\u0442\u0440\u043e\u043a\u0443 \u0441 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438 \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e \u043a\u0430\u043a \u044d\u0442\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u0432\u043a \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u0432\u0430\u043b\u0438\u0434\u0430\u0442\u043e\u0440\u044b \u043e\u0442\u0432\u0435\u0442\u043e\u0432 TranslateFriendlyTypesRequestValidator \u041f\u0440\u0435\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u0442\u0438\u043f\u044b \u043f\u0438\u0442\u043e\u043d\u0430 \u0432 \u0442\u0438\u043f\u044b \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438\u0440\u0443\u0435\u0442 \u0432\u043a: list -> \",\".join(list) \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0432\u043e\u0435\u0433\u043e \u0432\u0430\u043b\u0438\u0434\u0430\u0442\u043e\u0440\u0430 \u043e\u0442\u0432\u0435\u0442\u0430 \u041f\u0440\u0438\u043c\u0435\u0440 \u0441 request_validators \u0438\u0437 API : from vkbottle import API , ABCRequestValidator class SomeRequestValidator ( ABCRequestValidator ): async def validate ( self , request : dict ) -> dict : # some stuff with request data return request api = API ( \"token\" ) api . request_validators . append ( SomeRequestValidator ())","title":"Request Validator"},{"location":"low-level/api/request-validator/#request-validator","text":"\u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043a \u0412\u041a \u043d\u0443\u0436\u043d\u044b, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0435\u0432\u0440\u0430\u0449\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043a\u0438 \u0447\u0435\u0433\u043e-\u043b\u0438\u0431\u043e \u0432 \u0441\u0442\u0440\u043e\u043a\u0443 \u0441 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438 \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e \u043a\u0430\u043a \u044d\u0442\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u0432\u043a","title":"Request-Validator"},{"location":"low-level/api/request-validator/#_1","text":"","title":"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u0432\u0430\u043b\u0438\u0434\u0430\u0442\u043e\u0440\u044b \u043e\u0442\u0432\u0435\u0442\u043e\u0432"},{"location":"low-level/api/request-validator/#translatefriendlytypesrequestvalidator","text":"\u041f\u0440\u0435\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u0442\u0438\u043f\u044b \u043f\u0438\u0442\u043e\u043d\u0430 \u0432 \u0442\u0438\u043f\u044b \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438\u0440\u0443\u0435\u0442 \u0432\u043a: list -> \",\".join(list)","title":"TranslateFriendlyTypesRequestValidator"},{"location":"low-level/api/request-validator/#_2","text":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0441 request_validators \u0438\u0437 API : from vkbottle import API , ABCRequestValidator class SomeRequestValidator ( ABCRequestValidator ): async def validate ( self , request : dict ) -> dict : # some stuff with request data return request api = API ( \"token\" ) api . request_validators . append ( SomeRequestValidator ())","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0432\u043e\u0435\u0433\u043e \u0432\u0430\u043b\u0438\u0434\u0430\u0442\u043e\u0440\u0430 \u043e\u0442\u0432\u0435\u0442\u0430"},{"location":"low-level/api/response-validator/","text":"Response-Validator \u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438 \u043e\u0442\u0432\u0435\u0442\u043e\u0432 \u0412\u041a \u043d\u0443\u0436\u043d\u044b \u043e\u0442 \u0441\u043b\u0443\u0447\u0430\u0435\u0432 \u043a\u043e\u0433\u0434\u0430 \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u043e \u043a\u0430\u043a\u043e\u0439-\u0442\u043e \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u0439 \u043f\u0440\u0438\u0447\u0438\u043d\u0435 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 html \u0432\u043c\u0435\u0441\u0442\u043e json \u0434\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u043e\u0448\u0438\u0431\u043a\u0438 \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u0432\u0430\u043b\u0438\u0434\u0430\u0442\u043e\u0440\u044b \u043e\u0442\u0432\u0435\u0442\u043e\u0432 JSONValidator \u041f\u0430\u0440\u0441\u0438\u0442 json \u0438\u0437 \u043e\u0442\u0432\u0435\u0442\u0430 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0441\u0430\u043c\u043e\u0433\u043e \u043f\u0440\u0430\u0432\u043e\u0433\u043e json-\u043f\u0430\u0440\u0441\u0435\u0440\u0430 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 . \u0415\u0441\u043b\u0438 \u0432\u0435\u0440\u043d\u0443\u043b\u0441\u044f \u043d\u0435\u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u043c\u044b\u0439 \u0442\u0438\u043f (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 NoneType ), \u0442\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0437\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043d\u043e\u0432\u043e, \u043f\u043e\u043a\u0430 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 VKErrorValidator \u0412\u044b\u0437\u044b\u0432\u0430\u0435\u0442 VKAPIError \u043e\u0442 CodeException \u043f\u0440\u0438 \u0440\u0435\u0441\u043f\u043e\u043d\u0441\u0435 \u0441 \u043e\u0448\u0438\u0431\u043a\u043e\u0439 \u043e\u0442 \u0432\u043a \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0432\u043e\u0435\u0433\u043e \u0432\u0430\u043b\u0438\u0434\u0430\u0442\u043e\u0440\u0430 \u043e\u0442\u0432\u0435\u0442\u0430 \u041f\u0440\u0438\u043c\u0435\u0440 \u0441 response_validators \u0438\u0437 API : from typing import Any , NoReturn , Union from vkbottle import API , ABCResponseValidator class SomeResponseValidator ( ABCResponseValidator ): async def validate ( self , response : dict ) -> Union [ Any , NoReturn ]: # some stuff with response return response api = API ( \"token\" ) api . response_validators . append ( SomeResponseValidator ())","title":"Response Validators"},{"location":"low-level/api/response-validator/#response-validator","text":"\u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438 \u043e\u0442\u0432\u0435\u0442\u043e\u0432 \u0412\u041a \u043d\u0443\u0436\u043d\u044b \u043e\u0442 \u0441\u043b\u0443\u0447\u0430\u0435\u0432 \u043a\u043e\u0433\u0434\u0430 \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u043e \u043a\u0430\u043a\u043e\u0439-\u0442\u043e \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u0439 \u043f\u0440\u0438\u0447\u0438\u043d\u0435 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 html \u0432\u043c\u0435\u0441\u0442\u043e json \u0434\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u043e\u0448\u0438\u0431\u043a\u0438 \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430","title":"Response-Validator"},{"location":"low-level/api/response-validator/#_1","text":"","title":"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u0432\u0430\u043b\u0438\u0434\u0430\u0442\u043e\u0440\u044b \u043e\u0442\u0432\u0435\u0442\u043e\u0432"},{"location":"low-level/api/response-validator/#jsonvalidator","text":"\u041f\u0430\u0440\u0441\u0438\u0442 json \u0438\u0437 \u043e\u0442\u0432\u0435\u0442\u0430 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0441\u0430\u043c\u043e\u0433\u043e \u043f\u0440\u0430\u0432\u043e\u0433\u043e json-\u043f\u0430\u0440\u0441\u0435\u0440\u0430 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 . \u0415\u0441\u043b\u0438 \u0432\u0435\u0440\u043d\u0443\u043b\u0441\u044f \u043d\u0435\u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u043c\u044b\u0439 \u0442\u0438\u043f (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 NoneType ), \u0442\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0437\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043d\u043e\u0432\u043e, \u043f\u043e\u043a\u0430 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442","title":"JSONValidator"},{"location":"low-level/api/response-validator/#vkerrorvalidator","text":"\u0412\u044b\u0437\u044b\u0432\u0430\u0435\u0442 VKAPIError \u043e\u0442 CodeException \u043f\u0440\u0438 \u0440\u0435\u0441\u043f\u043e\u043d\u0441\u0435 \u0441 \u043e\u0448\u0438\u0431\u043a\u043e\u0439 \u043e\u0442 \u0432\u043a","title":"VKErrorValidator"},{"location":"low-level/api/response-validator/#_2","text":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0441 response_validators \u0438\u0437 API : from typing import Any , NoReturn , Union from vkbottle import API , ABCResponseValidator class SomeResponseValidator ( ABCResponseValidator ): async def validate ( self , response : dict ) -> Union [ Any , NoReturn ]: # some stuff with response return response api = API ( \"token\" ) api . response_validators . append ( SomeResponseValidator ())","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0432\u043e\u0435\u0433\u043e \u0432\u0430\u043b\u0438\u0434\u0430\u0442\u043e\u0440\u0430 \u043e\u0442\u0432\u0435\u0442\u0430"},{"location":"low-level/api/token-generator/","text":"Token-Generator \u0423 VK \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0442 \u043b\u0438\u043c\u0438\u0442\u044b \u043d\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u044b, \u043d\u043e \u044d\u0442\u0438 \u043b\u0438\u043c\u0438\u0442\u044b \u043b\u0435\u0433\u043a\u043e \u043e\u0431\u0445\u043e\u0434\u044f\u0442\u0441\u044f \u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0442\u043e\u043a\u0435\u043d\u043e\u0432, \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0442\u044c \u0442\u043e\u043a\u0435\u043d\u044b \u043d\u0430 \u043a\u0430\u0436\u0434\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0442\u043e\u043a\u0435\u043d \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u044b, \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0442 2 \u0432\u0438\u0434\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u0432 \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438: SingleTokenGenerator - \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043e\u0434\u0438\u043d \u0442\u043e\u043a\u0435\u043d \u043d\u0430 \u0432\u0441\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b, \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0441\u0442\u0440\u043e\u043a\u0443 ConsistentTokenGenerator - \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0442\u043e\u043a\u0435\u043d\u043e\u0432 \u043f\u043e\u043e\u0447\u0435\u0440\u0435\u0434\u043d\u043e, \u0435\u0441\u043b\u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0435\u0433\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0433\u0440\u0430\u043c\u043e\u0442\u043d\u043e, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438, \u043b\u0438\u043c\u0438\u0442 \u0432\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 \u043d\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0434\u043b\u044f \u0431\u043e\u0442\u043e\u0432 - 25/\u0441\u0435\u043a, \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 - 3/\u0441\u0435\u043a, \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043b\u0438\u0441\u0442 \u0438\u0437 \u0441\u0442\u0440\u043e\u043a \u041f\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c vkbottle \u0432\u044b \u043a\u043e\u043d\u0435\u0447\u043d\u043e \u0436\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440, \u0431\u0430\u0437\u0438\u0440\u0443\u044f\u0441\u044c \u043d\u0430 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0435 ABCTokenGenerator","title":"Token Generator"},{"location":"low-level/api/token-generator/#token-generator","text":"\u0423 VK \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0442 \u043b\u0438\u043c\u0438\u0442\u044b \u043d\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u044b, \u043d\u043e \u044d\u0442\u0438 \u043b\u0438\u043c\u0438\u0442\u044b \u043b\u0435\u0433\u043a\u043e \u043e\u0431\u0445\u043e\u0434\u044f\u0442\u0441\u044f \u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0442\u043e\u043a\u0435\u043d\u043e\u0432, \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0442\u044c \u0442\u043e\u043a\u0435\u043d\u044b \u043d\u0430 \u043a\u0430\u0436\u0434\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0442\u043e\u043a\u0435\u043d \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u044b, \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0442 2 \u0432\u0438\u0434\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u0432 \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438: SingleTokenGenerator - \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043e\u0434\u0438\u043d \u0442\u043e\u043a\u0435\u043d \u043d\u0430 \u0432\u0441\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b, \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0441\u0442\u0440\u043e\u043a\u0443 ConsistentTokenGenerator - \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0442\u043e\u043a\u0435\u043d\u043e\u0432 \u043f\u043e\u043e\u0447\u0435\u0440\u0435\u0434\u043d\u043e, \u0435\u0441\u043b\u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0435\u0433\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0433\u0440\u0430\u043c\u043e\u0442\u043d\u043e, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438, \u043b\u0438\u043c\u0438\u0442 \u0432\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 \u043d\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0434\u043b\u044f \u0431\u043e\u0442\u043e\u0432 - 25/\u0441\u0435\u043a, \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 - 3/\u0441\u0435\u043a, \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043b\u0438\u0441\u0442 \u0438\u0437 \u0441\u0442\u0440\u043e\u043a \u041f\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c vkbottle \u0432\u044b \u043a\u043e\u043d\u0435\u0447\u043d\u043e \u0436\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440, \u0431\u0430\u0437\u0438\u0440\u0443\u044f\u0441\u044c \u043d\u0430 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0435 ABCTokenGenerator","title":"Token-Generator"},{"location":"low-level/callback/","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0430: \u041a\u0430\u043a \u0432\u043e \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 CallbackAPI \u0438 \u043a\u0430\u043a \u0435\u0433\u043e \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c. Callback","title":"Index"},{"location":"low-level/callback/callback/","text":"Callback API \u0414\u043b\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 Callback API \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441 ABCCallback , \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0432\u043e\u044e \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e. \u0420\u0430\u0431\u043e\u0442\u0430 \u0441 CallbackAPI add_callback_server \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440 \u0432 \u0432\u0430\u0448\u0443 \u0433\u0440\u0443\u043f\u043f\u0443 \u0432\u043a. delete_callback_server \u0423\u0434\u0430\u043b\u044f\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u043e server_id edit_callback_server \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0435\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043f\u043e server_id get_callback_confirmation_code \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u043a\u043e\u0434, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u0434\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u0432\u0430\u0448\u0435\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 get_callback_servers \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432, \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u0445 \u043a \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0443 get_callback_settings \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0434\u043b\u044f \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043f\u043e server_id set_callback_settings \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0434\u043b\u044f \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043f\u043e server_id construct \u041f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 API, \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u043b\u0438\u043d\u0433 \u0441 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u043c API \u043f\u0440\u0438 \u043a\u0430\u0436\u0434\u043e\u043c \u0432\u044b\u0437\u043e\u0432\u0435. \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0438\u043d\u0441\u0442\u0430\u043d\u0441, \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d \u0432 \u0431\u0438\u043b\u0434\u0435\u0440 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0435 \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043b\u044f BotCallback url - \u0441\u0435\u0440\u0432\u0435\u0440, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u044f title - \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u0435 \u0438\u043c\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 secret_key - \u0441\u0435\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447, \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c, \u0447\u0442\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u0440\u0438\u0448\u043b\u043e \u0438\u043c\u0435\u043d\u043d\u043e \u043e\u0442 \u0432\u0430\u0448\u0435\u0433\u043e \u0431\u043e\u0442\u0430. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430. api - \u0435\u0441\u043b\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e, \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 group_id - \u0435\u0441\u043b\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e, \u0431\u0443\u0434\u0435\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d \u043f\u0440\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0433\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0412\u0430\u0448\u0430 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043e\u0442 ABCCallback \u0438 \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u044b\u0448\u0435\u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0435 \u043c\u0435\u0442\u043e\u0434\u044b.","title":"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 Callback API"},{"location":"low-level/callback/callback/#callback-api","text":"\u0414\u043b\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 Callback API \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441 ABCCallback , \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0432\u043e\u044e \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e.","title":"Callback API"},{"location":"low-level/callback/callback/#callbackapi","text":"","title":"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 CallbackAPI"},{"location":"low-level/callback/callback/#add_callback_server","text":"\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440 \u0432 \u0432\u0430\u0448\u0443 \u0433\u0440\u0443\u043f\u043f\u0443 \u0432\u043a.","title":"add_callback_server"},{"location":"low-level/callback/callback/#delete_callback_server","text":"\u0423\u0434\u0430\u043b\u044f\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u043e server_id","title":"delete_callback_server"},{"location":"low-level/callback/callback/#edit_callback_server","text":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0435\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043f\u043e server_id","title":"edit_callback_server"},{"location":"low-level/callback/callback/#get_callback_confirmation_code","text":"\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u043a\u043e\u0434, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u0434\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u0432\u0430\u0448\u0435\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430","title":"get_callback_confirmation_code"},{"location":"low-level/callback/callback/#get_callback_servers","text":"\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432, \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u0445 \u043a \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0443","title":"get_callback_servers"},{"location":"low-level/callback/callback/#get_callback_settings","text":"\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0434\u043b\u044f \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043f\u043e server_id","title":"get_callback_settings"},{"location":"low-level/callback/callback/#set_callback_settings","text":"\u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0434\u043b\u044f \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043f\u043e server_id","title":"set_callback_settings"},{"location":"low-level/callback/callback/#construct","text":"\u041f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 API, \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u043b\u0438\u043d\u0433 \u0441 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u043c API \u043f\u0440\u0438 \u043a\u0430\u0436\u0434\u043e\u043c \u0432\u044b\u0437\u043e\u0432\u0435. \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0438\u043d\u0441\u0442\u0430\u043d\u0441, \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d \u0432 \u0431\u0438\u043b\u0434\u0435\u0440 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0435","title":"construct"},{"location":"low-level/callback/callback/#botcallback","text":"url - \u0441\u0435\u0440\u0432\u0435\u0440, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u044f title - \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u0435 \u0438\u043c\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 secret_key - \u0441\u0435\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447, \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c, \u0447\u0442\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u0440\u0438\u0448\u043b\u043e \u0438\u043c\u0435\u043d\u043d\u043e \u043e\u0442 \u0432\u0430\u0448\u0435\u0433\u043e \u0431\u043e\u0442\u0430. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430. api - \u0435\u0441\u043b\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e, \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 group_id - \u0435\u0441\u043b\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e, \u0431\u0443\u0434\u0435\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d \u043f\u0440\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430","title":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043b\u044f BotCallback"},{"location":"low-level/callback/callback/#_1","text":"\u0412\u0430\u0448\u0430 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043e\u0442 ABCCallback \u0438 \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u044b\u0448\u0435\u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0435 \u043c\u0435\u0442\u043e\u0434\u044b.","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0433\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0430"},{"location":"low-level/exception_handling/","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0430: \u041a\u0430\u043a \u0432\u043e \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0432\u044b\u0437\u043e\u0432 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439 \u0438 \u0438\u0445 \u0445\u0435\u043d\u0434\u043b\u0438\u043d\u0433 \u0438 \u043a\u0430\u043a \u044d\u0442\u043e \u043c\u043e\u0436\u043d\u043e \u043a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c Code Exception Error Handler","title":"Exception Handling"},{"location":"low-level/exception_handling/code-exception/","text":"Code-Exception \u0424\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a \u0437\u0430\u0431\u043e\u0442\u0438\u0442\u0441\u044f \u043e \u0442\u043e\u043c \u043a\u0430\u043a \u0432\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u0445\u0435\u043d\u0434\u043b\u0438\u0442\u044c \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f (\u043d\u0435 \u043e\u0448\u0438\u0431\u043a\u0438, \u0430 \u0438\u043c\u0435\u043d\u043d\u043e \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0443\u0436\u0435 \u0431\u044b\u043b\u0438 \u0432\u044b\u0431\u0440\u043e\u0448\u0435\u043d\u044b; \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0445\u0435\u043d\u0434\u043b\u0438\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0438 \u0447\u0438\u0442\u0430\u0439\u0442\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0443\u044e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e) \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0411\u0430\u0437\u043e\u0432\u044b\u0439 \u043a\u043b\u0430\u0441\u0441 \u0434\u043b\u044f \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439 \u0441 \u043a\u043e\u0434\u043e\u043c \u044d\u0442\u043e CodeException . CodeException \u0438\u043c\u0435\u0435\u0442 generic-\u043f\u043e\u0434\u043e\u0431\u043d\u044b\u0439 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441, \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432 [ \u043a\u0432\u0430\u0434\u0440\u0430\u0442\u043d\u044b\u0445 \u0441\u043a\u043e\u0431\u043a\u0430\u0445 ] . \u0411\u0430\u0437\u043e\u0432\u043e\u0435 \u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043e\u0448\u0438\u0431\u043e\u043a API \u043c\u043e\u0436\u043d\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0434 \u0438\u043c\u0435\u043d\u0435\u043c VKAPIError . \u0412\u044b\u0437\u043e\u0432 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0438 \u0441\u043f\u043e\u0441\u043e\u0431\u044b \u0445\u0435\u043d\u0434\u043b\u0438\u043d\u0433\u0430 \u0441 CodeException class MyCodeError ( CodeException ): pass try : raise MyCodeError [ 1 ]( \"Error description\" ) except MyCodeError [ 1 ]: print ( \"Error with code 1 appeared\" ) except MyCodeError [ 2 , 3 ]: print ( \"Error with code 2 or 3 appeared\" ) except MyCodeError as e : # \u041e\u0448\u0438\u0431\u043a\u0430 \u0441 \u043b\u044e\u0431\u044b\u043c \u043a\u043e\u0434\u043e\u043c print ( f \"Error with code { e . code } appeared\" )","title":"Code Exception"},{"location":"low-level/exception_handling/code-exception/#code-exception","text":"\u0424\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a \u0437\u0430\u0431\u043e\u0442\u0438\u0442\u0441\u044f \u043e \u0442\u043e\u043c \u043a\u0430\u043a \u0432\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u0445\u0435\u043d\u0434\u043b\u0438\u0442\u044c \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f (\u043d\u0435 \u043e\u0448\u0438\u0431\u043a\u0438, \u0430 \u0438\u043c\u0435\u043d\u043d\u043e \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0443\u0436\u0435 \u0431\u044b\u043b\u0438 \u0432\u044b\u0431\u0440\u043e\u0448\u0435\u043d\u044b; \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0445\u0435\u043d\u0434\u043b\u0438\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0438 \u0447\u0438\u0442\u0430\u0439\u0442\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0443\u044e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e)","title":"Code-Exception"},{"location":"low-level/exception_handling/code-exception/#_1","text":"\u0411\u0430\u0437\u043e\u0432\u044b\u0439 \u043a\u043b\u0430\u0441\u0441 \u0434\u043b\u044f \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439 \u0441 \u043a\u043e\u0434\u043e\u043c \u044d\u0442\u043e CodeException . CodeException \u0438\u043c\u0435\u0435\u0442 generic-\u043f\u043e\u0434\u043e\u0431\u043d\u044b\u0439 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441, \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432 [ \u043a\u0432\u0430\u0434\u0440\u0430\u0442\u043d\u044b\u0445 \u0441\u043a\u043e\u0431\u043a\u0430\u0445 ] . \u0411\u0430\u0437\u043e\u0432\u043e\u0435 \u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043e\u0448\u0438\u0431\u043e\u043a API \u043c\u043e\u0436\u043d\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0434 \u0438\u043c\u0435\u043d\u0435\u043c VKAPIError .","title":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435"},{"location":"low-level/exception_handling/code-exception/#codeexception","text":"class MyCodeError ( CodeException ): pass try : raise MyCodeError [ 1 ]( \"Error description\" ) except MyCodeError [ 1 ]: print ( \"Error with code 1 appeared\" ) except MyCodeError [ 2 , 3 ]: print ( \"Error with code 2 or 3 appeared\" ) except MyCodeError as e : # \u041e\u0448\u0438\u0431\u043a\u0430 \u0441 \u043b\u044e\u0431\u044b\u043c \u043a\u043e\u0434\u043e\u043c print ( f \"Error with code { e . code } appeared\" )","title":"\u0412\u044b\u0437\u043e\u0432 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0438 \u0441\u043f\u043e\u0441\u043e\u0431\u044b \u0445\u0435\u043d\u0434\u043b\u0438\u043d\u0433\u0430 \u0441 CodeException"},{"location":"low-level/exception_handling/error-handler/","text":"Error-Handler \u0425\u0435\u043d\u0434\u043b\u0435\u0440 \u043e\u0448\u0438\u0431\u043e\u043a \u043d\u0443\u0436\u0435\u043d \u0434\u043b\u044f \u0431\u044b\u0441\u0442\u0440\u043e\u0439 \u0438 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043b\u044e\u0431\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439. \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c \u0441 \u043d\u0438\u043c \u0440\u0430\u0431\u043e\u0442\u0443, \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0435\u0433\u043e \u0438 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u043d\u0435\u0433\u043e \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439: from vkbottle import ErrorHandler error_handler = ErrorHandler ( redirect_arguments = False , raise_exceptions = False ) # \u0415\u0441\u043b\u0438 redirect_arguments = True, \u0442\u043e \u0432\u0441\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u043e\u0431\u0435\u0440\u043d\u0443\u0442\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u0441\u0442\u0443\u043f\u0430\u0442\u044c \u0438 \u0432 \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f # \u0415\u0441\u043b\u0438 raise_exceptions = True, \u0442\u043e \u0432\u0441\u0435 \u043d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0431\u0443\u0434\u0443\u0442 \u0432\u044b\u0431\u0440\u043e\u0448\u0435\u043d\u044b (\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f, \u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0434\u043b\u044f \u043d\u0435\u043d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u0445 \u043e\u0448\u0438\u0431\u043e\u043a) @error_handler . register_error_handler ( RuntimeError ) async def exc_handler_runtime ( e : RuntimeError ): print ( \"Oh no runtime error occurred:\" , e ) @error_handler . register_error_handler ( LookupError ) async def exc_handler_lookup ( e : LookupError ): print ( \"Oh no lookup error occurred:\" , e ) \u0415\u0449\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u0434\u043b\u044f \u043d\u0435\u043d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u0445 \u043e\u0448\u0438\u0431\u043e\u043a: @error_handler . register_undefined_error_handler async def exc_handler_undefined ( e : Exception ): print ( \"Oh no unknown error occurred\" , e ) \u0422\u0435\u043f\u0435\u0440\u044c \u0447\u0442\u043e\u0431\u044b error_handler \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u043b \u043d\u0430 \u0432\u0430\u0448\u0435\u0439 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a \u043d\u0435\u0439 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440: @error_handler . catch async def main (): raise LookupError ( \"I ve lost my keys\" ) \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0435\u0435 \u0438 \u043e\u0446\u0435\u043d\u0438\u0442\u0435 \u0432\u044b\u0432\u043e\u0434: import asyncio asyncio . run ( main ()) Oh no lookup error occurred: I've lost my keys","title":"Error Handler"},{"location":"low-level/exception_handling/error-handler/#error-handler","text":"\u0425\u0435\u043d\u0434\u043b\u0435\u0440 \u043e\u0448\u0438\u0431\u043e\u043a \u043d\u0443\u0436\u0435\u043d \u0434\u043b\u044f \u0431\u044b\u0441\u0442\u0440\u043e\u0439 \u0438 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043b\u044e\u0431\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439. \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c \u0441 \u043d\u0438\u043c \u0440\u0430\u0431\u043e\u0442\u0443, \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0435\u0433\u043e \u0438 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u043d\u0435\u0433\u043e \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439: from vkbottle import ErrorHandler error_handler = ErrorHandler ( redirect_arguments = False , raise_exceptions = False ) # \u0415\u0441\u043b\u0438 redirect_arguments = True, \u0442\u043e \u0432\u0441\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u043e\u0431\u0435\u0440\u043d\u0443\u0442\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u0441\u0442\u0443\u043f\u0430\u0442\u044c \u0438 \u0432 \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f # \u0415\u0441\u043b\u0438 raise_exceptions = True, \u0442\u043e \u0432\u0441\u0435 \u043d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0431\u0443\u0434\u0443\u0442 \u0432\u044b\u0431\u0440\u043e\u0448\u0435\u043d\u044b (\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f, \u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0434\u043b\u044f \u043d\u0435\u043d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u0445 \u043e\u0448\u0438\u0431\u043e\u043a) @error_handler . register_error_handler ( RuntimeError ) async def exc_handler_runtime ( e : RuntimeError ): print ( \"Oh no runtime error occurred:\" , e ) @error_handler . register_error_handler ( LookupError ) async def exc_handler_lookup ( e : LookupError ): print ( \"Oh no lookup error occurred:\" , e ) \u0415\u0449\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u0434\u043b\u044f \u043d\u0435\u043d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u0445 \u043e\u0448\u0438\u0431\u043e\u043a: @error_handler . register_undefined_error_handler async def exc_handler_undefined ( e : Exception ): print ( \"Oh no unknown error occurred\" , e ) \u0422\u0435\u043f\u0435\u0440\u044c \u0447\u0442\u043e\u0431\u044b error_handler \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u043b \u043d\u0430 \u0432\u0430\u0448\u0435\u0439 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a \u043d\u0435\u0439 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440: @error_handler . catch async def main (): raise LookupError ( \"I ve lost my keys\" ) \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0435\u0435 \u0438 \u043e\u0446\u0435\u043d\u0438\u0442\u0435 \u0432\u044b\u0432\u043e\u0434: import asyncio asyncio . run ( main ()) Oh no lookup error occurred: I've lost my keys","title":"Error-Handler"},{"location":"low-level/http/","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0430: \u041a\u0430\u043a \u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043a\u0430\u043a\u0438\u0445 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0432\u043e \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0435 \u0434\u0435\u043b\u0430\u044e\u0442\u0441\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0438 \u043a\u0430\u043a \u044d\u0442\u043e \u043c\u043e\u0436\u043d\u043e \u043a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c HTTP Client","title":"Index"},{"location":"low-level/http/http-client/","text":"HTTP-Client \u041f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 SingleAiohttpClient \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0432\u0441\u0435\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432. (\u0415\u0433\u043e \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u043e\u043d \u0432\u0441\u0435\u0433\u0434\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u043e\u0434\u043d\u0443 \u0438 \u0442\u0443 \u0436\u0435 \u0441\u0435\u0441\u0441\u0438\u044e \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432.) \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u043a\u043b\u0438\u0435\u043d\u0442 \u0431\u0430\u0437\u0438\u0440\u0443\u044f\u0441\u044c \u043d\u0430 \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u043e\u043c ABCHTTPClient \u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u043c\u0438 request_raw \u0414\u0435\u043b\u0430\u0435\u0442 \u0440\u0435\u043a\u0432\u0435\u0441\u0442. \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043e\u0442\u0432\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 request_text \u0414\u0435\u043b\u0430\u0435\u0442 \u0440\u0435\u043a\u0432\u0435\u0441\u0442 \u0438 \u0447\u0438\u0442\u0430\u0435\u0442 \u043f\u043e\u043b\u0435 text . \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439 \u0442\u0438\u043f request_json \u0414\u0435\u043b\u0430\u0435\u0442 \u0440\u0435\u043a\u0432\u0435\u0441\u0442 \u0438 \u0434\u0435\u0441\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u0443\u0435\u0442 json \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043e\u0434\u043d\u043e\u0439 \u0438\u0437 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a, \u0432\u044b\u0431\u0438\u0440\u0430\u044e\u0442\u0441\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e choicelib \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0441\u043b\u0435\u0432\u0430 \u043d\u0430\u043f\u0440\u0430\u0432\u043e: json , ujson , hyperjson , orjson . \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0434\u0435\u0441\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0438\u0437 json \u0430 request_content \u0414\u0435\u043b\u0430\u0435\u0442 \u0440\u0435\u043a\u0432\u0435\u0441\u0442 \u0438 \u043f\u0440\u043e\u0447\u0438\u0442\u044b\u0432\u0430\u0435\u0442 \u0432\u0435\u0440\u043d\u0443\u0432\u0448\u0438\u0439\u0441\u044f content , \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u044f \u043c\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043b\u043e\u0432 \u0432 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440\u0430\u0445. \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0431\u0430\u0439\u0442\u044b \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b url - \u0441\u0441\u044b\u043b\u043a\u0430 \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d method - HTTP \u043c\u0435\u0442\u043e\u0434 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: get) data - \u0434\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u041f\u0440\u0438\u043c\u0435\u0440 from vkbottle.http import AiohttpClient # ... http_client = AiohttpClient () await http_client . request_text ( \"https://google.com\" ) \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0433\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u041a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0439 \u043a\u043b\u0438\u0435\u043d\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0443\u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u044c ABCHTTPClient \u0438 \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u044b\u0448\u0435\u0443\u043f\u043e\u043c\u044f\u043d\u0443\u0442\u044b\u0435 \u043c\u0435\u0442\u043e\u0434\u044b","title":"Accessing Http Client"},{"location":"low-level/http/http-client/#http-client","text":"\u041f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 SingleAiohttpClient \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0432\u0441\u0435\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432. (\u0415\u0433\u043e \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u043e\u043d \u0432\u0441\u0435\u0433\u0434\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u043e\u0434\u043d\u0443 \u0438 \u0442\u0443 \u0436\u0435 \u0441\u0435\u0441\u0441\u0438\u044e \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432.) \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u043a\u043b\u0438\u0435\u043d\u0442 \u0431\u0430\u0437\u0438\u0440\u0443\u044f\u0441\u044c \u043d\u0430 \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u043e\u043c ABCHTTPClient","title":"HTTP-Client"},{"location":"low-level/http/http-client/#_1","text":"","title":"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u043c\u0438"},{"location":"low-level/http/http-client/#request_raw","text":"\u0414\u0435\u043b\u0430\u0435\u0442 \u0440\u0435\u043a\u0432\u0435\u0441\u0442. \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043e\u0442\u0432\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430","title":"request_raw"},{"location":"low-level/http/http-client/#request_text","text":"\u0414\u0435\u043b\u0430\u0435\u0442 \u0440\u0435\u043a\u0432\u0435\u0441\u0442 \u0438 \u0447\u0438\u0442\u0430\u0435\u0442 \u043f\u043e\u043b\u0435 text . \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439 \u0442\u0438\u043f","title":"request_text"},{"location":"low-level/http/http-client/#request_json","text":"\u0414\u0435\u043b\u0430\u0435\u0442 \u0440\u0435\u043a\u0432\u0435\u0441\u0442 \u0438 \u0434\u0435\u0441\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u0443\u0435\u0442 json \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043e\u0434\u043d\u043e\u0439 \u0438\u0437 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a, \u0432\u044b\u0431\u0438\u0440\u0430\u044e\u0442\u0441\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e choicelib \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0441\u043b\u0435\u0432\u0430 \u043d\u0430\u043f\u0440\u0430\u0432\u043e: json , ujson , hyperjson , orjson . \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0434\u0435\u0441\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0438\u0437 json \u0430","title":"request_json"},{"location":"low-level/http/http-client/#request_content","text":"\u0414\u0435\u043b\u0430\u0435\u0442 \u0440\u0435\u043a\u0432\u0435\u0441\u0442 \u0438 \u043f\u0440\u043e\u0447\u0438\u0442\u044b\u0432\u0430\u0435\u0442 \u0432\u0435\u0440\u043d\u0443\u0432\u0448\u0438\u0439\u0441\u044f content , \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u044f \u043c\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043b\u043e\u0432 \u0432 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440\u0430\u0445. \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0431\u0430\u0439\u0442\u044b","title":"request_content"},{"location":"low-level/http/http-client/#_2","text":"url - \u0441\u0441\u044b\u043b\u043a\u0430 \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d method - HTTP \u043c\u0435\u0442\u043e\u0434 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: get) data - \u0434\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0435","title":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b"},{"location":"low-level/http/http-client/#_3","text":"from vkbottle.http import AiohttpClient # ... http_client = AiohttpClient () await http_client . request_text ( \"https://google.com\" )","title":"\u041f\u0440\u0438\u043c\u0435\u0440"},{"location":"low-level/http/http-client/#_4","text":"\u041a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0439 \u043a\u043b\u0438\u0435\u043d\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0443\u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u044c ABCHTTPClient \u0438 \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u044b\u0448\u0435\u0443\u043f\u043e\u043c\u044f\u043d\u0443\u0442\u044b\u0435 \u043c\u0435\u0442\u043e\u0434\u044b","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0433\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0430"},{"location":"low-level/polling/","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0430: \u041a\u0430\u043a \u0432\u043e \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d \u043b\u043e\u043d\u0433\u043f\u043e\u043b\u043b \u0438 \u043a\u0430\u043a \u0435\u0433\u043e \u043a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c Polling","title":"Index"},{"location":"low-level/polling/polling/","text":"Polling \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 Polling \u0438 \u0447\u0442\u043e\u0431\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u044b\u0432\u0430\u0442\u044c longpoll. \u0414\u043b\u044f \u0431\u043e\u0442\u043e\u0432 \u0438 \u044e\u0437\u0435\u0440\u043e\u0432 \u0441\u043e\u0437\u0434\u0430\u043d \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u043f\u043e\u043b\u043b\u0438\u043d\u0433 (\u0442\u0430\u043a \u043a\u0430\u043a \u043e\u043d\u0438 \u0440\u0430\u0437\u043d\u044b\u0435). \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u043f\u043e\u043b\u043b\u0438\u043d\u0433 \u0431\u0430\u0437\u0438\u0440\u0443\u044f\u0441\u044c \u043d\u0430 \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u043e\u043c ABCPolling \u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u043f\u043e\u043b\u043b\u0438\u043d\u0433\u043e\u043c get_server \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440 \u0434\u043b\u044f \u043f\u043e\u043b\u043b\u0438\u043d\u0433\u0430 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0435\u0433\u043e get_event \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440 \u0438\u0437 get_server \u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0438 \u0434\u0435\u043b\u0430\u0435\u0442 \u0434\u043e\u043b\u0433\u0438\u0439 POST \u0440\u0435\u043a\u0432\u0435\u0441\u0442 listen \u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0439 \u0438\u0442\u0435\u0440\u0430\u0442\u043e\u0440 (\u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d \u0441 async with ). \u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u043f\u0440\u0438\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u0438\u0432\u0435\u043d\u0442\u044b. construct \u041f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 API, \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u043b\u0438\u043d\u0433 \u0441 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u043c API \u043f\u0440\u0438 \u043a\u0430\u0436\u0434\u043e\u043c \u0432\u044b\u0437\u043e\u0432\u0435. \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0438\u043d\u0441\u0442\u0430\u043d\u0441, \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d \u0432 \u0431\u0438\u043b\u0434\u0435\u0440 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0435 \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043b\u044f BotPolling / UserPolling api - \u0435\u0441\u043b\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e \u0432 listen group_id / user_id - \u0435\u0441\u043b\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e \u0432 listen wait - \u043b\u0438\u043c\u0438\u0442 \u0441\u0435\u043a\u0443\u043d\u0434 \u043f\u043e\u0441\u043b\u0435 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0432\u043a \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043e\u0442\u0432\u0435\u0442 \u043d\u0430 \u0434\u043e\u043b\u0433\u0438\u0439 \u0440\u0435\u043a\u0432\u0435\u0441\u0442 (\u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u043d\u0435\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439) rps_delay - \u0435\u0441\u043b\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 \u0440\u0430\u0432\u043d\u0430 0 \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0433\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u041a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0439 \u043f\u043e\u043b\u043b\u0438\u043d\u0433 \u0434\u043e\u043b\u0436\u0435\u043d \u0443\u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u044c ABCPolling \u0438 \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u044b\u0448\u0435\u0443\u043f\u043e\u043c\u044f\u043d\u0443\u0442\u044b\u0435 \u043c\u0435\u0442\u043e\u0434\u044b","title":"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u043f\u043e\u043b\u043b\u0438\u043d\u0433\u043e\u043c"},{"location":"low-level/polling/polling/#polling","text":"\u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 Polling \u0438 \u0447\u0442\u043e\u0431\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u044b\u0432\u0430\u0442\u044c longpoll. \u0414\u043b\u044f \u0431\u043e\u0442\u043e\u0432 \u0438 \u044e\u0437\u0435\u0440\u043e\u0432 \u0441\u043e\u0437\u0434\u0430\u043d \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u043f\u043e\u043b\u043b\u0438\u043d\u0433 (\u0442\u0430\u043a \u043a\u0430\u043a \u043e\u043d\u0438 \u0440\u0430\u0437\u043d\u044b\u0435). \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u043f\u043e\u043b\u043b\u0438\u043d\u0433 \u0431\u0430\u0437\u0438\u0440\u0443\u044f\u0441\u044c \u043d\u0430 \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u043e\u043c ABCPolling","title":"Polling"},{"location":"low-level/polling/polling/#_1","text":"","title":"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u043f\u043e\u043b\u043b\u0438\u043d\u0433\u043e\u043c"},{"location":"low-level/polling/polling/#get_server","text":"\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440 \u0434\u043b\u044f \u043f\u043e\u043b\u043b\u0438\u043d\u0433\u0430 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0435\u0433\u043e","title":"get_server"},{"location":"low-level/polling/polling/#get_event","text":"\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440 \u0438\u0437 get_server \u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0438 \u0434\u0435\u043b\u0430\u0435\u0442 \u0434\u043e\u043b\u0433\u0438\u0439 POST \u0440\u0435\u043a\u0432\u0435\u0441\u0442","title":"get_event"},{"location":"low-level/polling/polling/#listen","text":"\u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0439 \u0438\u0442\u0435\u0440\u0430\u0442\u043e\u0440 (\u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d \u0441 async with ). \u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u043f\u0440\u0438\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u0438\u0432\u0435\u043d\u0442\u044b.","title":"listen"},{"location":"low-level/polling/polling/#construct","text":"\u041f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 API, \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u043b\u0438\u043d\u0433 \u0441 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u043c API \u043f\u0440\u0438 \u043a\u0430\u0436\u0434\u043e\u043c \u0432\u044b\u0437\u043e\u0432\u0435. \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0438\u043d\u0441\u0442\u0430\u043d\u0441, \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d \u0432 \u0431\u0438\u043b\u0434\u0435\u0440 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0435","title":"construct"},{"location":"low-level/polling/polling/#botpolling-userpolling","text":"api - \u0435\u0441\u043b\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e \u0432 listen group_id / user_id - \u0435\u0441\u043b\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e \u0432 listen wait - \u043b\u0438\u043c\u0438\u0442 \u0441\u0435\u043a\u0443\u043d\u0434 \u043f\u043e\u0441\u043b\u0435 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0432\u043a \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043e\u0442\u0432\u0435\u0442 \u043d\u0430 \u0434\u043e\u043b\u0433\u0438\u0439 \u0440\u0435\u043a\u0432\u0435\u0441\u0442 (\u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u043d\u0435\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439) rps_delay - \u0435\u0441\u043b\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 \u0440\u0430\u0432\u043d\u0430 0","title":"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043b\u044f BotPolling / UserPolling"},{"location":"low-level/polling/polling/#_2","text":"\u041a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0439 \u043f\u043e\u043b\u043b\u0438\u043d\u0433 \u0434\u043e\u043b\u0436\u0435\u043d \u0443\u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u044c ABCPolling \u0438 \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u044b\u0448\u0435\u0443\u043f\u043e\u043c\u044f\u043d\u0443\u0442\u044b\u0435 \u043c\u0435\u0442\u043e\u0434\u044b","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0433\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0430"},{"location":"tools/","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0430: \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0445 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430\u0445 \u044f\u0432\u043b\u044f\u044e\u0449\u0438\u043c\u0441\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c\u0438 \u043d\u043e \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u043c\u0438 \u043f\u0440\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438 \u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0431\u043e\u0442\u043e\u0432 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0430 Keyboard Auth Template \u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u044b event_data Loop Wrapper Storage VKScript","title":"Index"},{"location":"tools/auth/","text":"UserAuth \u042d\u0442\u043e \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0434\u043b\u044f \u0431\u044b\u0441\u0442\u0440\u043e\u0433\u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0442\u043e\u043a\u0435\u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u043e \u043b\u043e\u0433\u0438\u043d\u0443 \u0438 \u043f\u0430\u0440\u043e\u043b\u044e. from vkbottle import UserAuth login = \"89012345678\" password = \"qwerty123\" async def main (): token = await UserAuth () . get_token ( login , password ) \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e UserAuth \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430 \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0432\u043a. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435, \u043f\u0435\u0440\u0435\u0434\u0430\u0432 client_id \u0438 client_secret \u0432 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 UserAuth .","title":"Auth Flows"},{"location":"tools/auth/#userauth","text":"\u042d\u0442\u043e \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0434\u043b\u044f \u0431\u044b\u0441\u0442\u0440\u043e\u0433\u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0442\u043e\u043a\u0435\u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u043e \u043b\u043e\u0433\u0438\u043d\u0443 \u0438 \u043f\u0430\u0440\u043e\u043b\u044e. from vkbottle import UserAuth login = \"89012345678\" password = \"qwerty123\" async def main (): token = await UserAuth () . get_token ( login , password ) \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e UserAuth \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430 \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0432\u043a. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435, \u043f\u0435\u0440\u0435\u0434\u0430\u0432 client_id \u0438 client_secret \u0432 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 UserAuth .","title":"UserAuth"},{"location":"tools/event-data/","text":"\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u044b event-data \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u043a\u043e \u0432\u0441\u0435\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u0430\u043c event_data : \u0437\u0434\u0435\u0441\u044c \u0418\u0445 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0432 vkbottle: ShowSnackbarEvent OpenLinkEvent OpenAppEvent \u041f\u0440\u0438\u043c\u0435\u0440 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0432\u043d\u0443\u0442\u0440\u0438 raw_event \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430: from vkbottle import ShowSnackbarEvent await api . messages . send_message_event_answer ( event_id = event . object . event_id , user_id = event . object . user_id , peer_id = event . object . peer_id , event_data = ShowSnackbarEvent ( text = \"\u0421\u0435\u0439\u0447\u0430\u0441 \u044f \u0438\u0441\u0447\u0435\u0437\u043d\u0443\" ) . json (), ) \u042d\u0442\u043e\u0442 \u043f\u0440\u0438\u043c\u0435\u0440 \u0446\u0435\u043b\u0438\u043a\u043e\u043c","title":"Event Data \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u044b"},{"location":"tools/event-data/#event-data","text":"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u043a\u043e \u0432\u0441\u0435\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u0430\u043c event_data : \u0437\u0434\u0435\u0441\u044c","title":"\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u044b event-data"},{"location":"tools/event-data/#vkbottle","text":"ShowSnackbarEvent OpenLinkEvent OpenAppEvent","title":"\u0418\u0445 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0432 vkbottle:"},{"location":"tools/event-data/#raw_event","text":"from vkbottle import ShowSnackbarEvent await api . messages . send_message_event_answer ( event_id = event . object . event_id , user_id = event . object . user_id , peer_id = event . object . peer_id , event_data = ShowSnackbarEvent ( text = \"\u0421\u0435\u0439\u0447\u0430\u0441 \u044f \u0438\u0441\u0447\u0435\u0437\u043d\u0443\" ) . json (), ) \u042d\u0442\u043e\u0442 \u043f\u0440\u0438\u043c\u0435\u0440 \u0446\u0435\u043b\u0438\u043a\u043e\u043c","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0432\u043d\u0443\u0442\u0440\u0438 raw_event \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430:"},{"location":"tools/keyboard/","text":"Keyboard \u041a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u0432 vkbottle \u043c\u043e\u0436\u043d\u043e \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0447\u0435\u043d\u044c \u043f\u0440\u043e\u0441\u0442\u043e. \u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 Keyboard , KeyboardButtonColor \u0438 \u043d\u0443\u0436\u043d\u044b\u0435 \u0432\u0430\u043c action (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: Text , OpenLink , Location , VKApps , Callback ) \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043e\u0431\u044a\u0435\u043a\u0442 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b: from vkbottle import Keyboard , KeyboardButtonColor , Text keyboard = Keyboard ( one_time = True , inline = False ) # \u041e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u0445 one_time \u0438 inline \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 \u043a \u0430\u043f\u0438 \u0432\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 keyboard . add ( Text ( \"\u041a\u043d\u043e\u043f\u043a\u0430 1\" ), color = KeyboardButtonColor . POSITIVE ) # \u041f\u0435\u0440\u0432\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 (\u0440\u044f\u0434) \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 keyboard . row () # \u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443 keyboard . add ( Text ( \"\u041a\u043d\u043e\u043f\u043a\u0430 2\" )) keyboard . add ( Text ( \"\u041a\u043d\u043e\u043f\u043a\u0430 3\" , payload = { \"command\" : 3 })) \u0422\u0435\u043f\u0435\u0440\u044c, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c json \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0438 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043c\u0435\u0442\u043e\u0434 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b get_json() \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: await message . answer ( message = \"\u0421\u043c\u043e\u0442\u0440\u0438 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u043d\u043e\u043f\u043e\u043a!!\" , keyboard = keyboard . get_json ()) \u0414\u043b\u044f \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0431\u0438\u043b\u0434\u0435\u0440\u0430, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0432\u0435\u0441\u044c \u043a\u043e\u0434 \u0432\u044b\u0448\u0435 \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u044d\u0442\u0438\u043c: from vkbottle import Keyboard , KeyboardButtonColor , Text # ... await message . answer ( message = \"\u0421\u043c\u043e\u0442\u0440\u0438 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u043d\u043e\u043f\u043e\u043a!!\" , keyboard = ( Keyboard ( one_time = True , inline = False ) . add ( Text ( \"\u041a\u043d\u043e\u043f\u043a\u0430 1\" ), color = KeyboardButtonColor . POSITIVE ) . row () . add ( Text ( \"\u041a\u043d\u043e\u043f\u043a\u0430 2\" )) . add ( Text ( \"\u041a\u043d\u043e\u043f\u043a\u0430 3\" , payload = { \"command\" : 3 })) ) . get_json () ) \u0414\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043f\u0443\u0441\u0442\u043e\u0439 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b (\u0447\u0442\u043e\u0431\u044b \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0443 \u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f) \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c EMPTY_KEYBOARD (\u043d\u0443\u0436\u043d\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c)","title":"Keyboard \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u044b"},{"location":"tools/keyboard/#keyboard","text":"\u041a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u0432 vkbottle \u043c\u043e\u0436\u043d\u043e \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0447\u0435\u043d\u044c \u043f\u0440\u043e\u0441\u0442\u043e. \u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 Keyboard , KeyboardButtonColor \u0438 \u043d\u0443\u0436\u043d\u044b\u0435 \u0432\u0430\u043c action (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: Text , OpenLink , Location , VKApps , Callback ) \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043e\u0431\u044a\u0435\u043a\u0442 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b: from vkbottle import Keyboard , KeyboardButtonColor , Text keyboard = Keyboard ( one_time = True , inline = False ) # \u041e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u0445 one_time \u0438 inline \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 \u043a \u0430\u043f\u0438 \u0432\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 keyboard . add ( Text ( \"\u041a\u043d\u043e\u043f\u043a\u0430 1\" ), color = KeyboardButtonColor . POSITIVE ) # \u041f\u0435\u0440\u0432\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 (\u0440\u044f\u0434) \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 keyboard . row () # \u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443 keyboard . add ( Text ( \"\u041a\u043d\u043e\u043f\u043a\u0430 2\" )) keyboard . add ( Text ( \"\u041a\u043d\u043e\u043f\u043a\u0430 3\" , payload = { \"command\" : 3 })) \u0422\u0435\u043f\u0435\u0440\u044c, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c json \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0438 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043c\u0435\u0442\u043e\u0434 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b get_json() \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: await message . answer ( message = \"\u0421\u043c\u043e\u0442\u0440\u0438 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u043d\u043e\u043f\u043e\u043a!!\" , keyboard = keyboard . get_json ()) \u0414\u043b\u044f \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0431\u0438\u043b\u0434\u0435\u0440\u0430, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0432\u0435\u0441\u044c \u043a\u043e\u0434 \u0432\u044b\u0448\u0435 \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u044d\u0442\u0438\u043c: from vkbottle import Keyboard , KeyboardButtonColor , Text # ... await message . answer ( message = \"\u0421\u043c\u043e\u0442\u0440\u0438 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u043d\u043e\u043f\u043e\u043a!!\" , keyboard = ( Keyboard ( one_time = True , inline = False ) . add ( Text ( \"\u041a\u043d\u043e\u043f\u043a\u0430 1\" ), color = KeyboardButtonColor . POSITIVE ) . row () . add ( Text ( \"\u041a\u043d\u043e\u043f\u043a\u0430 2\" )) . add ( Text ( \"\u041a\u043d\u043e\u043f\u043a\u0430 3\" , payload = { \"command\" : 3 })) ) . get_json () ) \u0414\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043f\u0443\u0441\u0442\u043e\u0439 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b (\u0447\u0442\u043e\u0431\u044b \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0443 \u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f) \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c EMPTY_KEYBOARD (\u043d\u0443\u0436\u043d\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c)","title":"Keyboard"},{"location":"tools/loop-wrapper/","text":"Loop Wrapper LoopWrapper \u043d\u0443\u0436\u0435\u043d \u0447\u0442\u043e\u0431\u044b \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0432\u0435\u043d\u0442 \u043b\u0443\u043f \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 asyncio \u0438 \u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0442\u0430\u0441\u043a\u0438, startup \u0438 shutdown , \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0435 \u0438\u0432\u0435\u043d\u0442 \u043b\u0443\u043f\u0430 \u0447\u0435\u0440\u0435\u0437 run_forever \u0415\u0441\u043b\u0438 \u0432\u044b \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 loop_wrapper.auto_reload = True , \u0442\u043e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u0431\u0443\u0434\u0435\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0442\u044c\u0441\u044f \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\u0445 \u0432 \u043a\u043e\u0434e, \u0447\u0442\u043e\u0431\u044b \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0443\u0442\u044c \u0434\u043e \u0432\u0430\u0448\u0435\u0433\u043e \u043a\u043e\u0434\u0430 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435\u0441\u044c auto_reload_dir , \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043e\u043d \u043b\u043e\u043a\u0430\u043b\u0435\u043d \u0422\u0430\u0441\u043a\u0438 \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0430\u0441\u043a \u0442\u0430\u043a: from vkbottle import LoopWrapper async def my_task (): ... lw = LoopWrapper () lw . add_task ( my_task ()) on_startup \u0438 on_shutdown on_startup \u043a\u043e\u0440\u0443\u0442\u0438\u043d\u044b \u0437\u0430\u043f\u0443\u0441\u0442\u044f\u0442\u0441\u044f \u043f\u0435\u0440\u0435\u0434 \u0437\u0430\u043f\u0443\u0441\u043a\u043e\u043c \u0438\u0432\u0435\u043d\u0442 \u043b\u0443\u043f\u0430, on_shutdown \u043f\u0440\u0438 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435. \u0412 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0435 LoopWrapper \u043e\u043d\u0438 \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0441\u043f\u0438\u0441\u043a\u0430\u043c\u0438 \u0441 \u043a\u043e\u0440\u0443\u0442\u0438\u043d\u0430\u043c\u0438, \u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e, \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0438\u0445 \u043c\u043e\u0436\u043d\u043e \u0442\u0430\u043a: from vkbottle import LoopWrapper async def startup_task (): print ( \"This is startup\" ) async def shutdown_task (): print ( \"This is shutdown\" ) lw = LoopWrapper () lw . on_startup . append ( startup_task ()) lw . on_shutdown . append ( shutdown_task ()) interval \u041b\u0435\u0433\u043a\u0438\u0439 \u0442\u0435\u043c\u043f\u043b\u0435\u0439\u0442 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0442\u0430\u0441\u043a\u043e\u0432 \u0441 \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u043e \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u044e\u0449\u0438\u043c\u0438\u0441\u044f \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f\u043c\u0438 \u0432 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u0435. \u041f\u0440\u0438\u043c\u0435\u0440: from vkbottle import LoopWrapper lw = LoopWrapper () @lw . interval ( seconds = 10 ) async def repeated_task (): print ( \"I'll print this every 10 seconds!\" ) timer \u041b\u0435\u0433\u043a\u0438\u0439 \u0442\u0435\u043c\u043f\u043b\u0435\u0439\u0442 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u043e\u0433\u043e \u0442\u0430\u0441\u043a\u0430: from vkbottle import LoopWrapper lw = LoopWrapper () @lw . timer ( seconds = 10 ) async def delayed_task (): print ( \"I'll print this after 10 seconds!\" ) \u0417\u0430\u043f\u0443\u0441\u043a lw . run_forever ()","title":"Loop Wrapper"},{"location":"tools/loop-wrapper/#loop-wrapper","text":"LoopWrapper \u043d\u0443\u0436\u0435\u043d \u0447\u0442\u043e\u0431\u044b \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0432\u0435\u043d\u0442 \u043b\u0443\u043f \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 asyncio \u0438 \u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0442\u0430\u0441\u043a\u0438, startup \u0438 shutdown , \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0435 \u0438\u0432\u0435\u043d\u0442 \u043b\u0443\u043f\u0430 \u0447\u0435\u0440\u0435\u0437 run_forever \u0415\u0441\u043b\u0438 \u0432\u044b \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 loop_wrapper.auto_reload = True , \u0442\u043e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u0431\u0443\u0434\u0435\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0442\u044c\u0441\u044f \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\u0445 \u0432 \u043a\u043e\u0434e, \u0447\u0442\u043e\u0431\u044b \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0443\u0442\u044c \u0434\u043e \u0432\u0430\u0448\u0435\u0433\u043e \u043a\u043e\u0434\u0430 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435\u0441\u044c auto_reload_dir , \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043e\u043d \u043b\u043e\u043a\u0430\u043b\u0435\u043d","title":"Loop Wrapper"},{"location":"tools/loop-wrapper/#_1","text":"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0430\u0441\u043a \u0442\u0430\u043a: from vkbottle import LoopWrapper async def my_task (): ... lw = LoopWrapper () lw . add_task ( my_task ())","title":"\u0422\u0430\u0441\u043a\u0438"},{"location":"tools/loop-wrapper/#on_startup-on_shutdown","text":"on_startup \u043a\u043e\u0440\u0443\u0442\u0438\u043d\u044b \u0437\u0430\u043f\u0443\u0441\u0442\u044f\u0442\u0441\u044f \u043f\u0435\u0440\u0435\u0434 \u0437\u0430\u043f\u0443\u0441\u043a\u043e\u043c \u0438\u0432\u0435\u043d\u0442 \u043b\u0443\u043f\u0430, on_shutdown \u043f\u0440\u0438 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435. \u0412 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0435 LoopWrapper \u043e\u043d\u0438 \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0441\u043f\u0438\u0441\u043a\u0430\u043c\u0438 \u0441 \u043a\u043e\u0440\u0443\u0442\u0438\u043d\u0430\u043c\u0438, \u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e, \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0438\u0445 \u043c\u043e\u0436\u043d\u043e \u0442\u0430\u043a: from vkbottle import LoopWrapper async def startup_task (): print ( \"This is startup\" ) async def shutdown_task (): print ( \"This is shutdown\" ) lw = LoopWrapper () lw . on_startup . append ( startup_task ()) lw . on_shutdown . append ( shutdown_task ())","title":"on_startup \u0438 on_shutdown"},{"location":"tools/loop-wrapper/#interval","text":"\u041b\u0435\u0433\u043a\u0438\u0439 \u0442\u0435\u043c\u043f\u043b\u0435\u0439\u0442 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0442\u0430\u0441\u043a\u043e\u0432 \u0441 \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u043e \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u044e\u0449\u0438\u043c\u0438\u0441\u044f \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f\u043c\u0438 \u0432 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u0435. \u041f\u0440\u0438\u043c\u0435\u0440: from vkbottle import LoopWrapper lw = LoopWrapper () @lw . interval ( seconds = 10 ) async def repeated_task (): print ( \"I'll print this every 10 seconds!\" )","title":"interval"},{"location":"tools/loop-wrapper/#timer","text":"\u041b\u0435\u0433\u043a\u0438\u0439 \u0442\u0435\u043c\u043f\u043b\u0435\u0439\u0442 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u043e\u0433\u043e \u0442\u0430\u0441\u043a\u0430: from vkbottle import LoopWrapper lw = LoopWrapper () @lw . timer ( seconds = 10 ) async def delayed_task (): print ( \"I'll print this after 10 seconds!\" )","title":"timer"},{"location":"tools/loop-wrapper/#_2","text":"lw . run_forever ()","title":"\u0417\u0430\u043f\u0443\u0441\u043a"},{"location":"tools/message-event/","text":"MessageEvent \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 callback \u043a\u043d\u043e\u043f\u043e\u043a \u0432\u044b\u0445\u043e\u0434\u0438\u0442 \u043d\u0430 \u043d\u043e\u0432\u044b\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c: from vkbottle import GroupEventType from vkbottle.bot import MessageEvent @bot . on . raw_event ( GroupEventType . MESSAGE_EVENT , dataclass = MessageEvent ) async def handle_message_event ( event : MessageEvent ): await event . show_snackbar ( \"\u0421\u0435\u0439\u0447\u0430\u0441 \u044f \u0438\u0441\u0447\u0435\u0437\u043d\u0443\" ) \u041d\u0438\u043a\u0430\u043a\u043e\u0433\u043e object . \u0412\u0441\u0451 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0443\u0436\u0435 \u0432 event , \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 group_id \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0432\u0441\u0435\u0445 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u0432 event-data \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u043c\u0438 \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0440\u0443\u043b\u0437\u043e\u0432, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0441 payload \u0422\u0430\u043a \u0436\u0435 \u0435\u0441\u0442\u044c message_edit \u0438 message_send","title":"Message Event"},{"location":"tools/message-event/#messageevent","text":"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 callback \u043a\u043d\u043e\u043f\u043e\u043a \u0432\u044b\u0445\u043e\u0434\u0438\u0442 \u043d\u0430 \u043d\u043e\u0432\u044b\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c: from vkbottle import GroupEventType from vkbottle.bot import MessageEvent @bot . on . raw_event ( GroupEventType . MESSAGE_EVENT , dataclass = MessageEvent ) async def handle_message_event ( event : MessageEvent ): await event . show_snackbar ( \"\u0421\u0435\u0439\u0447\u0430\u0441 \u044f \u0438\u0441\u0447\u0435\u0437\u043d\u0443\" ) \u041d\u0438\u043a\u0430\u043a\u043e\u0433\u043e object . \u0412\u0441\u0451 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0443\u0436\u0435 \u0432 event , \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 group_id \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0432\u0441\u0435\u0445 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u0432 event-data \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u043c\u0438 \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0440\u0443\u043b\u0437\u043e\u0432, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0441 payload \u0422\u0430\u043a \u0436\u0435 \u0435\u0441\u0442\u044c message_edit \u0438 message_send","title":"MessageEvent"},{"location":"tools/storage/","text":"Storage \u0425\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430 \u043a\u0430\u043a \u0431\u044b \u044d\u0442\u043e \u043d\u0435 \u0431\u044b\u043b\u043e \u043e\u0447\u0435\u0432\u0438\u0434\u043d\u043e \u043d\u0443\u0436\u043d\u044b \u0447\u0442\u043e\u0431\u044b \u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u043a\u043b\u044e\u0447 : \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0412\u0441\u0435 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430 \u0438\u043c\u0435\u044e\u0442 \u0442\u0430\u043a\u0438\u0435 \u043c\u0435\u0442\u043e\u0434\u044b: get(key) set(key, value) delete(key) contains(key) CtxStorage \u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u043e\u0435 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u043a\u0430\u043a \u0438 \u043b\u044e\u0431\u043e\u0435 \u0434\u0440\u0443\u0433\u043e\u0435 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u0443\u0434\u043e\u0431\u043d\u043e \u0442\u0435\u043c \u0447\u0442\u043e \u0435\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0438 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437 \u043b\u044e\u0431\u043e\u0433\u043e \u043c\u0435\u0441\u0442\u0430 \u0432 \u043a\u043e\u0434\u0435, \u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0435 \u043e\u043d\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0438\u0437-\u043a\u043e\u0440\u043e\u0431\u043a\u0438, \u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u043f\u0440\u0438\u043c\u0435\u0440 \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0432\u043e\u0435\u0433\u043e \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430 \u0415\u0441\u043b\u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0432\u043e\u0435 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 Rabbit MQ \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u044d\u0442\u043e \u043b\u0435\u0433\u043a\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c: \u0423\u043d\u0430\u0441\u043b\u0435\u0434\u0443\u0439\u0442\u0435\u0441\u044c \u043e\u0442 ABCStorage . \u0418\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u044b get , set , delete \u0438 contains (\u0443\u043a\u0430\u0437\u0430\u043d\u044b \u0440\u0430\u043d\u0435\u0435) c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u043a Rabbit MQ","title":"Storages"},{"location":"tools/storage/#storage","text":"\u0425\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430 \u043a\u0430\u043a \u0431\u044b \u044d\u0442\u043e \u043d\u0435 \u0431\u044b\u043b\u043e \u043e\u0447\u0435\u0432\u0438\u0434\u043d\u043e \u043d\u0443\u0436\u043d\u044b \u0447\u0442\u043e\u0431\u044b \u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u043a\u043b\u044e\u0447 : \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0412\u0441\u0435 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430 \u0438\u043c\u0435\u044e\u0442 \u0442\u0430\u043a\u0438\u0435 \u043c\u0435\u0442\u043e\u0434\u044b: get(key) set(key, value) delete(key) contains(key)","title":"Storage"},{"location":"tools/storage/#ctxstorage","text":"\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u043e\u0435 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u043a\u0430\u043a \u0438 \u043b\u044e\u0431\u043e\u0435 \u0434\u0440\u0443\u0433\u043e\u0435 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u0443\u0434\u043e\u0431\u043d\u043e \u0442\u0435\u043c \u0447\u0442\u043e \u0435\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0438 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437 \u043b\u044e\u0431\u043e\u0433\u043e \u043c\u0435\u0441\u0442\u0430 \u0432 \u043a\u043e\u0434\u0435, \u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0435 \u043e\u043d\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0438\u0437-\u043a\u043e\u0440\u043e\u0431\u043a\u0438, \u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u043f\u0440\u0438\u043c\u0435\u0440","title":"CtxStorage"},{"location":"tools/storage/#_1","text":"\u0415\u0441\u043b\u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0432\u043e\u0435 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 Rabbit MQ \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u044d\u0442\u043e \u043b\u0435\u0433\u043a\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c: \u0423\u043d\u0430\u0441\u043b\u0435\u0434\u0443\u0439\u0442\u0435\u0441\u044c \u043e\u0442 ABCStorage . \u0418\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u044b get , set , delete \u0438 contains (\u0443\u043a\u0430\u0437\u0430\u043d\u044b \u0440\u0430\u043d\u0435\u0435) c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u043a Rabbit MQ","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0432\u043e\u0435\u0433\u043e \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430"},{"location":"tools/template/","text":"Template \u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043a\u0430\u043a \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c \u0442\u0435\u043c\u043f\u043b\u0435\u0439\u0442\u044b \u043c\u043e\u0436\u043d\u043e \u0437\u0434\u0435\u0441\u044c \u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0442\u0435\u043c\u043f\u043b\u0435\u0439\u0442\u043e\u0432 \u0435\u0441\u0442\u044c template_gen \u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u043d\u0443\u0436\u043d\u044b\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b: from vkbottle import TemplateElement , template_gen my_template = template_gen ( TemplateElement ( ... ), # \u043e \u0442\u043e\u043c \u043a\u0430\u043a \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0447\u0435\u0442\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043c\u043e\u0436\u043d\u043e TemplateElement ( ... ) # \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 \u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 \u0432\u044b\u0448\u0435 ) # my_template - \u0433\u043e\u0442\u043e\u0432\u044b\u0439 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 json # ... await message . answer ( \"\u0414\u0435\u0440\u0436\u0438 \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u044c!\" , template = my_template )","title":"Template"},{"location":"tools/template/#template","text":"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043a\u0430\u043a \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c \u0442\u0435\u043c\u043f\u043b\u0435\u0439\u0442\u044b \u043c\u043e\u0436\u043d\u043e \u0437\u0434\u0435\u0441\u044c \u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0442\u0435\u043c\u043f\u043b\u0435\u0439\u0442\u043e\u0432 \u0435\u0441\u0442\u044c template_gen \u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u043d\u0443\u0436\u043d\u044b\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b: from vkbottle import TemplateElement , template_gen my_template = template_gen ( TemplateElement ( ... ), # \u043e \u0442\u043e\u043c \u043a\u0430\u043a \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0447\u0435\u0442\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043c\u043e\u0436\u043d\u043e TemplateElement ( ... ) # \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 \u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 \u0432\u044b\u0448\u0435 ) # my_template - \u0433\u043e\u0442\u043e\u0432\u044b\u0439 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 json # ... await message . answer ( \"\u0414\u0435\u0440\u0436\u0438 \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u044c!\" , template = my_template )","title":"Template"},{"location":"tools/uploaders/","text":"Uploaders \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043c\u0435\u0434\u0438\u0430 \u0440\u0430\u0437\u043d\u043e\u0433\u043e \u0442\u0438\u043f\u0430 \u0432 \u0432\u043a \u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0442\u0438\u043f\u043e\u0432 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440\u043e\u0432: photo - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u043e\u0442\u043e audio - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0430\u0443\u0434\u0438\u043e doc - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0440\u0430\u0437\u043d\u043e\u0433\u043e \u0442\u0438\u043f\u0430 video - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0432\u0438\u0434\u0435\u043e \u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440\u0430 \u0410\u043f\u043b\u043e\u0430\u0434\u0435\u0440 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 API \u043f\u0440\u0438 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438. \u041e\u043f\u0446\u0438\u044f generate_attachment_strings ( bool ) \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0437\u0430 \u0442\u043e, \u0447\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0445\u043e\u0434\u0438\u0442\u044c \u0438\u0437 \u043c\u0435\u0442\u043e\u0434\u0430 upload , \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u044d\u0442\u043e \u0441\u0442\u0440\u043e\u043a\u0430 \u0433\u043e\u0442\u043e\u0432\u0430\u044f \u043a \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u043a\u0430\u043a \u043c\u0435\u0434\u0438\u0430, \u0435\u0441\u043b\u0438 \u043d\u0443\u0436\u0435\u043d \u043e\u0431\u044a\u0435\u043a\u0442, \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043d\u0430 False \u041b\u044e\u0431\u043e\u0439 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440 \u0438\u043c\u0435\u0435\u0442 \u043c\u0435\u0442\u043e\u0434 .upload(file_source, ...) , \u043d\u0443\u0436\u043d\u044b\u0439 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 \u0438 \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 (\u0435\u0441\u043b\u0438 \u043e\u043d\u0438 \u0435\u0441\u0442\u044c \u0432 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440\u0435) file_source - \u043f\u0443\u0442\u044c \u0434\u043e \u0444\u0430\u0439\u043b\u0430 \u0432 \u0441\u0442\u0440\u043e\u043a\u0435 \u0438\u043b\u0438 \u0431\u0430\u0439\u0442\u044b \u0412\u0441\u0435 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440\u044b \u0440\u0430\u0437\u043b\u0438\u0447\u0430\u044e\u0442\u0441\u044f \u043c\u0435\u0442\u043e\u0434\u043e\u043c \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0435\u0440 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440\u0430 \u043c\u043e\u0436\u043d\u043e \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043c\u0435\u0442\u043e\u0434\u0430 .get_server(...) \u0422\u0430\u043a \u0436\u0435 \u0443 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440\u043e\u0432 \u0435\u0441\u0442\u044c \u043c\u0435\u0442\u043e\u0434\u044b \u0431\u0430\u0437\u043e\u0432\u043e\u0433\u043e \u043a\u043b\u0430\u0441\u0441\u0430, \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0435 \u0434\u043b\u044f \u0432\u0441\u0435\u0445: .upload_files(url, files) - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u043e\u0432 \u043c\u0435\u0442\u043e\u0434\u043e\u043c POST .get_bytes_io(data) - \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442 \u0441\u044b\u0440\u044b\u0435 \u0431\u0430\u0439\u0442\u044b \u0432 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0439 \u0434\u043b\u044f \u0432\u043a \u0432\u0438\u0434 .generate_attachment_string(attachment_type, owner_id, item_id) - \u0434\u0435\u043b\u0430\u0435\u0442 \u0438\u0437 \u043f\u043e\u043d\u044f\u0442\u043d\u044b\u0445 \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0445 \u0441\u0442\u0440\u043e\u043a\u0443 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u043a \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043a\u0430\u043a \u043c\u0435\u0434\u0438\u0430 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 .read(file_source) - \u0447\u0438\u0442\u0430\u0435\u0442 \u0444\u0430\u0439\u043b \u0435\u0441\u043b\u0438 file_source \u0441\u0442\u0440\u043e\u043a\u0430, \u0435\u0441\u043b\u0438 \u0431\u0430\u0439\u0442\u044b - \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0438\u0445 \u041e\u0431\u044b\u0447\u043d\u043e \u043d\u0443\u0436\u0435\u043d \u0442\u043e\u043b\u044c\u043a\u043e \u043c\u0435\u0442\u043e\u0434 upload \u0412\u0438\u0434\u044b \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440\u043e\u0432 \u0414\u043b\u044f \u0444\u043e\u0442\u043e PhotoMessageUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 PhotoToAlbumUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0432 \u0430\u043b\u044c\u0431\u043e\u043c PhotoWallUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0430 \u0441\u0442\u0435\u043d\u0443 PhotoFaviconUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0438 PhotoChatFaviconUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0438 \u0431\u0435\u0441\u0435\u0434\u044b PhotoMarketUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0434\u043b\u044f \u0442\u043e\u0432\u0430\u0440\u0430 \u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440 - PhotoUploader (\u043d\u0435 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d \u0441\u0435\u0440\u0432\u0435\u0440) \u0414\u043b\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 DocWallUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u043d\u0430 \u0441\u0442\u0435\u043d\u0443 DocMessagesUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 VoiceMessageUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 GraffitiUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0433\u0440\u0430\u0444\u0444\u0438\u0442\u0438 \u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440 - DocUploader (\u043d\u0435 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d \u0441\u0435\u0440\u0432\u0435\u0440) AudioUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0430\u0443\u0434\u0438\u043e VideoUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0432\u0438\u0434\u0435\u043e \u0418\u043c\u043f\u043e\u0440\u0442 \u0412\u0441\u0435 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440\u044b \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0438\u0437 \u043a\u043e\u0440\u043d\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 from vkbottle import DocMessagesUploader","title":"Uploaders"},{"location":"tools/uploaders/#uploaders","text":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043c\u0435\u0434\u0438\u0430 \u0440\u0430\u0437\u043d\u043e\u0433\u043e \u0442\u0438\u043f\u0430 \u0432 \u0432\u043a \u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0442\u0438\u043f\u043e\u0432 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440\u043e\u0432: photo - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u043e\u0442\u043e audio - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0430\u0443\u0434\u0438\u043e doc - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0440\u0430\u0437\u043d\u043e\u0433\u043e \u0442\u0438\u043f\u0430 video - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0432\u0438\u0434\u0435\u043e","title":"Uploaders"},{"location":"tools/uploaders/#_1","text":"\u0410\u043f\u043b\u043e\u0430\u0434\u0435\u0440 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 API \u043f\u0440\u0438 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438. \u041e\u043f\u0446\u0438\u044f generate_attachment_strings ( bool ) \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0437\u0430 \u0442\u043e, \u0447\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0445\u043e\u0434\u0438\u0442\u044c \u0438\u0437 \u043c\u0435\u0442\u043e\u0434\u0430 upload , \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u044d\u0442\u043e \u0441\u0442\u0440\u043e\u043a\u0430 \u0433\u043e\u0442\u043e\u0432\u0430\u044f \u043a \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u043a\u0430\u043a \u043c\u0435\u0434\u0438\u0430, \u0435\u0441\u043b\u0438 \u043d\u0443\u0436\u0435\u043d \u043e\u0431\u044a\u0435\u043a\u0442, \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043d\u0430 False \u041b\u044e\u0431\u043e\u0439 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440 \u0438\u043c\u0435\u0435\u0442 \u043c\u0435\u0442\u043e\u0434 .upload(file_source, ...) , \u043d\u0443\u0436\u043d\u044b\u0439 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 \u0438 \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 (\u0435\u0441\u043b\u0438 \u043e\u043d\u0438 \u0435\u0441\u0442\u044c \u0432 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440\u0435) file_source - \u043f\u0443\u0442\u044c \u0434\u043e \u0444\u0430\u0439\u043b\u0430 \u0432 \u0441\u0442\u0440\u043e\u043a\u0435 \u0438\u043b\u0438 \u0431\u0430\u0439\u0442\u044b \u0412\u0441\u0435 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440\u044b \u0440\u0430\u0437\u043b\u0438\u0447\u0430\u044e\u0442\u0441\u044f \u043c\u0435\u0442\u043e\u0434\u043e\u043c \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0435\u0440 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440\u0430 \u043c\u043e\u0436\u043d\u043e \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043c\u0435\u0442\u043e\u0434\u0430 .get_server(...) \u0422\u0430\u043a \u0436\u0435 \u0443 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440\u043e\u0432 \u0435\u0441\u0442\u044c \u043c\u0435\u0442\u043e\u0434\u044b \u0431\u0430\u0437\u043e\u0432\u043e\u0433\u043e \u043a\u043b\u0430\u0441\u0441\u0430, \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0435 \u0434\u043b\u044f \u0432\u0441\u0435\u0445: .upload_files(url, files) - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u043e\u0432 \u043c\u0435\u0442\u043e\u0434\u043e\u043c POST .get_bytes_io(data) - \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442 \u0441\u044b\u0440\u044b\u0435 \u0431\u0430\u0439\u0442\u044b \u0432 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0439 \u0434\u043b\u044f \u0432\u043a \u0432\u0438\u0434 .generate_attachment_string(attachment_type, owner_id, item_id) - \u0434\u0435\u043b\u0430\u0435\u0442 \u0438\u0437 \u043f\u043e\u043d\u044f\u0442\u043d\u044b\u0445 \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0445 \u0441\u0442\u0440\u043e\u043a\u0443 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u043a \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043a\u0430\u043a \u043c\u0435\u0434\u0438\u0430 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 .read(file_source) - \u0447\u0438\u0442\u0430\u0435\u0442 \u0444\u0430\u0439\u043b \u0435\u0441\u043b\u0438 file_source \u0441\u0442\u0440\u043e\u043a\u0430, \u0435\u0441\u043b\u0438 \u0431\u0430\u0439\u0442\u044b - \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0438\u0445 \u041e\u0431\u044b\u0447\u043d\u043e \u043d\u0443\u0436\u0435\u043d \u0442\u043e\u043b\u044c\u043a\u043e \u043c\u0435\u0442\u043e\u0434 upload","title":"\u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440\u0430"},{"location":"tools/uploaders/#_2","text":"\u0414\u043b\u044f \u0444\u043e\u0442\u043e PhotoMessageUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 PhotoToAlbumUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0432 \u0430\u043b\u044c\u0431\u043e\u043c PhotoWallUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0430 \u0441\u0442\u0435\u043d\u0443 PhotoFaviconUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0438 PhotoChatFaviconUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0438 \u0431\u0435\u0441\u0435\u0434\u044b PhotoMarketUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0434\u043b\u044f \u0442\u043e\u0432\u0430\u0440\u0430 \u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440 - PhotoUploader (\u043d\u0435 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d \u0441\u0435\u0440\u0432\u0435\u0440) \u0414\u043b\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 DocWallUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u043d\u0430 \u0441\u0442\u0435\u043d\u0443 DocMessagesUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 VoiceMessageUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 GraffitiUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0433\u0440\u0430\u0444\u0444\u0438\u0442\u0438 \u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440 - DocUploader (\u043d\u0435 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d \u0441\u0435\u0440\u0432\u0435\u0440) AudioUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0430\u0443\u0434\u0438\u043e VideoUploader - \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0432\u0438\u0434\u0435\u043e","title":"\u0412\u0438\u0434\u044b \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440\u043e\u0432"},{"location":"tools/uploaders/#_3","text":"\u0412\u0441\u0435 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440\u044b \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0438\u0437 \u043a\u043e\u0440\u043d\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 from vkbottle import DocMessagesUploader","title":"\u0418\u043c\u043f\u043e\u0440\u0442"},{"location":"tools/vkscript/","text":"Vkscript Converter \u041f\u0440\u043e\u0441\u0442\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 vkscript \u0438\u0437 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u0438 \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u044e, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441 api \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u043e\u0431\u0435\u0440\u043d\u0443\u0432 \u0432 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u043b\u0435 \u0435\u0435 \u0432\u044b\u0437\u043e\u0432\u0430 \u0432\u0430\u043c \u0432\u0435\u0440\u043d\u0443\u043b\u0441\u044f \u043a\u043e\u0434 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0449\u0438\u0439 \u043b\u043e\u0433\u0438\u043a\u0443 \u0432\u0430\u0448\u0435\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438, \u043d\u043e \u0432 VKScript from vkbottle import vkscript @vkscript def my_execute ( api , user_ids = ()): message_ids = [] for user_id in user_ids : user = api . users . get ( user_ids = user_id )[ 0 ] message_ids . append ( api . messages . send ( message = f \" { user . first_name } , \u0441\u043f\u0430\u0441\u0438\u0431\u043e \u0447\u0442\u043e \u0437\u0430\u0448\u0435\u043b \u043d\u0430 \u0447\u0430\u0439\" , random_id = 0 , peer_id = user_id )) return message_ids # \u0434\u0430\u043b\u0435\u0435 \u0432\u044b\u0437\u044b\u0432\u0430\u044f \u044d\u0442\u0443 \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0435\u0435 \u043e\u0442\u0432\u0435\u0442 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043a\u043e\u0434\u0430 \u0434\u043b\u044f execute await api . execute ( code = my_execute ( user_ids = [ 10 , 11 , 12 ]))","title":"VKScript"},{"location":"tools/vkscript/#vkscript-converter","text":"\u041f\u0440\u043e\u0441\u0442\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 vkscript \u0438\u0437 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u0438 \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u044e, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441 api \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u043e\u0431\u0435\u0440\u043d\u0443\u0432 \u0432 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u043b\u0435 \u0435\u0435 \u0432\u044b\u0437\u043e\u0432\u0430 \u0432\u0430\u043c \u0432\u0435\u0440\u043d\u0443\u043b\u0441\u044f \u043a\u043e\u0434 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0449\u0438\u0439 \u043b\u043e\u0433\u0438\u043a\u0443 \u0432\u0430\u0448\u0435\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438, \u043d\u043e \u0432 VKScript from vkbottle import vkscript @vkscript def my_execute ( api , user_ids = ()): message_ids = [] for user_id in user_ids : user = api . users . get ( user_ids = user_id )[ 0 ] message_ids . append ( api . messages . send ( message = f \" { user . first_name } , \u0441\u043f\u0430\u0441\u0438\u0431\u043e \u0447\u0442\u043e \u0437\u0430\u0448\u0435\u043b \u043d\u0430 \u0447\u0430\u0439\" , random_id = 0 , peer_id = user_id )) return message_ids # \u0434\u0430\u043b\u0435\u0435 \u0432\u044b\u0437\u044b\u0432\u0430\u044f \u044d\u0442\u0443 \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0435\u0435 \u043e\u0442\u0432\u0435\u0442 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043a\u043e\u0434\u0430 \u0434\u043b\u044f execute await api . execute ( code = my_execute ( user_ids = [ 10 , 11 , 12 ]))","title":"Vkscript Converter"},{"location":"tutorial/","text":"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u0430 \u041f\u0435\u0440\u0432\u044b\u0439 \u0431\u043e\u0442 \u043d\u0430 vkbottle \u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0420\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u0434\u0430 \u041a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u0438 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u041c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 \u0438 return \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u044b \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 CallbackAPI","title":"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u0430"},{"location":"tutorial/#_1","text":"\u041f\u0435\u0440\u0432\u044b\u0439 \u0431\u043e\u0442 \u043d\u0430 vkbottle \u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0420\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u0434\u0430 \u041a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u0438 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u041c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 \u0438 return \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u044b \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 CallbackAPI","title":"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u0430"},{"location":"tutorial/callback-bot/","text":"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 CallbackAPI \u26a0\ufe0f \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043a \u043f\u0440\u043e\u0447\u0442\u0435\u043d\u0438\u044e: https://dev.vk.com/api/callback/getting-started \u26a0\ufe0f \u0423 \u0432\u0430\u0441 \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c\u0441\u044f \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 \u0441 \u0434\u043e\u043c\u0435\u043d\u043d\u044b\u043c \u0438\u043c\u0435\u043d\u0435\u043c. DDNS \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043d\u0435 \u0431\u0443\u0434\u0435\u0442. \u0422\u0430\u043a\u0436\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0443\u043c\u0435\u0432\u0430\u0435\u0442\u0441\u044f \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u043e\u043f\u044b\u0442\u0430 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435 \u0432\u0435\u0431-\u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432. \u0414\u043b\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f CallbackAPI \u043a \u0432\u0430\u0448\u0435\u043c\u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0443: \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043b\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0442\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c: import os TOKEN = os . getenv ( \"VK_TOKEN\" ) # \u043a\u043b\u044e\u0447 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 url = os . getenv ( \"VK_URL\" ) # url = \"http://example.com/whateveryouwnant\" title = os . getenv ( \"VK_TITLE\" ) # title = \"server\" secret_key = os . getenv ( \"VK_SECRET_KEY\" ) # \u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e \u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c BotCallback \u0438\u0437 vkbottle.callback \u0438 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043b\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438: from vkbottle.callback import BotCallback callback = BotCallback ( url = url , title = title ) \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u043e\u0442\u0430: from vkbottle import Bot bot = Bot ( token = TOKEN , callback = callback ) \u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043b\u044e\u0431\u043e\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 ( aiohttp , flask , fastapi ) \u0438 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f. \u0414\u043b\u044f \u0431\u043e\u043b\u0435\u0435 \u043f\u043e\u043b\u043d\u043e\u0433\u043e \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u0440\u0438\u043c\u0435\u0440. # event - \u0441\u043e\u0431\u044b\u0442\u0438\u0435, \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u043e\u0435 \u043e\u0442 vk await bot . process_event ( event ) \u26a0\ufe0f \u041f\u043e\u0441\u043b\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0431\u043e\u0442 \u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f, \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0438\u0445 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u0433\u0440\u0443\u043f\u043f\u044b. \u041f\u0440\u0438\u043c\u0435\u0440 \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 CallbackAPI","title":"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 Callback API"},{"location":"tutorial/callback-bot/#callbackapi","text":"\u26a0\ufe0f \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043a \u043f\u0440\u043e\u0447\u0442\u0435\u043d\u0438\u044e: https://dev.vk.com/api/callback/getting-started \u26a0\ufe0f \u0423 \u0432\u0430\u0441 \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c\u0441\u044f \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 \u0441 \u0434\u043e\u043c\u0435\u043d\u043d\u044b\u043c \u0438\u043c\u0435\u043d\u0435\u043c. DDNS \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043d\u0435 \u0431\u0443\u0434\u0435\u0442. \u0422\u0430\u043a\u0436\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0443\u043c\u0435\u0432\u0430\u0435\u0442\u0441\u044f \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u043e\u043f\u044b\u0442\u0430 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435 \u0432\u0435\u0431-\u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432. \u0414\u043b\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f CallbackAPI \u043a \u0432\u0430\u0448\u0435\u043c\u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0443: \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043b\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0442\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c: import os TOKEN = os . getenv ( \"VK_TOKEN\" ) # \u043a\u043b\u044e\u0447 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 url = os . getenv ( \"VK_URL\" ) # url = \"http://example.com/whateveryouwnant\" title = os . getenv ( \"VK_TITLE\" ) # title = \"server\" secret_key = os . getenv ( \"VK_SECRET_KEY\" ) # \u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e \u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c BotCallback \u0438\u0437 vkbottle.callback \u0438 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043b\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438: from vkbottle.callback import BotCallback callback = BotCallback ( url = url , title = title ) \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u043e\u0442\u0430: from vkbottle import Bot bot = Bot ( token = TOKEN , callback = callback ) \u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043b\u044e\u0431\u043e\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 ( aiohttp , flask , fastapi ) \u0438 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f. \u0414\u043b\u044f \u0431\u043e\u043b\u0435\u0435 \u043f\u043e\u043b\u043d\u043e\u0433\u043e \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u0440\u0438\u043c\u0435\u0440. # event - \u0441\u043e\u0431\u044b\u0442\u0438\u0435, \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u043e\u0435 \u043e\u0442 vk await bot . process_event ( event ) \u26a0\ufe0f \u041f\u043e\u0441\u043b\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0431\u043e\u0442 \u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f, \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0438\u0445 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u0433\u0440\u0443\u043f\u043f\u044b.","title":"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 CallbackAPI"},{"location":"tutorial/callback-bot/#_1","text":"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 CallbackAPI","title":"\u041f\u0440\u0438\u043c\u0435\u0440"},{"location":"tutorial/code-separation/","text":"\u0420\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u0434\u0430 \u0420\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u0434\u0430 - \u043e\u0447\u0435\u043d\u044c \u0432\u0430\u0436\u043d\u0430\u044f \u0432\u0435\u0449\u044c \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0427\u0442\u043e\u0431\u044b \u0434\u0435\u043b\u0430\u0442\u044c \u044d\u0442\u043e, \u0432 vkbottle \u043f\u0440\u0435\u0434\u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 Blueprint . Blueprint - \u0442\u043e\u0447\u043d\u0430\u044f \u043a\u043e\u043f\u0438\u044f (\u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0431\u043e\u0442\u0430), \u043d\u043e \u043f\u0440\u0438 \u0432\u0441\u0435\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0447\u043d\u043e\u0441\u0442\u0438 \u0441 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u043c \u0431\u043e\u0442\u0430, \u0431\u043b\u0443\u043f\u0440\u0438\u043d\u0442 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u0443\u0449\u0435\u043d \u043a\u0430\u043a \u0430\u0433\u0435\u043d\u0442 \u043f\u043e\u043b\u043b\u0438\u043d\u0433\u0430, \u043e\u043d \u043c\u043e\u0436\u0435\u0442 \u043b\u0438\u0448\u044c \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u0438 \u0434\u0440\u0443\u0433\u0438\u0435 labeler definition'\u044b \u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044b api , polling \u0438 state_dispenser \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0441\u0440\u0435\u0434\u0435 (\u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430 \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440), \u0434\u043e \u043c\u043e\u043c\u0435\u043d\u0442\u0430 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u0431\u043b\u0443\u043f\u0440\u0438\u043d\u0442 \u0431\u044b\u043b \u0441\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u0438\u0440\u043e\u0432\u0430\u043d \u043e\u043d\u0438 \u0440\u0430\u0432\u043d\u044b None , \u0434\u043b\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0441\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u0438\u0440\u043e\u0432\u0430\u043d \u0431\u043b\u0443\u043f\u0440\u0438\u043d\u0442 \u0438\u043b\u0438 \u043d\u0435\u0442 \u0432 \u0441\u0440\u0435\u0434\u0435 \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0435\u0441\u044c \u0432\u044b, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0430\u0442\u0440\u0438\u0431\u0443\u0442 constructed \u0420\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u0434\u0430, \u043a\u0440\u043e\u043c\u0435 \u0442\u043e\u0433\u043e \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0447\u0435\u043d\u044c \u0433\u0440\u0430\u043c\u043e\u0442\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043e \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0445 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0432 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440\u0435, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 auto_rules \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u043d\u0430\u043a\u043b\u0430\u0434\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0432\u0441\u0435 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0431\u043b\u0443\u043f\u0440\u0438\u043d\u0442\u0430 \u26a0\ufe0f auto_rules \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439, \u0434\u043b\u044f \u0441\u044b\u0440\u044b\u0445 \u0435\u0432\u0435\u043d\u0442\u043e\u0432 \u0432\u0430\u043c \u043d\u0443\u0436\u0435\u043d raw_event_auto_rules \u0438 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430, \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0438\u0435 \u0441 \u043d\u0438\u043c\u0438 \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430\u044f \u0438\u0435\u0440\u0430\u0440\u0445\u0438\u044f \u0444\u0430\u0439\u043b\u043e\u0432 \u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u043a\u043e\u0434, \u0432\u0430\u043c \u043d\u0443\u0436\u0435\u043d \u0442\u0430\u043a \u043d\u0430\u0437\u044b\u0432\u0430\u0435\u043c\u044b\u0439 \u043a\u043e\u043b\u043b\u0435\u043a\u0442\u043e\u0440 \u0431\u043b\u0443\u043f\u0440\u0438\u043d\u0442\u043e\u0432, \u0441\u0430\u043c\u0438 \u0431\u043b\u0443\u043f\u0440\u0438\u043d\u0442\u044b \u0438 \u0431\u043e\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0441\u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u043d \u0441 \u043a\u043e\u043b\u043b\u0435\u043a\u0442\u043e\u0440\u043e\u043c. \u0421\u0430\u043c\u0430\u044f \u043f\u0440\u043e\u0441\u0442\u0430\u044f \u0438\u0435\u0440\u0430\u0440\u0445\u0438\u044f: * bot.py * blueprints - chat.py - admin.py bot.py \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0437\u0431\u0435\u0440\u0435\u043c \u043a\u043e\u0434 \u0444\u0430\u0439\u043b\u0430 bot.py , \u0441\u0430\u043c\u044b\u0439 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u043a\u043e\u043b\u043b\u0435\u043a\u0442\u043e\u0440, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c - \u043a\u043e\u043b\u043b\u0435\u043a\u0442\u043e\u0440 \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438 load_blueprints_from_package , \u043e\u043d \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043a\u0435\u0442\u044b \u0438\u0437 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0442\u044c \u0431\u043b\u0443\u043f\u0440\u0438\u043d\u0442\u044b \u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0443\u0436\u043d\u044b\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b: from vkbottle import Bot , load_blueprints_from_package \u0414\u0430\u043b\u0435\u0435 \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0430\u043c\u043e\u0433\u043e \u0431\u043e\u0442\u0430: bot = Bot ( \"token\" ) \u0422\u0435\u043f\u0435\u0440\u044c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043a\u043e\u043b\u043b\u0435\u043a\u0442\u043e\u0440\u0430 \u0438 \u0431\u043e\u0442\u0430 \u043c\u043e\u0436\u043d\u043e \u0441\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0435 \u0431\u043b\u0443\u043f\u0440\u0438\u043d\u0442\u044b: for bp in load_blueprints_from_package ( \"blueprints\" ): bp . load ( bot ) \u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0431\u043e\u0442\u0430: bot . run_forever () chat.py \u0414\u043e\u0431\u0430\u0432\u0438\u043c \u0432 auto_rules \u043f\u0440\u0430\u0432\u0438\u043b\u043e, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0431\u0443\u0434\u0435\u0442 \u0441\u043b\u0435\u0434\u0438\u0442\u044c \u0447\u0442\u043e\u0431\u044b \u0432\u0441\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0448\u043b\u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0447\u0430\u0442\u0430 \u0421\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043f\u0440\u0430\u0432\u0438\u043b\u043e \u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0435\u0433\u043e \u0432 auto_rules, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0447\u0430\u0442\u0435 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0442\u044c \u0435\u0435 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432 \u044d\u0442\u043e\u0433\u043e \u0431\u043b\u0443\u043f\u0440\u0438\u043d\u0442\u0430 \u0414\u043e\u0431\u0430\u0432\u0438\u043c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432 from vkbottle.bot import Blueprint , Message , rules from vkbottle_types.objects import MessagesConversation class ChatInfoRule ( rules . ABCRule [ Message ]): async def check ( self , message : Message ) -> dict : chats_info = await bp . api . messages . get_conversations_by_id ( message . peer_id ) return { \"chat\" : chats_info . items [ 0 ]} bp = Blueprint ( \"for chat commands\" ) bp . labeler . vbml_ignore_case = True bp . labeler . auto_rules = [ rules . PeerRule ( from_chat = True ), ChatInfoRule ()] @bp . on . message ( command = \"\u0441\u0430\u043c\u043e\u0431\u0430\u043d\" ) async def kick ( message : Message , chat : MessagesConversation ): await bp . api . messages . remove_chat_user ( message . chat_id , message . from_id ) await message . answer ( f \"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a \u0441\u0430\u043c\u043e\u0443\u0441\u0442\u0440\u0430\u043d\u0438\u043b\u0441\u044f \u0438\u0437 { chat . chat_settings . title } \u043f\u043e \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u043c\u0443 \u0436\u0435\u043b\u0430\u043d\u0438\u044e\" ) @bp . on . message ( text = \"\u0433\u0434\u0435 \u044f\" ) async def where_am_i ( message : Message , chat : MessagesConversation ): await message . answer ( f \"\u0412\u044b \u0432 << { chat . chat_settings . title } >>\" ) admin.py \u041f\u0443\u0441\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0438\u0437 \u044d\u0442\u043e\u0433\u043e \u0431\u043b\u0443\u043f\u0440\u0438\u043d\u0442\u0430 \u0431\u0443\u0434\u0443\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044e \u0431\u043e\u0442\u0430 \u0421\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u043d\u0430 id \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, \u043d\u0430\u043f\u0438\u0441\u0430\u0432\u0448\u0435\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0414\u043e\u0431\u0430\u0432\u0438\u043c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432 from vkbottle.bot import Blueprint , Message , rules bp = Blueprint ( \"for admin commands\" ) bp . labeler . auto_rules = [ rules . FromPeerRule ( 1 )] # \u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c, \u0432\u044b \u044f\u0432\u043b\u044f\u0435\u0442\u0435\u0441\u044c \u041f\u0430\u0432\u043b\u043e\u043c \u0414\u0443\u0440\u043e\u0432\u044b\u043c @bp . on . message ( command = \"halt\" ) async def halt ( _ ): exit ( 0 ) \u042d\u043a\u0437\u0430\u043c\u043f\u043b\u044b \u043f\u043e \u044d\u0442\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u0430 blueprint","title":"\u0420\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u0434\u0430"},{"location":"tutorial/code-separation/#_1","text":"\u0420\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u0434\u0430 - \u043e\u0447\u0435\u043d\u044c \u0432\u0430\u0436\u043d\u0430\u044f \u0432\u0435\u0449\u044c \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0427\u0442\u043e\u0431\u044b \u0434\u0435\u043b\u0430\u0442\u044c \u044d\u0442\u043e, \u0432 vkbottle \u043f\u0440\u0435\u0434\u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 Blueprint . Blueprint - \u0442\u043e\u0447\u043d\u0430\u044f \u043a\u043e\u043f\u0438\u044f (\u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0431\u043e\u0442\u0430), \u043d\u043e \u043f\u0440\u0438 \u0432\u0441\u0435\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0447\u043d\u043e\u0441\u0442\u0438 \u0441 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u043c \u0431\u043e\u0442\u0430, \u0431\u043b\u0443\u043f\u0440\u0438\u043d\u0442 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u0443\u0449\u0435\u043d \u043a\u0430\u043a \u0430\u0433\u0435\u043d\u0442 \u043f\u043e\u043b\u043b\u0438\u043d\u0433\u0430, \u043e\u043d \u043c\u043e\u0436\u0435\u0442 \u043b\u0438\u0448\u044c \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u0438 \u0434\u0440\u0443\u0433\u0438\u0435 labeler definition'\u044b \u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044b api , polling \u0438 state_dispenser \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0441\u0440\u0435\u0434\u0435 (\u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430 \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440), \u0434\u043e \u043c\u043e\u043c\u0435\u043d\u0442\u0430 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u0431\u043b\u0443\u043f\u0440\u0438\u043d\u0442 \u0431\u044b\u043b \u0441\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u0438\u0440\u043e\u0432\u0430\u043d \u043e\u043d\u0438 \u0440\u0430\u0432\u043d\u044b None , \u0434\u043b\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0441\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u0438\u0440\u043e\u0432\u0430\u043d \u0431\u043b\u0443\u043f\u0440\u0438\u043d\u0442 \u0438\u043b\u0438 \u043d\u0435\u0442 \u0432 \u0441\u0440\u0435\u0434\u0435 \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0435\u0441\u044c \u0432\u044b, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0430\u0442\u0440\u0438\u0431\u0443\u0442 constructed \u0420\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u0434\u0430, \u043a\u0440\u043e\u043c\u0435 \u0442\u043e\u0433\u043e \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0447\u0435\u043d\u044c \u0433\u0440\u0430\u043c\u043e\u0442\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043e \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0445 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0432 \u0430\u043f\u043b\u043e\u0430\u0434\u0435\u0440\u0435, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 auto_rules \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u043d\u0430\u043a\u043b\u0430\u0434\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0432\u0441\u0435 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0431\u043b\u0443\u043f\u0440\u0438\u043d\u0442\u0430 \u26a0\ufe0f auto_rules \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439, \u0434\u043b\u044f \u0441\u044b\u0440\u044b\u0445 \u0435\u0432\u0435\u043d\u0442\u043e\u0432 \u0432\u0430\u043c \u043d\u0443\u0436\u0435\u043d raw_event_auto_rules \u0438 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430, \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0438\u0435 \u0441 \u043d\u0438\u043c\u0438","title":"\u0420\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u0434\u0430"},{"location":"tutorial/code-separation/#_2","text":"\u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u043a\u043e\u0434, \u0432\u0430\u043c \u043d\u0443\u0436\u0435\u043d \u0442\u0430\u043a \u043d\u0430\u0437\u044b\u0432\u0430\u0435\u043c\u044b\u0439 \u043a\u043e\u043b\u043b\u0435\u043a\u0442\u043e\u0440 \u0431\u043b\u0443\u043f\u0440\u0438\u043d\u0442\u043e\u0432, \u0441\u0430\u043c\u0438 \u0431\u043b\u0443\u043f\u0440\u0438\u043d\u0442\u044b \u0438 \u0431\u043e\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0441\u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u043d \u0441 \u043a\u043e\u043b\u043b\u0435\u043a\u0442\u043e\u0440\u043e\u043c. \u0421\u0430\u043c\u0430\u044f \u043f\u0440\u043e\u0441\u0442\u0430\u044f \u0438\u0435\u0440\u0430\u0440\u0445\u0438\u044f: * bot.py * blueprints - chat.py - admin.py","title":"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430\u044f \u0438\u0435\u0440\u0430\u0440\u0445\u0438\u044f \u0444\u0430\u0439\u043b\u043e\u0432"},{"location":"tutorial/code-separation/#botpy","text":"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0437\u0431\u0435\u0440\u0435\u043c \u043a\u043e\u0434 \u0444\u0430\u0439\u043b\u0430 bot.py , \u0441\u0430\u043c\u044b\u0439 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u043a\u043e\u043b\u043b\u0435\u043a\u0442\u043e\u0440, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c - \u043a\u043e\u043b\u043b\u0435\u043a\u0442\u043e\u0440 \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438 load_blueprints_from_package , \u043e\u043d \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043a\u0435\u0442\u044b \u0438\u0437 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0442\u044c \u0431\u043b\u0443\u043f\u0440\u0438\u043d\u0442\u044b \u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0443\u0436\u043d\u044b\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b: from vkbottle import Bot , load_blueprints_from_package \u0414\u0430\u043b\u0435\u0435 \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0430\u043c\u043e\u0433\u043e \u0431\u043e\u0442\u0430: bot = Bot ( \"token\" ) \u0422\u0435\u043f\u0435\u0440\u044c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043a\u043e\u043b\u043b\u0435\u043a\u0442\u043e\u0440\u0430 \u0438 \u0431\u043e\u0442\u0430 \u043c\u043e\u0436\u043d\u043e \u0441\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0435 \u0431\u043b\u0443\u043f\u0440\u0438\u043d\u0442\u044b: for bp in load_blueprints_from_package ( \"blueprints\" ): bp . load ( bot ) \u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0431\u043e\u0442\u0430: bot . run_forever ()","title":"bot.py"},{"location":"tutorial/code-separation/#chatpy","text":"\u0414\u043e\u0431\u0430\u0432\u0438\u043c \u0432 auto_rules \u043f\u0440\u0430\u0432\u0438\u043b\u043e, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0431\u0443\u0434\u0435\u0442 \u0441\u043b\u0435\u0434\u0438\u0442\u044c \u0447\u0442\u043e\u0431\u044b \u0432\u0441\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0448\u043b\u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0447\u0430\u0442\u0430 \u0421\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043f\u0440\u0430\u0432\u0438\u043b\u043e \u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0435\u0433\u043e \u0432 auto_rules, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0447\u0430\u0442\u0435 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0442\u044c \u0435\u0435 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432 \u044d\u0442\u043e\u0433\u043e \u0431\u043b\u0443\u043f\u0440\u0438\u043d\u0442\u0430 \u0414\u043e\u0431\u0430\u0432\u0438\u043c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432 from vkbottle.bot import Blueprint , Message , rules from vkbottle_types.objects import MessagesConversation class ChatInfoRule ( rules . ABCRule [ Message ]): async def check ( self , message : Message ) -> dict : chats_info = await bp . api . messages . get_conversations_by_id ( message . peer_id ) return { \"chat\" : chats_info . items [ 0 ]} bp = Blueprint ( \"for chat commands\" ) bp . labeler . vbml_ignore_case = True bp . labeler . auto_rules = [ rules . PeerRule ( from_chat = True ), ChatInfoRule ()] @bp . on . message ( command = \"\u0441\u0430\u043c\u043e\u0431\u0430\u043d\" ) async def kick ( message : Message , chat : MessagesConversation ): await bp . api . messages . remove_chat_user ( message . chat_id , message . from_id ) await message . answer ( f \"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a \u0441\u0430\u043c\u043e\u0443\u0441\u0442\u0440\u0430\u043d\u0438\u043b\u0441\u044f \u0438\u0437 { chat . chat_settings . title } \u043f\u043e \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u043c\u0443 \u0436\u0435\u043b\u0430\u043d\u0438\u044e\" ) @bp . on . message ( text = \"\u0433\u0434\u0435 \u044f\" ) async def where_am_i ( message : Message , chat : MessagesConversation ): await message . answer ( f \"\u0412\u044b \u0432 << { chat . chat_settings . title } >>\" )","title":"chat.py"},{"location":"tutorial/code-separation/#adminpy","text":"\u041f\u0443\u0441\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0438\u0437 \u044d\u0442\u043e\u0433\u043e \u0431\u043b\u0443\u043f\u0440\u0438\u043d\u0442\u0430 \u0431\u0443\u0434\u0443\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044e \u0431\u043e\u0442\u0430 \u0421\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u043d\u0430 id \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, \u043d\u0430\u043f\u0438\u0441\u0430\u0432\u0448\u0435\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0414\u043e\u0431\u0430\u0432\u0438\u043c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432 from vkbottle.bot import Blueprint , Message , rules bp = Blueprint ( \"for admin commands\" ) bp . labeler . auto_rules = [ rules . FromPeerRule ( 1 )] # \u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c, \u0432\u044b \u044f\u0432\u043b\u044f\u0435\u0442\u0435\u0441\u044c \u041f\u0430\u0432\u043b\u043e\u043c \u0414\u0443\u0440\u043e\u0432\u044b\u043c @bp . on . message ( command = \"halt\" ) async def halt ( _ ): exit ( 0 )","title":"admin.py"},{"location":"tutorial/code-separation/#_3","text":"blueprint","title":"\u042d\u043a\u0437\u0430\u043c\u043f\u043b\u044b \u043f\u043e \u044d\u0442\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u0430"},{"location":"tutorial/error-handling/","text":"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a \u0418\u043d\u043e\u0433\u0434\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u043a api \u0432\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u044e\u0442 \u043e\u0448\u0438\u0431\u043a\u0438, \u0434\u043b\u044f \u0438\u0445 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0432\u043e \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0435 \u043f\u0440\u0435\u0434\u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043e \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 try ... except VKAPIError \u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0437\u044a\u044f\u0441\u043d\u0438\u043c \u0447\u0442\u043e \u0442\u0430\u043a\u043e\u0435 VKAPIError , \u044d\u0442\u043e \u043f\u043e\u0434\u0442\u0438\u043f CodeException , \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0437\u0430\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e\u0431\u044b \u043e\u0448\u0438\u0431\u043a\u0430 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043b\u0430\u0441\u044c \u0432 except \u0438 \u0431\u0435\u0437 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430 ( try except VKAPIError ) \u0438 \u043f\u0440\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0438 \u043a\u043e\u0434\u0430 ( try except VKAPIError[code] ) \u0412 VKAPIError \u0435\u0441\u0442\u044c \u0434\u0432\u0430 \u043f\u043e\u043b\u044f: code - \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438, int description - \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043a\u0438, str \u0427\u0442\u043e\u0431\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c VKAPIError \u043d\u0443\u0436\u043d\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0435\u0433\u043e: from vkbottle import VKAPIError \u0422\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u043d\u043e \u043e\u0431\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u043a\u043e\u0439 \u043d\u0438\u0431\u0443\u0434\u044c \u043a\u043e\u0434 \u0441 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u043c \u043a API: try : await api . wall . post () except VKAPIError as e : print ( \"\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430\" , e . code ) \u041f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u044d\u0442\u043e\u0433\u043e \u043a\u043e\u0434\u0430 vk \u0432\u0435\u0440\u043d\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0443, \u0438\u0437-\u0437\u0430 \u0442\u043e\u0433\u043e \u0447\u0442\u043e \u043d\u0435 \u0431\u044b\u043b\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u043d\u0443\u0436\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b try ... except VKAPIError[code] \u041a\u0440\u043e\u043c\u0435 \u0431\u043e\u043b\u0435\u0435 \u043e\u0431\u0449\u0435\u0433\u043e \u0441\u043f\u043e\u0441\u043e\u0431\u0430 \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0432\u0441\u0435\u0445 \u043e\u0448\u0438\u0431\u043e\u043a vk \u0432 \u043e\u0434\u043d\u043e\u043c \u0431\u043b\u043e\u043a\u0435 except, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0431\u043e\u043b\u0435\u0435 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u043c VKAPIError[code] \u0421\u043f\u0438\u0441\u043e\u043a \u0432\u0441\u0435\u0445 \u043e\u0448\u0438\u0431\u043e\u043a \u0441 \u0438\u0445 \u043a\u043e\u0434\u0430\u043c\u0438 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0439\u0442\u0438 \u0437\u0434\u0435\u0441\u044c \u0421\u0434\u0435\u043b\u0430\u0435\u043c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0431\u043b\u043e\u043a\u043e\u0432 \u0434\u043b\u044f \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u043f\u0435\u0440\u0432\u044b\u0439 \u0438 \u0432\u0442\u043e\u0440\u043e\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u043c\u043e\u0436\u043d\u043e \u043a\u043e\u043c\u0431\u0438\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c try : await api . messages . send ( peer_id = 1 , message = \"\u043f\u0440\u0438\u0432\u0435\u0442!\" , random_id = 0 ) except VKAPIError [ 902 ] as e : print ( \"\u043d\u0435 \u043c\u043e\u0433\u0443 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0438\u0437-\u0437\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0441\u0442\u0438\" ) except VKAPIError as e : print ( \"\u043d\u0435 \u043c\u043e\u0433\u0443 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c:\" , e . error_description ) \u0421\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u041d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 vk \u0438\u043c\u0435\u044e\u0442 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u044c\u0441\u044f \u0432\u0430\u043c \u0434\u043b\u044f \u0438\u0445 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438: CaptchaError : sid - \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 captcha, int img - \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435, str ErrorHandler \u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e \u0441 \u0431\u043e\u0442\u043e\u043c, \u0445\u043e\u0442\u044c \u044d\u0442\u043e \u0438 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442, \u0442\u0430\u043a \u043a\u0430\u043a \u044d\u0442\u043e - \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b - \u0443\u043f\u0440\u043e\u0449\u0435\u043d\u043d\u044b\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 \u0422\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u043f\u043e \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0443 \u043e\u0448\u0438\u0431\u043e\u043a \u0437\u0434\u0435\u0441\u044c \u0423 ErrorHandler \u0435\u0441\u0442\u044c 4 \u043c\u0435\u0442\u043e\u0434\u0430: register_error_handler - \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440, \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0449\u0438\u0439 \u0442\u0438\u043f\u044b \u043e\u0448\u0438\u0431\u043e\u043a \u0438 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0443\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u044e-\u0445\u0435\u043d\u0434\u043b\u0435\u0440. \u0415\u0441\u043b\u0438 \u0432\u043e\u0437\u043d\u0438\u043a\u043d\u0435\u0442 \u043e\u0434\u043d\u0430 \u0438\u0437 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0445 \u043e\u0448\u0438\u0431\u043e\u043a (\u0438\u043b\u0438 \u0435\u0451 \u043f\u043e\u0434\u0442\u0438\u043f\u0430), \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0441\u044f \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0445\u0435\u043d\u0434\u043b\u0435\u0440. register_undefined_error_handler - \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440, \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0449\u0438\u0439 \u0442\u0438\u043f \u043e\u0448\u0438\u0431\u043a\u0438 \u0438 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0443\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u044e-\u0445\u0435\u043d\u0434\u043b\u0435\u0440. \u0415\u0441\u043b\u0438 \u0432\u043e\u0437\u043d\u0438\u043a\u043d\u0435\u0442 \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430, \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0441\u044f \u044d\u0442\u043e\u0442 \u0445\u0435\u043d\u0434\u043b\u0435\u0440. handle , \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0449\u0438\u0439 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u043e\u0448\u0438\u0431\u043a\u0438. \u041f\u0435\u0440\u0435\u0434\u0430\u0451\u0442 \u043e\u0448\u0438\u0431\u043a\u0443 \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u0445\u0435\u043d\u0434\u043b\u0435\u0440, \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0432\u044b\u0448\u0435\u043e\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0445 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u043e\u0432. \u0415\u0441\u043b\u0438 \u0434\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0439 \u043e\u0448\u0438\u0431\u043a\u0438 \u043d\u0435\u0442 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430, \u043f\u043e\u0434\u043d\u0438\u043c\u0430\u0435\u0442 \u0435\u0451. catch - \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440. \u041b\u043e\u0432\u0438\u0442 \u043e\u0448\u0438\u0431\u043a\u0438 \u0438\u0437 \u0434\u0435\u043a\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0451\u0442 \u0438\u0445 \u043c\u0435\u0442\u043e\u0434\u0443 handle . from vkbottle import Bot , VKAPIError bot = Bot ( \"token\" ) @bot . error_handler . register_error_handler ( RuntimeError ) async def runtime_error_handler ( e : RuntimeError ): print ( \"\u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 runtime\" , e ) @bot . error_handler . register_error_handler ( VKAPIError [ 902 ]) async def unable_to_write_handler ( e : VKAPIError ): print ( \"\u0447\u0435\u043b\u043e\u0432\u0435\u043a \u043d\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0438\u043b \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\" , e ) \u0412 \u043f\u0440\u0438\u043c\u0435\u0440\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043e 2 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430 \u043e\u0448\u0438\u0431\u043e\u043a: \u0434\u043b\u044f RuntimeError \u0438 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e VKAPIError \u0422\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u0441\u0440\u0430\u0437\u0443 \u0434\u043b\u044f \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0442\u0438\u043f\u043e\u0432 \u043e\u0448\u0438\u0431\u043e\u043a: from typing import Union from vkbottle import Bot , VKAPIError bot = Bot ( \"token\" ) @bot . error_handler . register_error_handler ( TypeError , ValueError ) async def type_or_value_error_handler ( e : Union [ TypeError , ValueError ]): print ( \"\u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 type \u0438\u043b\u0438 value\" , e ) @bot . error_handler . register_error_handler ( * VKAPIError [ 6 , 9 ]) async def limit_reached_write_handler ( e : VKAPIError ): print ( \"\u043e\u0439, \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432\" , e ) \u0415\u0449\u0451 \u0443 ErrorHandler \u0435\u0441\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 redirect_arguments: bool , \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c \u0432 \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u0438\u0437 \u0437\u0430\u0434\u0435\u043a\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e catch \u0444\u0443\u043d\u043a\u0446\u0438\u0438. \u0412 \u0441\u0432\u044f\u0437\u043a\u0435 \u0441 \u0431\u043e\u0442\u043e\u043c \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u0432 \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u044b\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u0438\u0437 \u043f\u0440\u0430\u0432\u0438\u043b \u0438 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439. swear \u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e \u0441 \u0431\u043e\u0442\u043e\u043c, \u0445\u043e\u0442\u044c \u044d\u0442\u043e \u0438 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442, \u0442\u0430\u043a \u043a\u0430\u043a \u044d\u0442\u043e - \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b - \u0443\u043f\u0440\u043e\u0449\u0435\u043d\u043d\u044b\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 \u041a\u0440\u0430\u0442\u043a\u0438\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430 \u043e\u0448\u0438\u0431\u043e\u043a \u043e\u0434\u043d\u0438\u043c \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u043e\u043c, \u0432\u0430\u0436\u043d\u043e \u0447\u0442\u043e swear \u043c\u043e\u0436\u0435\u0442 \u0434\u0435\u043a\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u043a \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0435, \u0442\u0430\u043a \u0438 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 from vkbottle import swear \u0412 swear \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0435\u0440\u0432\u044b\u043c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u043c \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043e\u043d \u0431\u0443\u0434\u0435\u0442 \u0445\u0435\u043d\u0434\u043b\u0438\u0442\u044c, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0442\u043e\u0442 \u0436\u0435 RuntimeError \u0438 \u043d\u0430 \u0432\u044b\u0431\u043e\u0440: exception_handler=func - \u0435\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0432\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u0445\u0435\u043d\u0434\u043b\u0438\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0443 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0442\u044c \u0438\u0437 \u043d\u0435\u0433\u043e \u043d\u0443\u0436\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u0438 just_return=True - \u0435\u0441\u043b\u0438 \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0443 \u0438\u0437 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 just_log=True - \u0435\u0441\u043b\u0438 \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0443 \u0438 \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0438\u0437 \u0434\u0435\u043a\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 None from vkbottle import swear @swear ( RuntimeError , just_return = True ) def my_func (): raise RuntimeError ( \"error\" ) my_func () # RuntimeError(\"error\")","title":"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a"},{"location":"tutorial/error-handling/#_1","text":"\u0418\u043d\u043e\u0433\u0434\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u043a api \u0432\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u044e\u0442 \u043e\u0448\u0438\u0431\u043a\u0438, \u0434\u043b\u044f \u0438\u0445 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0432\u043e \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0435 \u043f\u0440\u0435\u0434\u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043e \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432","title":"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a"},{"location":"tutorial/error-handling/#try-except-vkapierror","text":"\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0437\u044a\u044f\u0441\u043d\u0438\u043c \u0447\u0442\u043e \u0442\u0430\u043a\u043e\u0435 VKAPIError , \u044d\u0442\u043e \u043f\u043e\u0434\u0442\u0438\u043f CodeException , \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0437\u0430\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e\u0431\u044b \u043e\u0448\u0438\u0431\u043a\u0430 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043b\u0430\u0441\u044c \u0432 except \u0438 \u0431\u0435\u0437 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430 ( try except VKAPIError ) \u0438 \u043f\u0440\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0438 \u043a\u043e\u0434\u0430 ( try except VKAPIError[code] ) \u0412 VKAPIError \u0435\u0441\u0442\u044c \u0434\u0432\u0430 \u043f\u043e\u043b\u044f: code - \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438, int description - \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043a\u0438, str \u0427\u0442\u043e\u0431\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c VKAPIError \u043d\u0443\u0436\u043d\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0435\u0433\u043e: from vkbottle import VKAPIError \u0422\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u043d\u043e \u043e\u0431\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u043a\u043e\u0439 \u043d\u0438\u0431\u0443\u0434\u044c \u043a\u043e\u0434 \u0441 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u043c \u043a API: try : await api . wall . post () except VKAPIError as e : print ( \"\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430\" , e . code ) \u041f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u044d\u0442\u043e\u0433\u043e \u043a\u043e\u0434\u0430 vk \u0432\u0435\u0440\u043d\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0443, \u0438\u0437-\u0437\u0430 \u0442\u043e\u0433\u043e \u0447\u0442\u043e \u043d\u0435 \u0431\u044b\u043b\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u043d\u0443\u0436\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b","title":"try ... except VKAPIError"},{"location":"tutorial/error-handling/#try-except-vkapierrorcode","text":"\u041a\u0440\u043e\u043c\u0435 \u0431\u043e\u043b\u0435\u0435 \u043e\u0431\u0449\u0435\u0433\u043e \u0441\u043f\u043e\u0441\u043e\u0431\u0430 \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0432\u0441\u0435\u0445 \u043e\u0448\u0438\u0431\u043e\u043a vk \u0432 \u043e\u0434\u043d\u043e\u043c \u0431\u043b\u043e\u043a\u0435 except, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0431\u043e\u043b\u0435\u0435 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u043c VKAPIError[code] \u0421\u043f\u0438\u0441\u043e\u043a \u0432\u0441\u0435\u0445 \u043e\u0448\u0438\u0431\u043e\u043a \u0441 \u0438\u0445 \u043a\u043e\u0434\u0430\u043c\u0438 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0439\u0442\u0438 \u0437\u0434\u0435\u0441\u044c \u0421\u0434\u0435\u043b\u0430\u0435\u043c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0431\u043b\u043e\u043a\u043e\u0432 \u0434\u043b\u044f \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u043f\u0435\u0440\u0432\u044b\u0439 \u0438 \u0432\u0442\u043e\u0440\u043e\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u043c\u043e\u0436\u043d\u043e \u043a\u043e\u043c\u0431\u0438\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c try : await api . messages . send ( peer_id = 1 , message = \"\u043f\u0440\u0438\u0432\u0435\u0442!\" , random_id = 0 ) except VKAPIError [ 902 ] as e : print ( \"\u043d\u0435 \u043c\u043e\u0433\u0443 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0438\u0437-\u0437\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0441\u0442\u0438\" ) except VKAPIError as e : print ( \"\u043d\u0435 \u043c\u043e\u0433\u0443 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c:\" , e . error_description )","title":"try ... except VKAPIError[code]"},{"location":"tutorial/error-handling/#_2","text":"\u041d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 vk \u0438\u043c\u0435\u044e\u0442 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u044c\u0441\u044f \u0432\u0430\u043c \u0434\u043b\u044f \u0438\u0445 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438: CaptchaError : sid - \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 captcha, int img - \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435, str","title":"\u0421\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0435 \u043e\u0448\u0438\u0431\u043a\u0438"},{"location":"tutorial/error-handling/#errorhandler","text":"\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e \u0441 \u0431\u043e\u0442\u043e\u043c, \u0445\u043e\u0442\u044c \u044d\u0442\u043e \u0438 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442, \u0442\u0430\u043a \u043a\u0430\u043a \u044d\u0442\u043e - \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b - \u0443\u043f\u0440\u043e\u0449\u0435\u043d\u043d\u044b\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 \u0422\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u043f\u043e \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0443 \u043e\u0448\u0438\u0431\u043e\u043a \u0437\u0434\u0435\u0441\u044c \u0423 ErrorHandler \u0435\u0441\u0442\u044c 4 \u043c\u0435\u0442\u043e\u0434\u0430: register_error_handler - \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440, \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0449\u0438\u0439 \u0442\u0438\u043f\u044b \u043e\u0448\u0438\u0431\u043e\u043a \u0438 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0443\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u044e-\u0445\u0435\u043d\u0434\u043b\u0435\u0440. \u0415\u0441\u043b\u0438 \u0432\u043e\u0437\u043d\u0438\u043a\u043d\u0435\u0442 \u043e\u0434\u043d\u0430 \u0438\u0437 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0445 \u043e\u0448\u0438\u0431\u043e\u043a (\u0438\u043b\u0438 \u0435\u0451 \u043f\u043e\u0434\u0442\u0438\u043f\u0430), \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0441\u044f \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0445\u0435\u043d\u0434\u043b\u0435\u0440. register_undefined_error_handler - \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440, \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0449\u0438\u0439 \u0442\u0438\u043f \u043e\u0448\u0438\u0431\u043a\u0438 \u0438 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0443\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u044e-\u0445\u0435\u043d\u0434\u043b\u0435\u0440. \u0415\u0441\u043b\u0438 \u0432\u043e\u0437\u043d\u0438\u043a\u043d\u0435\u0442 \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430, \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0441\u044f \u044d\u0442\u043e\u0442 \u0445\u0435\u043d\u0434\u043b\u0435\u0440. handle , \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0449\u0438\u0439 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u043e\u0448\u0438\u0431\u043a\u0438. \u041f\u0435\u0440\u0435\u0434\u0430\u0451\u0442 \u043e\u0448\u0438\u0431\u043a\u0443 \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u0445\u0435\u043d\u0434\u043b\u0435\u0440, \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0432\u044b\u0448\u0435\u043e\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0445 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u043e\u0432. \u0415\u0441\u043b\u0438 \u0434\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0439 \u043e\u0448\u0438\u0431\u043a\u0438 \u043d\u0435\u0442 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430, \u043f\u043e\u0434\u043d\u0438\u043c\u0430\u0435\u0442 \u0435\u0451. catch - \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440. \u041b\u043e\u0432\u0438\u0442 \u043e\u0448\u0438\u0431\u043a\u0438 \u0438\u0437 \u0434\u0435\u043a\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0451\u0442 \u0438\u0445 \u043c\u0435\u0442\u043e\u0434\u0443 handle . from vkbottle import Bot , VKAPIError bot = Bot ( \"token\" ) @bot . error_handler . register_error_handler ( RuntimeError ) async def runtime_error_handler ( e : RuntimeError ): print ( \"\u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 runtime\" , e ) @bot . error_handler . register_error_handler ( VKAPIError [ 902 ]) async def unable_to_write_handler ( e : VKAPIError ): print ( \"\u0447\u0435\u043b\u043e\u0432\u0435\u043a \u043d\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0438\u043b \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\" , e ) \u0412 \u043f\u0440\u0438\u043c\u0435\u0440\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043e 2 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430 \u043e\u0448\u0438\u0431\u043e\u043a: \u0434\u043b\u044f RuntimeError \u0438 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e VKAPIError \u0422\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u0441\u0440\u0430\u0437\u0443 \u0434\u043b\u044f \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0442\u0438\u043f\u043e\u0432 \u043e\u0448\u0438\u0431\u043e\u043a: from typing import Union from vkbottle import Bot , VKAPIError bot = Bot ( \"token\" ) @bot . error_handler . register_error_handler ( TypeError , ValueError ) async def type_or_value_error_handler ( e : Union [ TypeError , ValueError ]): print ( \"\u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 type \u0438\u043b\u0438 value\" , e ) @bot . error_handler . register_error_handler ( * VKAPIError [ 6 , 9 ]) async def limit_reached_write_handler ( e : VKAPIError ): print ( \"\u043e\u0439, \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432\" , e ) \u0415\u0449\u0451 \u0443 ErrorHandler \u0435\u0441\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 redirect_arguments: bool , \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c \u0432 \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u0438\u0437 \u0437\u0430\u0434\u0435\u043a\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e catch \u0444\u0443\u043d\u043a\u0446\u0438\u0438. \u0412 \u0441\u0432\u044f\u0437\u043a\u0435 \u0441 \u0431\u043e\u0442\u043e\u043c \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u0432 \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u044b\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u0438\u0437 \u043f\u0440\u0430\u0432\u0438\u043b \u0438 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439.","title":"ErrorHandler"},{"location":"tutorial/error-handling/#swear","text":"\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e \u0441 \u0431\u043e\u0442\u043e\u043c, \u0445\u043e\u0442\u044c \u044d\u0442\u043e \u0438 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442, \u0442\u0430\u043a \u043a\u0430\u043a \u044d\u0442\u043e - \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b - \u0443\u043f\u0440\u043e\u0449\u0435\u043d\u043d\u044b\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 \u041a\u0440\u0430\u0442\u043a\u0438\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430 \u043e\u0448\u0438\u0431\u043e\u043a \u043e\u0434\u043d\u0438\u043c \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u043e\u043c, \u0432\u0430\u0436\u043d\u043e \u0447\u0442\u043e swear \u043c\u043e\u0436\u0435\u0442 \u0434\u0435\u043a\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u043a \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0435, \u0442\u0430\u043a \u0438 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 from vkbottle import swear \u0412 swear \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0435\u0440\u0432\u044b\u043c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u043c \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043e\u043d \u0431\u0443\u0434\u0435\u0442 \u0445\u0435\u043d\u0434\u043b\u0438\u0442\u044c, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0442\u043e\u0442 \u0436\u0435 RuntimeError \u0438 \u043d\u0430 \u0432\u044b\u0431\u043e\u0440: exception_handler=func - \u0435\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0432\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u0445\u0435\u043d\u0434\u043b\u0438\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0443 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0442\u044c \u0438\u0437 \u043d\u0435\u0433\u043e \u043d\u0443\u0436\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u0438 just_return=True - \u0435\u0441\u043b\u0438 \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0443 \u0438\u0437 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 just_log=True - \u0435\u0441\u043b\u0438 \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0443 \u0438 \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0438\u0437 \u0434\u0435\u043a\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 None from vkbottle import swear @swear ( RuntimeError , just_return = True ) def my_func (): raise RuntimeError ( \"error\" ) my_func () # RuntimeError(\"error\")","title":"swear"},{"location":"tutorial/first-bot/","text":"\u041f\u0435\u0440\u0432\u044b\u0439 \u0431\u043e\u0442 \u043d\u0430 vkbottle \u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u043f\u0435\u0440\u0432\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u0430, \u0437\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043e \u043a\u0430\u043a \u043c\u043e\u0436\u043d\u043e \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0441 API \u0438 \u0440\u0430\u0441\u0441\u043a\u0430\u0437\u0430\u043d\u043e \u043f\u043e\u0447\u0435\u043c\u0443 \u043d\u0443\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0435 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u043f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 vkbottle \u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0430\u043f\u0438 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0443\u0436\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 - vkbottle.API from vkbottle import API API - \u0433\u043e\u0442\u043e\u0432\u044b\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043a \u0430\u043f\u0438 \u0432\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435, \u043f\u0440\u0438\u044f\u0442\u043d\u0430\u044f \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u044d\u0442\u043e\u0433\u043e \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430 \u0432 vkbottle - \u043f\u043e\u043b\u043d\u0430\u044f \u0442\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u044f ( vkbottle-types ). \u0427\u0442\u043e \u0434\u0430\u0435\u0442 \u044d\u0442\u0430 \u0442\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u044f? \u0422\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u044f \u041f\u0440\u0438 \u0443\u0441\u043b\u043e\u0432\u0438\u0438, \u0447\u0442\u043e \u0443 \u0432\u0430\u0441 \u0441\u0442\u043e\u0438\u0442 \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u0435 IDE \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438 \u0442\u0438\u043f\u043e\u0432: \u042d\u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u0441\u043a\u043e\u0440\u0438\u0442 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0438 \u043f\u043e\u0437\u0432\u043e\u043b\u0438\u0442 \u043d\u0435 \u043e\u0431\u0440\u0430\u0449\u0430\u0442\u044c\u0441\u044f \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e api \u0432\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 \u043a\u0430\u0436\u0434\u044b\u0439 \u0440\u0430\u0437 \u041a\u0430\u043a \u0443\u0436\u0435 \u0441\u0442\u0430\u043b\u043e \u043f\u043e\u043d\u044f\u0442\u043d\u043e \u0438\u0437 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0432\u044b\u0448\u0435, \u0434\u043b\u044f \u0432\u044b\u0437\u043e\u0432\u0430 \u043c\u0435\u0442\u043e\u0434\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e await , \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0447\u0430\u0441\u0442\u044c\u044e \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0441\u0442\u0438 python, \u043f\u0435\u0440\u0435\u0434 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u0435\u043c \u0447\u0442\u0435\u043d\u0438\u044f \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u0430 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043f\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u0443\u044e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e , \u0435\u0441\u043b\u0438 \u0432\u044b \u044d\u0442\u043e\u0433\u043e \u043d\u0435 \u0434\u0435\u043b\u0430\u043b\u0438 \u041f\u0435\u0440\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c API \u0432\u0430\u043c \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u0441\u044f \u0441\u0442\u0440\u043e\u043a\u0430 (\u0442\u043e\u043a\u0435\u043d) \u0438\u043b\u0438 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043b\u0438\u0441\u0442 \u0441\u0442\u0440\u043e\u043a (\u0442\u043e\u043a\u0435\u043d\u043e\u0432), \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0432 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 token-generator \u041e\u0431\u0435\u0440\u043d\u0435\u043c \u043d\u0430\u0448 \u0431\u0443\u0434\u0443\u0449\u0438\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0431\u0430\u0437\u043e\u0432\u044b\u043c \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u043c \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430: import asyncio async def main (): ... asyncio . run ( main ()) \u0422\u0435\u043f\u0435\u0440\u044c \u043d\u0430\u043f\u0438\u0448\u0435\u043c \u0441\u0430\u043c\u043e \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435: api = API ( \"token\" ) await api . wall . post ( message = \"#vkbottle \u043f\u0440\u0435\u043a\u0440\u0430\u0441\u0435\u043d!\" ) \u0422\u0430\u043a\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0437\u0434\u0430\u0441\u0442 \u043f\u043e\u0441\u0442 \u043d\u0430 \u0441\u0442\u0435\u043d\u0435 \u0433\u0440\u0443\u043f\u043f\u044b/\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c \u0442\u0435\u043a\u0441\u0442\u043e\u043c, \u043a\u0430\u043a \u0432\u044b \u0432\u0438\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 (IDE \u0432\u0430\u043c \u0432\u0441\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0436\u0435\u0442) \u0412\u043e\u0442, \u0447\u0442\u043e \u0434\u043e\u043b\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0441\u044f \u0432 \u0438\u0442\u043e\u0433\u0435: import asyncio from vkbottle import API async def main (): api = API ( \"token\" ) await api . wall . post ( message = \"#vkbottle \u043f\u0440\u0435\u043a\u0440\u0430\u0441\u0435\u043d!\" ) asyncio . run ( main ()) \u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u044e, \u0442\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u0443\u043c\u0435\u0435\u0442\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u043c API ! \u041f\u0435\u0440\u0432\u044b\u0439 \u0431\u043e\u0442 \u0415\u0441\u043b\u0438 \u0432\u044b \u043d\u0435 \u0445\u043e\u0442\u0438\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0441\u0442\u044b\u0435 (high-level) \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0431\u043e\u0442\u0430 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c low-level Polling , \u0438\u043b\u0438 \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0432\u0441\u044e \u043b\u043e\u0433\u0438\u043a\u0443 \u043d\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u043a api \u043a\u0430\u043a \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b\u0448\u0435 \u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 \u0441 \u0431\u043e\u0442\u043e\u043c, \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043b\u0430\u0441\u0441 Bot \u0438\u0437 \u043a\u043e\u0440\u043d\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 ( vkbottle.Bot ) \u0438\u043b\u0438 \u0438\u0437 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0430\u043a\u0435\u0442\u0430 ( vkbottle.bot.Bot ): Bot - \u044d\u0442\u043e \u0431\u043e\u0442 \u0438\u0441\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0433\u0440\u0443\u043f\u043f\u044b, \u0435\u0441\u043b\u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u044e\u0437\u0435\u0440\u0431\u043e\u0442\u0430, \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u044b \u043a\u043b\u0430\u0441\u0441\u044b User \u0438 Message \u0438\u0437 vkbottle.user , \u0432\u0441\u0435 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u043e\u0435 \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e. from vkbottle.bot import Bot \u0414\u043b\u044f \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0431\u043e\u0442\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 - token \u0438\u043b\u0438 api . token \u043d\u0443\u0436\u0435\u043d \u0434\u043b\u044f \u0441\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u043a\u043e\u0434\u0430: \u0435\u0441\u043b\u0438 \u0432\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0434\u0438\u0442\u0435 token , \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d API \u0441 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u043c \u0442\u043e\u043a\u0435\u043d\u0430. \u0415\u0441\u043b\u0438 \u0432\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0434\u0438\u0442\u0435 api , \u043e\u043d \u0438 \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0431\u043e\u0442\u0430 # \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0442\u043e\u043a\u0435\u043d\u043e\u043c bot = Bot ( token = \"token\" ) # (\u0438\u043b\u0438) \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0441 \u0430\u043f\u0438 bot = Bot ( api = api ) \u0422\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0443\u0436\u043d\u044b\u0435 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b, \u0437\u0430 \u0443\u0434\u043e\u0431\u043d\u043e\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 labeler , \u043a \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u0447\u0435\u0440\u0435\u0437 bot.labeler \u0438\u043b\u0438 bot.on ( .on \u043d\u0443\u0436\u0435\u043d \u043f\u0440\u043e\u0441\u0442\u043e \u0434\u043b\u044f \u043a\u0440\u0430\u0441\u043e\u0442\u044b \u0438 \u0434\u043b\u044f \u0442\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e legacy \u0432\u043a\u0431\u043e\u0442\u043b\u0430 \u0438\u0437 \u0432\u0442\u043e\u0440\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0438) from vkbottle.bot import Bot , Message bot = Bot ( token = \"token\" ) @bot . on . message ( text = \"\u041f\u0440\u0438\u0432\u0435\u0442\" ) async def hi_handler ( message : Message ): users_info = await bot . api . users . get ( message . from_id ) await message . answer ( \"\u041f\u0440\u0438\u0432\u0435\u0442, {} \" . format ( users_info [ 0 ] . first_name )) bot . run_forever () \u0420\u0430\u0437\u0431\u0435\u0440\u0435\u043c \u043d\u043e\u0432\u044b\u0439 \u043a\u043e\u0434 \u043f\u043e\u0441\u0442\u0440\u043e\u0447\u043d\u043e: @bot.on.message(text=\"\u041f\u0440\u0438\u0432\u0435\u0442\") - \u044d\u0442\u043e \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440, \u043e\u043d \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442, \u0447\u0442\u043e \u0435\u0441\u043b\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u0432\u0435\u0447\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u043c \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c ( text=\"\u043f\u0440\u0438\u0432\u0435\u0442\" ), \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u043f\u043e\u0434 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u043e\u043c \u0414\u043b\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0432 vkbottle \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 3 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u0430: .message - \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0438 \u0438\u0437 \u0431\u0435\u0441\u0435\u0434 \u0438 \u0438\u0437 \u043b\u0438\u0447\u043d\u044b\u0445 \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u043e\u043a .private_message - \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u043b\u0438\u0447\u043d\u044b\u0445 \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u043e\u043a .chat_message - \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0435\u0441\u0435\u0434 async def hi_handler(message: Message) - \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430, hi_handler - \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438, \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0440\u0430\u0437\u0443\u043c\u043d\u043e \u043b\u044e\u0431\u044b\u043c, message - \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u0435\u0440\u043d\u0435\u0442\u0441\u044f \u0432 \u0445\u0435\u043d\u0434\u043b\u0435\u0440, \u043d\u0443\u0436\u043d\u044b\u0439 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0438 users_info = await bot.api.users.get(message.from_id) - \u0437\u0430\u043f\u0440\u043e\u0441 \u043a API, \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435, \u043d\u0430\u043f\u0438\u0441\u0430\u0432\u0448\u0435\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 await message.answer(\"\u041f\u0440\u0438\u0432\u0435\u0442, {}\".format(users_info[0].first_name)) - \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432 \u0447\u0430\u0442 \u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c, answer - \u0443\u0434\u043e\u0431\u043d\u044b\u0439 \u0448\u043e\u0440\u0442\u043a\u0430\u0442 \u0434\u043b\u044f \u043e\u0442\u0432\u0435\u0442\u0430 \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f, \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u0438\u0434\u0435\u043d\u0442\u0438\u0447\u043d\u044b \u043c\u0435\u0442\u043e\u0434\u0443 messages.send , \u043d\u043e \u0448\u043e\u0440\u0442\u043a\u0430\u0442 \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442 id \u0447\u0430\u0442\u0430 \u0438 random_id bot.run_forever() - \u043f\u043e\u043c\u043e\u0433\u0430\u0435\u0442 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0431\u043e\u0442\u0430 \u0438\u0437 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0439 \u0441\u0440\u0435\u0434\u044b, \u0435\u0441\u043b\u0438 \u0431\u044b \u0431\u044b\u043b\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0430\u044f, \u0432\u044b \u0431\u044b \u043c\u043e\u0433\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c await run_polling() \u0415\u0441\u043b\u0438 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u043a\u043e\u0434 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u043b\u0438 \u043b\u0438 \u0432\u044b \u0433\u0430\u043b\u043e\u0447\u043a\u0438 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u043b\u043e\u043d\u0433\u043f\u043e\u043b\u0430 \u043d\u0430 \u043d\u0443\u0436\u043d\u044b\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f (\u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0430 \u043d\u043e\u0432\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f) \u0438 \u0441\u0430\u043c \u043b\u043e\u043d\u0433\u043f\u043e\u043b (\u0441\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u0430 \u0432\u0435\u0440\u0441\u0438\u044f 5.131 ) \u042d\u043a\u0437\u0430\u043c\u043f\u043b\u044b \u043f\u043e \u044d\u0442\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u0430 easy-bot","title":"\u041f\u0435\u0440\u0432\u044b\u0439 \u0431\u043e\u0442"},{"location":"tutorial/first-bot/#vkbottle","text":"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u043f\u0435\u0440\u0432\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u0430, \u0437\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043e \u043a\u0430\u043a \u043c\u043e\u0436\u043d\u043e \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0441 API \u0438 \u0440\u0430\u0441\u0441\u043a\u0430\u0437\u0430\u043d\u043e \u043f\u043e\u0447\u0435\u043c\u0443 \u043d\u0443\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0435 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u043f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 vkbottle \u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0430\u043f\u0438 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0443\u0436\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 - vkbottle.API from vkbottle import API API - \u0433\u043e\u0442\u043e\u0432\u044b\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043a \u0430\u043f\u0438 \u0432\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435, \u043f\u0440\u0438\u044f\u0442\u043d\u0430\u044f \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u044d\u0442\u043e\u0433\u043e \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430 \u0432 vkbottle - \u043f\u043e\u043b\u043d\u0430\u044f \u0442\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u044f ( vkbottle-types ). \u0427\u0442\u043e \u0434\u0430\u0435\u0442 \u044d\u0442\u0430 \u0442\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u044f?","title":"\u041f\u0435\u0440\u0432\u044b\u0439 \u0431\u043e\u0442 \u043d\u0430 vkbottle"},{"location":"tutorial/first-bot/#_1","text":"\u041f\u0440\u0438 \u0443\u0441\u043b\u043e\u0432\u0438\u0438, \u0447\u0442\u043e \u0443 \u0432\u0430\u0441 \u0441\u0442\u043e\u0438\u0442 \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u0435 IDE \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438 \u0442\u0438\u043f\u043e\u0432: \u042d\u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u0441\u043a\u043e\u0440\u0438\u0442 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0438 \u043f\u043e\u0437\u0432\u043e\u043b\u0438\u0442 \u043d\u0435 \u043e\u0431\u0440\u0430\u0449\u0430\u0442\u044c\u0441\u044f \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e api \u0432\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 \u043a\u0430\u0436\u0434\u044b\u0439 \u0440\u0430\u0437 \u041a\u0430\u043a \u0443\u0436\u0435 \u0441\u0442\u0430\u043b\u043e \u043f\u043e\u043d\u044f\u0442\u043d\u043e \u0438\u0437 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0432\u044b\u0448\u0435, \u0434\u043b\u044f \u0432\u044b\u0437\u043e\u0432\u0430 \u043c\u0435\u0442\u043e\u0434\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e await , \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0447\u0430\u0441\u0442\u044c\u044e \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0441\u0442\u0438 python, \u043f\u0435\u0440\u0435\u0434 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u0435\u043c \u0447\u0442\u0435\u043d\u0438\u044f \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u0430 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043f\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u0443\u044e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e , \u0435\u0441\u043b\u0438 \u0432\u044b \u044d\u0442\u043e\u0433\u043e \u043d\u0435 \u0434\u0435\u043b\u0430\u043b\u0438","title":"\u0422\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u044f"},{"location":"tutorial/first-bot/#_2","text":"\u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c API \u0432\u0430\u043c \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u0441\u044f \u0441\u0442\u0440\u043e\u043a\u0430 (\u0442\u043e\u043a\u0435\u043d) \u0438\u043b\u0438 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043b\u0438\u0441\u0442 \u0441\u0442\u0440\u043e\u043a (\u0442\u043e\u043a\u0435\u043d\u043e\u0432), \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0432 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 token-generator \u041e\u0431\u0435\u0440\u043d\u0435\u043c \u043d\u0430\u0448 \u0431\u0443\u0434\u0443\u0449\u0438\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0431\u0430\u0437\u043e\u0432\u044b\u043c \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u043c \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430: import asyncio async def main (): ... asyncio . run ( main ()) \u0422\u0435\u043f\u0435\u0440\u044c \u043d\u0430\u043f\u0438\u0448\u0435\u043c \u0441\u0430\u043c\u043e \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435: api = API ( \"token\" ) await api . wall . post ( message = \"#vkbottle \u043f\u0440\u0435\u043a\u0440\u0430\u0441\u0435\u043d!\" ) \u0422\u0430\u043a\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0437\u0434\u0430\u0441\u0442 \u043f\u043e\u0441\u0442 \u043d\u0430 \u0441\u0442\u0435\u043d\u0435 \u0433\u0440\u0443\u043f\u043f\u044b/\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c \u0442\u0435\u043a\u0441\u0442\u043e\u043c, \u043a\u0430\u043a \u0432\u044b \u0432\u0438\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 (IDE \u0432\u0430\u043c \u0432\u0441\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0436\u0435\u0442) \u0412\u043e\u0442, \u0447\u0442\u043e \u0434\u043e\u043b\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0441\u044f \u0432 \u0438\u0442\u043e\u0433\u0435: import asyncio from vkbottle import API async def main (): api = API ( \"token\" ) await api . wall . post ( message = \"#vkbottle \u043f\u0440\u0435\u043a\u0440\u0430\u0441\u0435\u043d!\" ) asyncio . run ( main ()) \u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u044e, \u0442\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u0443\u043c\u0435\u0435\u0442\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u043c API !","title":"\u041f\u0435\u0440\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441"},{"location":"tutorial/first-bot/#_3","text":"\u0415\u0441\u043b\u0438 \u0432\u044b \u043d\u0435 \u0445\u043e\u0442\u0438\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0441\u0442\u044b\u0435 (high-level) \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0431\u043e\u0442\u0430 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c low-level Polling , \u0438\u043b\u0438 \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0432\u0441\u044e \u043b\u043e\u0433\u0438\u043a\u0443 \u043d\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u043a api \u043a\u0430\u043a \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b\u0448\u0435 \u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 \u0441 \u0431\u043e\u0442\u043e\u043c, \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043b\u0430\u0441\u0441 Bot \u0438\u0437 \u043a\u043e\u0440\u043d\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 ( vkbottle.Bot ) \u0438\u043b\u0438 \u0438\u0437 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0430\u043a\u0435\u0442\u0430 ( vkbottle.bot.Bot ): Bot - \u044d\u0442\u043e \u0431\u043e\u0442 \u0438\u0441\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0433\u0440\u0443\u043f\u043f\u044b, \u0435\u0441\u043b\u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u044e\u0437\u0435\u0440\u0431\u043e\u0442\u0430, \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u044b \u043a\u043b\u0430\u0441\u0441\u044b User \u0438 Message \u0438\u0437 vkbottle.user , \u0432\u0441\u0435 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u043e\u0435 \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e. from vkbottle.bot import Bot \u0414\u043b\u044f \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0431\u043e\u0442\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 - token \u0438\u043b\u0438 api . token \u043d\u0443\u0436\u0435\u043d \u0434\u043b\u044f \u0441\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u043a\u043e\u0434\u0430: \u0435\u0441\u043b\u0438 \u0432\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0434\u0438\u0442\u0435 token , \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d API \u0441 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u043c \u0442\u043e\u043a\u0435\u043d\u0430. \u0415\u0441\u043b\u0438 \u0432\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0434\u0438\u0442\u0435 api , \u043e\u043d \u0438 \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0431\u043e\u0442\u0430 # \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0442\u043e\u043a\u0435\u043d\u043e\u043c bot = Bot ( token = \"token\" ) # (\u0438\u043b\u0438) \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0441 \u0430\u043f\u0438 bot = Bot ( api = api ) \u0422\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0443\u0436\u043d\u044b\u0435 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b, \u0437\u0430 \u0443\u0434\u043e\u0431\u043d\u043e\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 labeler , \u043a \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u0447\u0435\u0440\u0435\u0437 bot.labeler \u0438\u043b\u0438 bot.on ( .on \u043d\u0443\u0436\u0435\u043d \u043f\u0440\u043e\u0441\u0442\u043e \u0434\u043b\u044f \u043a\u0440\u0430\u0441\u043e\u0442\u044b \u0438 \u0434\u043b\u044f \u0442\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e legacy \u0432\u043a\u0431\u043e\u0442\u043b\u0430 \u0438\u0437 \u0432\u0442\u043e\u0440\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0438) from vkbottle.bot import Bot , Message bot = Bot ( token = \"token\" ) @bot . on . message ( text = \"\u041f\u0440\u0438\u0432\u0435\u0442\" ) async def hi_handler ( message : Message ): users_info = await bot . api . users . get ( message . from_id ) await message . answer ( \"\u041f\u0440\u0438\u0432\u0435\u0442, {} \" . format ( users_info [ 0 ] . first_name )) bot . run_forever () \u0420\u0430\u0437\u0431\u0435\u0440\u0435\u043c \u043d\u043e\u0432\u044b\u0439 \u043a\u043e\u0434 \u043f\u043e\u0441\u0442\u0440\u043e\u0447\u043d\u043e: @bot.on.message(text=\"\u041f\u0440\u0438\u0432\u0435\u0442\") - \u044d\u0442\u043e \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440, \u043e\u043d \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442, \u0447\u0442\u043e \u0435\u0441\u043b\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u0432\u0435\u0447\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u043c \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c ( text=\"\u043f\u0440\u0438\u0432\u0435\u0442\" ), \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u043f\u043e\u0434 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u043e\u043c \u0414\u043b\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0432 vkbottle \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 3 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u0430: .message - \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0438 \u0438\u0437 \u0431\u0435\u0441\u0435\u0434 \u0438 \u0438\u0437 \u043b\u0438\u0447\u043d\u044b\u0445 \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u043e\u043a .private_message - \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u043b\u0438\u0447\u043d\u044b\u0445 \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u043e\u043a .chat_message - \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0435\u0441\u0435\u0434 async def hi_handler(message: Message) - \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430, hi_handler - \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438, \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0440\u0430\u0437\u0443\u043c\u043d\u043e \u043b\u044e\u0431\u044b\u043c, message - \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u0435\u0440\u043d\u0435\u0442\u0441\u044f \u0432 \u0445\u0435\u043d\u0434\u043b\u0435\u0440, \u043d\u0443\u0436\u043d\u044b\u0439 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0438 users_info = await bot.api.users.get(message.from_id) - \u0437\u0430\u043f\u0440\u043e\u0441 \u043a API, \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435, \u043d\u0430\u043f\u0438\u0441\u0430\u0432\u0448\u0435\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 await message.answer(\"\u041f\u0440\u0438\u0432\u0435\u0442, {}\".format(users_info[0].first_name)) - \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432 \u0447\u0430\u0442 \u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c, answer - \u0443\u0434\u043e\u0431\u043d\u044b\u0439 \u0448\u043e\u0440\u0442\u043a\u0430\u0442 \u0434\u043b\u044f \u043e\u0442\u0432\u0435\u0442\u0430 \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f, \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u0438\u0434\u0435\u043d\u0442\u0438\u0447\u043d\u044b \u043c\u0435\u0442\u043e\u0434\u0443 messages.send , \u043d\u043e \u0448\u043e\u0440\u0442\u043a\u0430\u0442 \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442 id \u0447\u0430\u0442\u0430 \u0438 random_id bot.run_forever() - \u043f\u043e\u043c\u043e\u0433\u0430\u0435\u0442 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0431\u043e\u0442\u0430 \u0438\u0437 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0439 \u0441\u0440\u0435\u0434\u044b, \u0435\u0441\u043b\u0438 \u0431\u044b \u0431\u044b\u043b\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0430\u044f, \u0432\u044b \u0431\u044b \u043c\u043e\u0433\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c await run_polling() \u0415\u0441\u043b\u0438 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u043a\u043e\u0434 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u043b\u0438 \u043b\u0438 \u0432\u044b \u0433\u0430\u043b\u043e\u0447\u043a\u0438 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u043b\u043e\u043d\u0433\u043f\u043e\u043b\u0430 \u043d\u0430 \u043d\u0443\u0436\u043d\u044b\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f (\u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0430 \u043d\u043e\u0432\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f) \u0438 \u0441\u0430\u043c \u043b\u043e\u043d\u0433\u043f\u043e\u043b (\u0441\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u0430 \u0432\u0435\u0440\u0441\u0438\u044f 5.131 )","title":"\u041f\u0435\u0440\u0432\u044b\u0439 \u0431\u043e\u0442"},{"location":"tutorial/first-bot/#_4","text":"easy-bot","title":"\u042d\u043a\u0437\u0430\u043c\u043f\u043b\u044b \u043f\u043e \u044d\u0442\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u0430"},{"location":"tutorial/keyboards-attachments/","text":"\u041a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u0438 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u041a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0430 \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0447\u0435\u0440\u0435\u0437 Keyboard from vkbottle import Keyboard Keyboard \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b one_time \u0438 inline (\u0438\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u043e \u0437\u0434\u0435\u0441\u044c ). \u041c\u0435\u0442\u043e\u0434\u044b Keyboard : - add(action, color) - \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u043a\u043d\u043e\u043f\u043a\u0443 \u043a \u0442\u0435\u043a\u0443\u0449\u0435\u043c\u0443 \u0440\u044f\u0434\u0443 \u043a\u043d\u043e\u043f\u043e\u043a; - row() - \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0440\u044f\u0434 \u043a\u043d\u043e\u043f\u043e\u043a, \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u0442 \"\u043a\u0443\u0440\u0441\u043e\u0440\" \u043d\u0430 \u043d\u0435\u0433\u043e; - get_json() - \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u0443\u0435\u0442 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0443 \u0432 JSON-\u043e\u0431\u044a\u0435\u043a\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0438. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 json.dumps \u0434\u043b\u044f \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0432 JSON-\u043e\u0431\u044a\u0435\u043a\u0442. \u0415\u0441\u043b\u0438 \u0432\u0430\u0448\u0430 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0430 \u0441\u0442\u0430\u0442\u0438\u0447\u043d\u0430, \u0442\u043e \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c \u044d\u0442\u043e\u0439 \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u044e\u0449\u0435\u0439\u0441\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438, \u0441\u043e\u0437\u0434\u0430\u0432 \u0435\u0451 \u043e\u0434\u0438\u043d \u0440\u0430\u0437, \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0443\u0436\u0435 \"\u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u043d\u0443\u044e\" \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0443. \u041f\u0440\u0438\u043c\u0435\u0440\u044b \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u043d\u044b \u0437\u0434\u0435\u0441\u044c , \u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0435\u0451 \u043c\u043e\u0436\u043d\u043e \u0442\u0430\u043a: keyboard = ... # see examples above @bot . on . message () async def send_keyboard ( message ): await message . answer ( \"Here is your keyboard!\" , keyboard = keyboard ) \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0447\u0435\u0440\u0435\u0437 keyboard_gen (\u0443\u0441\u0442\u0430\u0440\u0435\u043b\u043e) \u0423\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0430\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u043f\u043e \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0435\u043c\u0443 \u043c\u0435\u0442\u043e\u0434\u0443 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0437\u0434\u0435\u0441\u044c . \u0412\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0415\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0415\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0432\u0438\u0434\u0430 \"type{OWNER_ID}_{ITEM_ID}\" (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \"photo-41629685_457239401\"), \u0442\u043e \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0435\u0451 \u0442\u0430\u043a: attachment = ... # see example above @bot . on . message async def send_attachment ( message ): await message . answer ( \"See that attachment!\" , attachment = attachment ) \u0415\u0441\u043b\u0438 \u0432\u044b \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0435 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438 \u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0435 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0431\u043e\u0442\u0430, \u043d\u0443\u0436\u043d\u044b \u0437\u0430\u0433\u0440\u0443\u0437\u0447\u0438\u043a\u0438. \u041f\u0440\u043e\u0447\u0438\u0442\u0430\u0439\u0442\u0435 [\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e \u043f\u0440\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0447\u0438\u043a\u0438], \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439\u0442\u0435\u0441\u044c \u0441\u044e\u0434\u0430. \u041f\u0440\u0438\u043c\u0435\u0440 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u043e\u0433\u043e \u0438\u0437 \u0437\u0430\u0433\u0440\u0443\u0437\u0447\u0438\u043a\u0430: uploader = AnyUploader ( bot . api ) # see uploaders types in \"Uploaders documentation\" above @bot . on . message () async def send_attachment ( message ): attachment = await uploader . upload ( \"path/to/file\" ) await message . answer ( \"See that attachment!\" , attachment = attachment ) \u0428\u0430\u0431\u043b\u043e\u043d\u044b \u041d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u0438\u043d \u0432\u0438\u0434 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u2014 \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u044c. \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u043f\u043e \u044d\u0442\u043e\u043c\u0443 \u0432\u0438\u0434\u0443 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0430 \u0437\u0434\u0435\u0441\u044c . \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0447\u0435\u0440\u0435\u0437 vkbottle \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e: - TemplateElement - \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0448\u0430\u0431\u043b\u043e\u043d\u0430. \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u0435\u0439 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f\u043c \u043f\u043e\u043b\u0435\u0439 \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435. - template_gen - \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u0448\u0430\u0431\u043b\u043e\u043d \u0438\u0437 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432: from vkbottle.tools import template_gen , TemplateElement my_template = template_gen ( TemplateElement ( ... ), TemplateElement ( ... ), TemplateElement ( ... )) \u0412 \u044d\u0442\u043e\u043c \u043f\u0440\u0438\u043c\u0435\u0440\u0435 my_template - \u0443\u0436\u0435 \u0433\u043e\u0442\u043e\u0432\u044b\u0439 JSON-\u043e\u0431\u044a\u0435\u043a\u0442 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0438. \u0412\u043e\u0442 \u043f\u0440\u0438\u043c\u0435\u0440 \u0435\u0433\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438: my_template = ... # see example above @bot . on . message () async def send_template ( message ): await message . answer ( \"Sending template...\" , template = my_template ) \u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b \u043f\u043e \u044d\u0442\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0439","title":"\u041a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u0438 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u044f"},{"location":"tutorial/keyboards-attachments/#_1","text":"","title":"\u041a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u0438 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u044f"},{"location":"tutorial/keyboards-attachments/#_2","text":"","title":"\u041a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0430"},{"location":"tutorial/keyboards-attachments/#keyboard","text":"from vkbottle import Keyboard Keyboard \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b one_time \u0438 inline (\u0438\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u043e \u0437\u0434\u0435\u0441\u044c ). \u041c\u0435\u0442\u043e\u0434\u044b Keyboard : - add(action, color) - \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u043a\u043d\u043e\u043f\u043a\u0443 \u043a \u0442\u0435\u043a\u0443\u0449\u0435\u043c\u0443 \u0440\u044f\u0434\u0443 \u043a\u043d\u043e\u043f\u043e\u043a; - row() - \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0440\u044f\u0434 \u043a\u043d\u043e\u043f\u043e\u043a, \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u0442 \"\u043a\u0443\u0440\u0441\u043e\u0440\" \u043d\u0430 \u043d\u0435\u0433\u043e; - get_json() - \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u0443\u0435\u0442 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0443 \u0432 JSON-\u043e\u0431\u044a\u0435\u043a\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0438. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 json.dumps \u0434\u043b\u044f \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0432 JSON-\u043e\u0431\u044a\u0435\u043a\u0442. \u0415\u0441\u043b\u0438 \u0432\u0430\u0448\u0430 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0430 \u0441\u0442\u0430\u0442\u0438\u0447\u043d\u0430, \u0442\u043e \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c \u044d\u0442\u043e\u0439 \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u044e\u0449\u0435\u0439\u0441\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438, \u0441\u043e\u0437\u0434\u0430\u0432 \u0435\u0451 \u043e\u0434\u0438\u043d \u0440\u0430\u0437, \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0443\u0436\u0435 \"\u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u043d\u0443\u044e\" \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0443. \u041f\u0440\u0438\u043c\u0435\u0440\u044b \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u043d\u044b \u0437\u0434\u0435\u0441\u044c , \u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0435\u0451 \u043c\u043e\u0436\u043d\u043e \u0442\u0430\u043a: keyboard = ... # see examples above @bot . on . message () async def send_keyboard ( message ): await message . answer ( \"Here is your keyboard!\" , keyboard = keyboard )","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0447\u0435\u0440\u0435\u0437 Keyboard"},{"location":"tutorial/keyboards-attachments/#keyboard_gen","text":"\u0423\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0430\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u043f\u043e \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0435\u043c\u0443 \u043c\u0435\u0442\u043e\u0434\u0443 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0437\u0434\u0435\u0441\u044c .","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0447\u0435\u0440\u0435\u0437 keyboard_gen (\u0443\u0441\u0442\u0430\u0440\u0435\u043b\u043e)"},{"location":"tutorial/keyboards-attachments/#_3","text":"","title":"\u0412\u043b\u043e\u0436\u0435\u043d\u0438\u044f"},{"location":"tutorial/keyboards-attachments/#_4","text":"\u0415\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0432\u0438\u0434\u0430 \"type{OWNER_ID}_{ITEM_ID}\" (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \"photo-41629685_457239401\"), \u0442\u043e \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0435\u0451 \u0442\u0430\u043a: attachment = ... # see example above @bot . on . message async def send_attachment ( message ): await message . answer ( \"See that attachment!\" , attachment = attachment )","title":"\u0415\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0435"},{"location":"tutorial/keyboards-attachments/#_5","text":"\u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0435 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0431\u043e\u0442\u0430, \u043d\u0443\u0436\u043d\u044b \u0437\u0430\u0433\u0440\u0443\u0437\u0447\u0438\u043a\u0438. \u041f\u0440\u043e\u0447\u0438\u0442\u0430\u0439\u0442\u0435 [\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e \u043f\u0440\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0447\u0438\u043a\u0438], \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439\u0442\u0435\u0441\u044c \u0441\u044e\u0434\u0430. \u041f\u0440\u0438\u043c\u0435\u0440 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u043e\u0433\u043e \u0438\u0437 \u0437\u0430\u0433\u0440\u0443\u0437\u0447\u0438\u043a\u0430: uploader = AnyUploader ( bot . api ) # see uploaders types in \"Uploaders documentation\" above @bot . on . message () async def send_attachment ( message ): attachment = await uploader . upload ( \"path/to/file\" ) await message . answer ( \"See that attachment!\" , attachment = attachment )","title":"\u0415\u0441\u043b\u0438 \u0432\u044b \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0435 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438"},{"location":"tutorial/keyboards-attachments/#_6","text":"\u041d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u0438\u043d \u0432\u0438\u0434 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u2014 \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u044c. \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u043f\u043e \u044d\u0442\u043e\u043c\u0443 \u0432\u0438\u0434\u0443 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0430 \u0437\u0434\u0435\u0441\u044c . \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0447\u0435\u0440\u0435\u0437 vkbottle \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e: - TemplateElement - \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0448\u0430\u0431\u043b\u043e\u043d\u0430. \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u0435\u0439 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f\u043c \u043f\u043e\u043b\u0435\u0439 \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435. - template_gen - \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u0448\u0430\u0431\u043b\u043e\u043d \u0438\u0437 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432: from vkbottle.tools import template_gen , TemplateElement my_template = template_gen ( TemplateElement ( ... ), TemplateElement ( ... ), TemplateElement ( ... )) \u0412 \u044d\u0442\u043e\u043c \u043f\u0440\u0438\u043c\u0435\u0440\u0435 my_template - \u0443\u0436\u0435 \u0433\u043e\u0442\u043e\u0432\u044b\u0439 JSON-\u043e\u0431\u044a\u0435\u043a\u0442 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0438. \u0412\u043e\u0442 \u043f\u0440\u0438\u043c\u0435\u0440 \u0435\u0433\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438: my_template = ... # see example above @bot . on . message () async def send_template ( message ): await message . answer ( \"Sending template...\" , template = my_template )","title":"\u0428\u0430\u0431\u043b\u043e\u043d\u044b"},{"location":"tutorial/keyboards-attachments/#_7","text":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0439","title":"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b \u043f\u043e \u044d\u0442\u043e\u0439 \u0447\u0430\u0441\u0442\u0438"},{"location":"tutorial/middlewares-return-managers/","text":"\u041c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 \u0438 return \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u044b \u041c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 \u041c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 - \u0442\u0430\u043a \u043d\u0430\u0437\u044b\u0432\u0430\u0435\u043c\u044b\u0435 \u0432\u043d\u0435\u0448\u043d\u0438\u0435 \u0441\u043b\u043e\u0438, \u043f\u043e\u043a\u0440\u044b\u0432\u0430\u044e\u0449\u0438\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432. \u0423 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439 \u0435\u0441\u0442\u044c \u0434\u0432\u0430 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f - pre \u0438 post , pre \u044d\u0442\u043e \u0442\u043e, \u0447\u0442\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0434\u043e \u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430 (\u043a\u043e\u0433\u0434\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430\u0448\u0435\u043b\u0441\u044f \u043d\u0443\u0436\u043d\u044b\u0439 view ), \u0430 post - \u0442\u043e \u0447\u0442\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u043a\u043e\u0433\u0434\u0430 \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u0443\u0436\u0435 \u0431\u044b\u043b \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d \u0438 \u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e \u0432\u0441\u0435 \u043e \u043f\u0440\u043e\u0448\u0435\u0434\u0448\u0435\u0439 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435: \u043a\u0430\u043a\u0438\u0435 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0438, \u0447\u0442\u043e \u043e\u043d\u0438 \u0432\u0435\u0440\u043d\u0443\u043b\u0438 \u0427\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c, \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441 \u0434\u043b\u044f \u043d\u0435\u0433\u043e \u0438\u0437 \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0433\u043e \u043f\u0430\u043a\u0435\u0442\u0430: from vkbottle import BaseMiddleware from vkbottle.bot import Message \u0422\u0435\u043f\u0435\u0440\u044c \u043d\u0430\u0447\u043d\u0438\u0442\u0435 \u043f\u0438\u0441\u0430\u0442\u044c \u0432\u0430\u0448 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441: class MiddlewareName ( BaseMiddleware [ Message ]): \u0422\u0430\u043a \u043a\u0430\u043a \u043d\u0430\u0448 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0438\u043c\u0435\u043d\u043d\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f, \u043d\u0443\u0436\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0438\u043f \u0432 \u0434\u0436\u0435\u043d\u0435\u0440\u0438\u043a\u0435. \u0412 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043c\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u043a\u043b\u0430\u0441\u0441 Message \u0438\u0437 vkbottle.bot Middleware \u0431\u0435\u0437 \u043c\u0435\u0442\u043e\u0434\u043e\u0432 pre \u0438\u043b\u0438/\u0438 post \u0431\u0435\u0441\u043f\u043e\u043b\u0435\u0437\u0435\u043d, \u043d\u0443\u0436\u043d\u043e \u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0441\u044f \u043a\u0430\u043a \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u0436\u0434\u044b\u0439 \u0438\u0437 \u043d\u0438\u0445 async def pre(self) pre \u0438\u043c\u0435\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0438\u0432\u0435\u043d\u0442\u0443 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044e) \u0447\u0435\u0440\u0435\u0437 self \u0438 \u043c\u043e\u0436\u0435\u0442 \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0443 \u0447\u0435\u0440\u0435\u0437 self.stop \u0438\u043b\u0438 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0441\u0442\u0435\u043a\u0441\u0442 \u0447\u0435\u0440\u0435\u0437 self.send \u0422\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u0412\u043e\u0442 \u0442\u0430\u043a \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u0441\u0435\u0438\u0432\u0430\u0442\u044c \u0432\u0441\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e\u0442 \u0431\u043e\u0442\u043e\u0432: from vkbottle.bot import Message from vkbottle import BaseMiddleware , MiddlewareResponse class NoBotMiddleware ( BaseMiddleware [ Message ]): async def pre ( self ): if self . event . from_id < 0 : self . stop ( \"from_id \u043c\u0435\u043d\u044c\u0448\u0435 0\" ) async def post(self) post \u0443\u0436\u0435 \u043d\u0438\u043a\u0430\u043a \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0438\u0432\u0435\u043d\u0442\u0430. \u041e\u0431\u044b\u0447\u043d\u043e \u0435\u0433\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 \u0434\u043b\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u0438 \u043b\u043e\u0433\u043e\u0432 from vkbottle.bot import Message from vkbottle import BaseMiddleware from typing import List , Any class LogMiddleware ( BaseMiddleware [ Message ]): async def post ( self ): if not self . handlers : return print ( f \" { len ( self . handlers ) } \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432 \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u043e \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435. \" f \"\u041e\u043d\u0438 \u0432\u0435\u0440\u043d\u0443\u043b\u0438 { self . handle_responses } , \" f \"\u0432\u0441\u0435 \u043e\u043d\u0438 \u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u0430\u043b\u0438 \u043a view { self . view } \" ) pre \u0438 post \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0438 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0432 \u043e\u0434\u043d\u043e\u043c \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435 \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439 \u0427\u0442\u043e\u0431\u044b \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c (\u0438 \u043e\u043d \u0440\u0430\u0431\u043e\u0442\u0430\u043b) \u043d\u0443\u0436\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0441 view \u043a \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u043e\u043d \u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u0438\u0442, \u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u044d\u0442\u043e MessageView \u0412 \u043b\u0435\u0439\u0431\u043b\u0435\u0440\u0435 MessageView \u0440\u0430\u0441\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 .message_view \u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e view \u0435\u0441\u0442\u044c \u043c\u0435\u0442\u043e\u0434 register_middleware , \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0441\u044f \u0438\u043c: bot . labeler . message_view . register_middleware ( NoBotMiddleware ) bot . labeler . message_view . register_middleware ( LogMiddleware ) \u041a\u0441\u0442\u0430\u0442\u0438 \u043c\u0435\u0442\u043e\u0434\u043e\u043c register_middleware \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0438 \u043a\u0430\u043a \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u043e\u043c. \u041f\u043e\u043b\u043d\u044b\u0439 \u043a\u043e\u0434 \u0441 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044f\u043c\u0438 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0439\u0442\u0438 \u0432 \u044d\u0442\u043e\u043c \u044d\u043a\u0437\u0430\u043c\u043f\u043b\u0435 Return \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u044b \u0412 \u044d\u0442\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u0430 \u0443\u043f\u043e\u043c\u044f\u043d\u0430\u043b\u043e\u0441\u044c \u043e \u043a\u0430\u043a\u0438\u0445-\u0442\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u0445, \u0447\u0442\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044e\u0442\u0441\u044f \u0438\u0445 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432. \u0427\u0442\u043e \u0436\u0435 \u044d\u0442\u043e \u0438 \u0437\u0430\u0447\u0435\u043c \u043e\u043d\u0438 \u043d\u0443\u0436\u043d\u044b? \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0433\u043e \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430 \u0434\u043b\u044f \u0432\u0430\u0448\u0435\u0433\u043e view \u0432\u044b\u0445\u043e\u0434\u0438\u0442 \u0437\u0430 \u0440\u0430\u043c\u043a\u0438 \u044d\u0442\u043e\u0433\u043e \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u0430, \u043d\u043e \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u043e\u0431 \u044d\u0442\u043e\u043c \u0432 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 , \u043a\u043e\u0433\u0434\u0430 \u043f\u043e\u0441\u0447\u0438\u0442\u0430\u0435\u0442\u0435 \u0447\u0442\u043e \u0433\u043e\u0442\u043e\u0432\u044b \u0414\u043b\u044f \u043e\u0431\u0449\u0435\u0433\u043e \u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u044f \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0437\u043e\u0431\u0440\u0430\u043d return \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438 \u0434\u043b\u044f MessageView \u0421\u0443\u0442\u044c \u0437\u0430\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0438\u0437 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430, \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b return \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0443\u0442 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f, \u0432\u043e\u0442 \u0447\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u043d\u0430\u0442\u044c \u0434\u043b\u044f \u043a\u043e\u043c\u0444\u043e\u0440\u0442\u043d\u043e\u0439 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438: \u0442\u0438\u043f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0447\u0442\u043e \u043f\u0440\u043e\u0438\u0437\u043e\u0439\u0434\u0435\u0442 str \u0441\u0442\u0440\u043e\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0441\u044f \u043a\u0430\u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 tuple \u0438\u043b\u0438 list \u0432\u0441\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u0431\u0443\u0434\u0443\u0442 \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u044b \u0432 \u0441\u0442\u0440\u043e\u043a\u0438 \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043a\u0430\u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f dict \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0440\u0430\u0441\u043f\u0430\u043a\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u043d\u0435\u043f\u043e\u0437\u0438\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u043c\u0435\u0442\u043e\u0434\u0430 message.answer \u042d\u043a\u0437\u0430\u043c\u043f\u043b\u044b \u043f\u043e \u044d\u0442\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u0430 middleware","title":"\u041c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 \u0438 return \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u044b"},{"location":"tutorial/middlewares-return-managers/#return","text":"","title":"\u041c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 \u0438 return \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u044b"},{"location":"tutorial/middlewares-return-managers/#_1","text":"\u041c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 - \u0442\u0430\u043a \u043d\u0430\u0437\u044b\u0432\u0430\u0435\u043c\u044b\u0435 \u0432\u043d\u0435\u0448\u043d\u0438\u0435 \u0441\u043b\u043e\u0438, \u043f\u043e\u043a\u0440\u044b\u0432\u0430\u044e\u0449\u0438\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432. \u0423 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439 \u0435\u0441\u0442\u044c \u0434\u0432\u0430 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f - pre \u0438 post , pre \u044d\u0442\u043e \u0442\u043e, \u0447\u0442\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0434\u043e \u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430 (\u043a\u043e\u0433\u0434\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430\u0448\u0435\u043b\u0441\u044f \u043d\u0443\u0436\u043d\u044b\u0439 view ), \u0430 post - \u0442\u043e \u0447\u0442\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u043a\u043e\u0433\u0434\u0430 \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u0443\u0436\u0435 \u0431\u044b\u043b \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d \u0438 \u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e \u0432\u0441\u0435 \u043e \u043f\u0440\u043e\u0448\u0435\u0434\u0448\u0435\u0439 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435: \u043a\u0430\u043a\u0438\u0435 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0438, \u0447\u0442\u043e \u043e\u043d\u0438 \u0432\u0435\u0440\u043d\u0443\u043b\u0438 \u0427\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c, \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441 \u0434\u043b\u044f \u043d\u0435\u0433\u043e \u0438\u0437 \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0433\u043e \u043f\u0430\u043a\u0435\u0442\u0430: from vkbottle import BaseMiddleware from vkbottle.bot import Message \u0422\u0435\u043f\u0435\u0440\u044c \u043d\u0430\u0447\u043d\u0438\u0442\u0435 \u043f\u0438\u0441\u0430\u0442\u044c \u0432\u0430\u0448 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441: class MiddlewareName ( BaseMiddleware [ Message ]): \u0422\u0430\u043a \u043a\u0430\u043a \u043d\u0430\u0448 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0438\u043c\u0435\u043d\u043d\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f, \u043d\u0443\u0436\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0438\u043f \u0432 \u0434\u0436\u0435\u043d\u0435\u0440\u0438\u043a\u0435. \u0412 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043c\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u043a\u043b\u0430\u0441\u0441 Message \u0438\u0437 vkbottle.bot Middleware \u0431\u0435\u0437 \u043c\u0435\u0442\u043e\u0434\u043e\u0432 pre \u0438\u043b\u0438/\u0438 post \u0431\u0435\u0441\u043f\u043e\u043b\u0435\u0437\u0435\u043d, \u043d\u0443\u0436\u043d\u043e \u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0441\u044f \u043a\u0430\u043a \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u0436\u0434\u044b\u0439 \u0438\u0437 \u043d\u0438\u0445","title":"\u041c\u0438\u0434\u043b\u0432\u0430\u0440\u0438"},{"location":"tutorial/middlewares-return-managers/#async-def-preself","text":"pre \u0438\u043c\u0435\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0438\u0432\u0435\u043d\u0442\u0443 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044e) \u0447\u0435\u0440\u0435\u0437 self \u0438 \u043c\u043e\u0436\u0435\u0442 \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0443 \u0447\u0435\u0440\u0435\u0437 self.stop \u0438\u043b\u0438 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0441\u0442\u0435\u043a\u0441\u0442 \u0447\u0435\u0440\u0435\u0437 self.send \u0422\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u0412\u043e\u0442 \u0442\u0430\u043a \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u0441\u0435\u0438\u0432\u0430\u0442\u044c \u0432\u0441\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e\u0442 \u0431\u043e\u0442\u043e\u0432: from vkbottle.bot import Message from vkbottle import BaseMiddleware , MiddlewareResponse class NoBotMiddleware ( BaseMiddleware [ Message ]): async def pre ( self ): if self . event . from_id < 0 : self . stop ( \"from_id \u043c\u0435\u043d\u044c\u0448\u0435 0\" )","title":"async def pre(self)"},{"location":"tutorial/middlewares-return-managers/#async-def-postself","text":"post \u0443\u0436\u0435 \u043d\u0438\u043a\u0430\u043a \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0438\u0432\u0435\u043d\u0442\u0430. \u041e\u0431\u044b\u0447\u043d\u043e \u0435\u0433\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 \u0434\u043b\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u0438 \u043b\u043e\u0433\u043e\u0432 from vkbottle.bot import Message from vkbottle import BaseMiddleware from typing import List , Any class LogMiddleware ( BaseMiddleware [ Message ]): async def post ( self ): if not self . handlers : return print ( f \" { len ( self . handlers ) } \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432 \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u043e \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435. \" f \"\u041e\u043d\u0438 \u0432\u0435\u0440\u043d\u0443\u043b\u0438 { self . handle_responses } , \" f \"\u0432\u0441\u0435 \u043e\u043d\u0438 \u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u0430\u043b\u0438 \u043a view { self . view } \" ) pre \u0438 post \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0438 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0432 \u043e\u0434\u043d\u043e\u043c \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435","title":"async def post(self)"},{"location":"tutorial/middlewares-return-managers/#_2","text":"\u0427\u0442\u043e\u0431\u044b \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c (\u0438 \u043e\u043d \u0440\u0430\u0431\u043e\u0442\u0430\u043b) \u043d\u0443\u0436\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0441 view \u043a \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u043e\u043d \u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u0438\u0442, \u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u044d\u0442\u043e MessageView \u0412 \u043b\u0435\u0439\u0431\u043b\u0435\u0440\u0435 MessageView \u0440\u0430\u0441\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 .message_view \u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e view \u0435\u0441\u0442\u044c \u043c\u0435\u0442\u043e\u0434 register_middleware , \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0441\u044f \u0438\u043c: bot . labeler . message_view . register_middleware ( NoBotMiddleware ) bot . labeler . message_view . register_middleware ( LogMiddleware ) \u041a\u0441\u0442\u0430\u0442\u0438 \u043c\u0435\u0442\u043e\u0434\u043e\u043c register_middleware \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0438 \u043a\u0430\u043a \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u043e\u043c. \u041f\u043e\u043b\u043d\u044b\u0439 \u043a\u043e\u0434 \u0441 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044f\u043c\u0438 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0439\u0442\u0438 \u0432 \u044d\u0442\u043e\u043c \u044d\u043a\u0437\u0430\u043c\u043f\u043b\u0435","title":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439"},{"location":"tutorial/middlewares-return-managers/#return_1","text":"\u0412 \u044d\u0442\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u0430 \u0443\u043f\u043e\u043c\u044f\u043d\u0430\u043b\u043e\u0441\u044c \u043e \u043a\u0430\u043a\u0438\u0445-\u0442\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u0445, \u0447\u0442\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044e\u0442\u0441\u044f \u0438\u0445 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432. \u0427\u0442\u043e \u0436\u0435 \u044d\u0442\u043e \u0438 \u0437\u0430\u0447\u0435\u043c \u043e\u043d\u0438 \u043d\u0443\u0436\u043d\u044b? \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0433\u043e \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430 \u0434\u043b\u044f \u0432\u0430\u0448\u0435\u0433\u043e view \u0432\u044b\u0445\u043e\u0434\u0438\u0442 \u0437\u0430 \u0440\u0430\u043c\u043a\u0438 \u044d\u0442\u043e\u0433\u043e \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u0430, \u043d\u043e \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u043e\u0431 \u044d\u0442\u043e\u043c \u0432 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 , \u043a\u043e\u0433\u0434\u0430 \u043f\u043e\u0441\u0447\u0438\u0442\u0430\u0435\u0442\u0435 \u0447\u0442\u043e \u0433\u043e\u0442\u043e\u0432\u044b \u0414\u043b\u044f \u043e\u0431\u0449\u0435\u0433\u043e \u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u044f \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0437\u043e\u0431\u0440\u0430\u043d return \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438 \u0434\u043b\u044f MessageView \u0421\u0443\u0442\u044c \u0437\u0430\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0438\u0437 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430, \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u044b return \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0443\u0442 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f, \u0432\u043e\u0442 \u0447\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u043d\u0430\u0442\u044c \u0434\u043b\u044f \u043a\u043e\u043c\u0444\u043e\u0440\u0442\u043d\u043e\u0439 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438: \u0442\u0438\u043f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0447\u0442\u043e \u043f\u0440\u043e\u0438\u0437\u043e\u0439\u0434\u0435\u0442 str \u0441\u0442\u0440\u043e\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0441\u044f \u043a\u0430\u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 tuple \u0438\u043b\u0438 list \u0432\u0441\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u0431\u0443\u0434\u0443\u0442 \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u044b \u0432 \u0441\u0442\u0440\u043e\u043a\u0438 \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043a\u0430\u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f dict \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0440\u0430\u0441\u043f\u0430\u043a\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u043d\u0435\u043f\u043e\u0437\u0438\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u043c\u0435\u0442\u043e\u0434\u0430 message.answer","title":"Return \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u044b"},{"location":"tutorial/middlewares-return-managers/#_3","text":"middleware","title":"\u042d\u043a\u0437\u0430\u043c\u043f\u043b\u044b \u043f\u043e \u044d\u0442\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u0430"},{"location":"tutorial/recommended_ide/","text":"\u041f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0435\u0435 IDE \u0434\u043b\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043d\u0430 vkbottle PyCharm vscode (\u0441 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435\u043c Pylance)","title":"\u041f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0435\u0435 IDE \u0434\u043b\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043d\u0430 vkbottle"},{"location":"tutorial/recommended_ide/#ide-vkbottle","text":"PyCharm vscode (\u0441 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435\u043c Pylance)","title":"\u041f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0435\u0435 IDE \u0434\u043b\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043d\u0430 vkbottle"},{"location":"tutorial/rules/","text":"\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u043b\u043e\u0432\u0438\u043b \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0443\u0436\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f/\u0434\u0440\u0443\u0433\u0438\u0435 \u0438\u0432\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u044b \u043f\u0440\u0430\u0432\u0438\u043b\u0430 (rules, \u0440\u0443\u043b\u0437\u044b - \u0443\u0441\u0442\u043e\u044f\u0432\u0448\u0430\u044f\u0441\u044f \u0442\u0440\u0430\u043d\u0441\u043b\u0438\u0442\u0435\u0440\u0430\u0446\u0438\u044f \u0432 \u043a\u043e\u043c\u044c\u044e\u043d\u0438\u0442\u0438 \u0432\u043a\u0431\u043e\u0442\u043b\u0430), \u0432 \u0432\u043a\u0431\u043e\u0442\u043b\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0440\u0443\u043b\u0437\u043e\u0432 \u043f\u0440\u044f\u043c\u043e \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438, \u043d\u043e \u0432 \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0435 \u0441\u0432\u043e\u0435\u043c \u043e\u043d\u0438 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043e\u0434\u043d\u043e\u0433\u043e \u0438\u0432\u0435\u043d\u0442\u0430 - \u0438\u0432\u0435\u043d\u0442\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0427\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u043f\u043e-\u0440\u0430\u0437\u043d\u043e\u043c\u0443: \u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0445 \u0438\u0437 vkbottle.dispatch.rules \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c, \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u044f \u043f\u0440\u044f\u043c\u043e \u0432 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u0435 \u0438\u043b\u0438 \u0432 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u043a\u043e\u0434\u0430: from vkbottle.dispatch.rules.base import CommandRule from typing import Tuple @bot . on . message ( CommandRule ( \"say\" , [ \"!\" , \"/\" ], 1 )) async def say_handler ( message : Message , args : Tuple [ str ]): await message . answer ( f \"<< { args [ 0 ] } >>\" ) \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0430\u0432\u0442\u043e\u0440\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u0449\u0438\u043a\u0438 \u0440\u0443\u043b\u0437\u043e\u0432 \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438, \u0441\u043f\u0438\u0441\u043e\u043a \u0441 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f\u043c\u0438 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0437\u0434\u0435\u0441\u044c , \u0432 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u0442\u043e\u0440\u043e\u0441\u0442\u0435\u043f\u0435\u043d\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u043b\u044c\u0437\u044f @bot . on . message ( command = ( \"say\" , 1 )) async def say_handler ( message : Message , args : Tuple [ str ]): await message . answer ( f \"<< { args [ 0 ] } >>\" ) \u041f\u0440\u0430\u0432\u0438\u043b \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043b\u044e\u0431\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e, \u043a\u0430\u043a \u043f\u0435\u0440\u0432\u043e\u0433\u043e, \u0442\u0430\u043a \u0438 \u0432\u0442\u043e\u0440\u043e\u0433\u043e \u043c\u0435\u0442\u043e\u0434\u0430 \u0440\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u043a\u0438 \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u043f\u0440\u0430\u0432\u0438\u043b \u041f\u0440\u0430\u0432\u0438\u043b\u043e - \u044d\u0442\u043e \u043a\u043b\u0430\u0441\u0441 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0443 ABCRule , \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0434\u043e\u043b\u0436\u0435\u043d \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043b\u0438\u0448\u044c \u043e\u0434\u0438\u043d \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0439 \u043c\u0435\u0442\u043e\u0434 check , \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0449\u0438\u0439 \u0438\u0432\u0435\u043d\u0442 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044e\u0449\u0438\u0439 False \u0435\u0441\u043b\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u0440\u043e\u0439\u0434\u0435\u043d\u0430 \u043d\u0435 \u0431\u044b\u043b\u0430 \u0438 True \u043b\u0438\u0431\u043e \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0441 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430\u043c\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0440\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u0430\u043d\u044b \u0432 \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u043a\u0430\u043a \u043d\u0435\u043f\u043e\u0437\u0438\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u0427\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0435\u043c ABCRule \u0438 \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u0443\u0435\u043c \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0439 \u043c\u0435\u0442\u043e\u0434 check , \u0435\u0449\u0435 \u0441\u0442\u043e\u0438\u0442 \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c Union \u0438\u0437 typing \u0434\u043b\u044f \u0442\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u0438 \u0432\u0430\u0448\u0435\u0433\u043e \u043a\u043e\u0434\u0430: from typing import Union from vkbottle.bot import Message from vkbottle.dispatch.rules import ABCRule class MyRule ( ABCRule [ Message ]): async def check ( self , event : Message ) -> Union [ dict , bool ]: ... \u0422\u0435\u043f\u0435\u0440\u044c \u0441\u0442\u043e\u0438\u0442 \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043b\u043e\u0433\u0438\u043a\u0443 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 MyRule , \u043f\u0443\u0441\u0442\u044c \u043e\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c \u0447\u0442\u043e \u0434\u043b\u0438\u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043c\u0435\u043d\u044c\u0448\u0435 \u0441\u0442\u0430 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432: return len ( message . text ) < 100 \u0412\u043e\u0442 \u0447\u0442\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c: Union \u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u043f\u0440\u0430\u0432\u0438\u043b\u0435 \u043d\u0435 \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u043b\u0441\u044f \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0435\u0433\u043e \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e \u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043f\u043e \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0430\u043c mypy, \u0432 \u043b\u044e\u0431\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0430 \u0441\u0438\u0433\u043d\u0430\u0442\u0443\u0440\u0443 \u044d\u0442\u043e \u043d\u0435 \u043f\u043e\u0432\u043b\u0438\u044f\u0435\u0442 from typing import Union from vkbottle.bot import Message from vkbottle.dispatch.rules import ABCRule class MyRule ( ABCRule [ Message ]): async def check ( self , event : Message ) -> bool : return len ( event . text ) < 100 \u0422\u0435\u043f\u0435\u0440\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u043a \u043f\u0435\u0440\u0432\u044b\u043c \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u043c: @bot . on . message ( MyRule ()) \u0412\u0442\u043e\u0440\u044b\u043c \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u043c \u0440\u0443\u043b\u0437\u043e\u043c MyRule \u0432 \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0441\u044f, \u0438\u0437-\u0437\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f \u043a\u0430\u043a\u0438\u0445-\u043b\u0438\u0431\u043e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u0440\u0430\u0432\u0438\u043b\u0430, \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f \u0435\u0433\u043e \u043a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043c\u0435\u0442\u043e\u0434\u0430 __init__ : # \u041d\u043e\u0432\u044b\u0439 \u0432\u0438\u0434 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 class MyRule ( ABCRule [ Message ]): def __init__ ( self , lt : int = 100 ): self . lt = lt async def check ( self , event : Message ) -> bool : return len ( event . text ) < self . lt \u0422\u0435\u043f\u0435\u0440\u044c, \u0435\u0441\u043b\u0438 \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e (\u0434\u043e \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u044f \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432) \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e \u0432 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043b\u0435\u0439\u0431\u043b\u0435\u0440 bot . labeler . custom_rules [ \"my_rule\" ] = MyRule \u0415\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0438 \u0432\u0442\u043e\u0440\u044b\u043c \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u043c: @bot . on . message ( my_rule = 50 ) \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b \u0447\u0435\u0440\u0435\u0437 \u043f\u0440\u0430\u0432\u0438\u043b\u0430-\u0432\u0440\u0430\u043f\u043f\u0435\u0440\u044b \u0415\u0441\u0442\u044c \u0442\u0430\u043a \u043d\u0430\u0437\u044b\u0432\u0430\u0435\u043c\u044b\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430-\u0432\u0440\u0430\u043f\u043f\u0435\u0440\u044b, \u043f\u0440\u0430\u0432\u0438\u043b\u0430 - \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0441\u043f\u043e\u043b\u043d\u044f\u044e\u0442 \u043a\u0430\u043a\u043e\u0439-\u0442\u043e \u043a\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u043b\u0443\u0447\u0430\u044e\u0442 \u043a\u0430\u043a \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u041a \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c-\u0432\u0440\u0430\u043f\u043f\u0435\u0440\u0430\u043c \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438 \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u043d\u0435\u0441\u0442\u0438: func , \u0448\u043e\u0440\u0442\u043a\u0430\u0442 FuncRule ; coro \u0438\u043b\u0438 coroutine , \u0448\u043e\u0440\u0442\u043a\u0430\u0442 CoroutineRule FuncRule \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044e (\u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043b\u044f\u043c\u0431\u0434\u043e\u0439). \u0421\u043e\u0437\u0434\u0430\u043d\u043d\u043e\u0435 \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u043f\u0440\u0430\u0432\u0438\u043b\u043e MyRule \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u043e\u0442 \u0442\u0430\u043a: @bot . on . message ( func = lambda message : len ( message . text ) < 100 ) FuncRule \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043a\u043e\u0440\u0443\u0442\u0438\u043d\u0443. \u0415\u0449\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u043e\u0432\u043c\u0435\u0449\u0430\u044e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0430\u0432\u0438\u043b. \u0412 vkbottle \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u043a\u0430 \u0438 \u0442\u0440\u0430\u043d\u0441\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0438\u043d\u0441\u0442\u0430\u043d\u0441\u043e\u0432 \u0432 \u0442\u0430\u043a\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 (\u0441\u0442\u043e\u0438\u0442 \u0437\u0430\u043c\u0435\u0442\u0438\u0442\u044c \u0447\u0442\u043e \u0440\u0435\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u043e \u044d\u0442\u043e \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442), \u0430 \u0438\u043c\u0435\u043d\u043d\u043e: * Rule1() & Rule2() \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0432 AndRule * Rule1() | Rule2() \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0432 OrRule * ~Rule2() \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0432 NotRule \u0412\u043c\u0435\u0441\u0442\u043e OrRule \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432: @bot . on . message ( some_rule = 1 ) @bot . on . message ( some_rule = 100 ) \u0415\u0449\u0435 \u0441\u0442\u043e\u0438\u0442 \u0437\u0430\u043c\u0435\u0442\u0438\u0442\u044c, \u0447\u0442\u043e \u043c\u043d\u043e\u0433\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 \u0438\u0442\u0435\u0440\u0430\u0431\u0435\u043b\u044c\u043d\u044b\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0441\u0430\u043c\u0438\u043c \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440, \u043a\u0430\u043a \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 VBMLRule , \u0441\u0442\u043e\u044f\u0449\u0438\u0439 \u0437\u0430 text \u042d\u043a\u0437\u0430\u043c\u043f\u043b\u044b \u043f\u043e \u044d\u0442\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u0430 labeler-setup rules-shortcuts","title":"\u041f\u0440\u0430\u0432\u0438\u043b\u0430"},{"location":"tutorial/rules/#_1","text":"\u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u043b\u043e\u0432\u0438\u043b \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0443\u0436\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f/\u0434\u0440\u0443\u0433\u0438\u0435 \u0438\u0432\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u044b \u043f\u0440\u0430\u0432\u0438\u043b\u0430 (rules, \u0440\u0443\u043b\u0437\u044b - \u0443\u0441\u0442\u043e\u044f\u0432\u0448\u0430\u044f\u0441\u044f \u0442\u0440\u0430\u043d\u0441\u043b\u0438\u0442\u0435\u0440\u0430\u0446\u0438\u044f \u0432 \u043a\u043e\u043c\u044c\u044e\u043d\u0438\u0442\u0438 \u0432\u043a\u0431\u043e\u0442\u043b\u0430), \u0432 \u0432\u043a\u0431\u043e\u0442\u043b\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0440\u0443\u043b\u0437\u043e\u0432 \u043f\u0440\u044f\u043c\u043e \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438, \u043d\u043e \u0432 \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0435 \u0441\u0432\u043e\u0435\u043c \u043e\u043d\u0438 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043e\u0434\u043d\u043e\u0433\u043e \u0438\u0432\u0435\u043d\u0442\u0430 - \u0438\u0432\u0435\u043d\u0442\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0427\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u043f\u043e-\u0440\u0430\u0437\u043d\u043e\u043c\u0443: \u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0445 \u0438\u0437 vkbottle.dispatch.rules \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c, \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u044f \u043f\u0440\u044f\u043c\u043e \u0432 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u0435 \u0438\u043b\u0438 \u0432 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u043a\u043e\u0434\u0430: from vkbottle.dispatch.rules.base import CommandRule from typing import Tuple @bot . on . message ( CommandRule ( \"say\" , [ \"!\" , \"/\" ], 1 )) async def say_handler ( message : Message , args : Tuple [ str ]): await message . answer ( f \"<< { args [ 0 ] } >>\" ) \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0430\u0432\u0442\u043e\u0440\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u0449\u0438\u043a\u0438 \u0440\u0443\u043b\u0437\u043e\u0432 \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438, \u0441\u043f\u0438\u0441\u043e\u043a \u0441 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f\u043c\u0438 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0437\u0434\u0435\u0441\u044c , \u0432 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u0442\u043e\u0440\u043e\u0441\u0442\u0435\u043f\u0435\u043d\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u043b\u044c\u0437\u044f @bot . on . message ( command = ( \"say\" , 1 )) async def say_handler ( message : Message , args : Tuple [ str ]): await message . answer ( f \"<< { args [ 0 ] } >>\" ) \u041f\u0440\u0430\u0432\u0438\u043b \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043b\u044e\u0431\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e, \u043a\u0430\u043a \u043f\u0435\u0440\u0432\u043e\u0433\u043e, \u0442\u0430\u043a \u0438 \u0432\u0442\u043e\u0440\u043e\u0433\u043e \u043c\u0435\u0442\u043e\u0434\u0430 \u0440\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u043a\u0438","title":"\u041f\u0440\u0430\u0432\u0438\u043b\u0430"},{"location":"tutorial/rules/#_2","text":"\u041f\u0440\u0430\u0432\u0438\u043b\u043e - \u044d\u0442\u043e \u043a\u043b\u0430\u0441\u0441 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0443 ABCRule , \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0434\u043e\u043b\u0436\u0435\u043d \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043b\u0438\u0448\u044c \u043e\u0434\u0438\u043d \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0439 \u043c\u0435\u0442\u043e\u0434 check , \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0449\u0438\u0439 \u0438\u0432\u0435\u043d\u0442 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044e\u0449\u0438\u0439 False \u0435\u0441\u043b\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u0440\u043e\u0439\u0434\u0435\u043d\u0430 \u043d\u0435 \u0431\u044b\u043b\u0430 \u0438 True \u043b\u0438\u0431\u043e \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0441 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430\u043c\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0440\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u0430\u043d\u044b \u0432 \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u043a\u0430\u043a \u043d\u0435\u043f\u043e\u0437\u0438\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u043f\u0440\u0430\u0432\u0438\u043b"},{"location":"tutorial/rules/#_3","text":"\u0427\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0435\u043c ABCRule \u0438 \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u0443\u0435\u043c \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0439 \u043c\u0435\u0442\u043e\u0434 check , \u0435\u0449\u0435 \u0441\u0442\u043e\u0438\u0442 \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c Union \u0438\u0437 typing \u0434\u043b\u044f \u0442\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u0438 \u0432\u0430\u0448\u0435\u0433\u043e \u043a\u043e\u0434\u0430: from typing import Union from vkbottle.bot import Message from vkbottle.dispatch.rules import ABCRule class MyRule ( ABCRule [ Message ]): async def check ( self , event : Message ) -> Union [ dict , bool ]: ... \u0422\u0435\u043f\u0435\u0440\u044c \u0441\u0442\u043e\u0438\u0442 \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043b\u043e\u0433\u0438\u043a\u0443 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 MyRule , \u043f\u0443\u0441\u0442\u044c \u043e\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c \u0447\u0442\u043e \u0434\u043b\u0438\u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043c\u0435\u043d\u044c\u0448\u0435 \u0441\u0442\u0430 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432: return len ( message . text ) < 100 \u0412\u043e\u0442 \u0447\u0442\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c: Union \u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u043f\u0440\u0430\u0432\u0438\u043b\u0435 \u043d\u0435 \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u043b\u0441\u044f \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0435\u0433\u043e \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e \u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043f\u043e \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0430\u043c mypy, \u0432 \u043b\u044e\u0431\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0430 \u0441\u0438\u0433\u043d\u0430\u0442\u0443\u0440\u0443 \u044d\u0442\u043e \u043d\u0435 \u043f\u043e\u0432\u043b\u0438\u044f\u0435\u0442 from typing import Union from vkbottle.bot import Message from vkbottle.dispatch.rules import ABCRule class MyRule ( ABCRule [ Message ]): async def check ( self , event : Message ) -> bool : return len ( event . text ) < 100 \u0422\u0435\u043f\u0435\u0440\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u043a \u043f\u0435\u0440\u0432\u044b\u043c \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u043c: @bot . on . message ( MyRule ()) \u0412\u0442\u043e\u0440\u044b\u043c \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u043c \u0440\u0443\u043b\u0437\u043e\u043c MyRule \u0432 \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0441\u044f, \u0438\u0437-\u0437\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f \u043a\u0430\u043a\u0438\u0445-\u043b\u0438\u0431\u043e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u0440\u0430\u0432\u0438\u043b\u0430, \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f \u0435\u0433\u043e \u043a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043c\u0435\u0442\u043e\u0434\u0430 __init__ : # \u041d\u043e\u0432\u044b\u0439 \u0432\u0438\u0434 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 class MyRule ( ABCRule [ Message ]): def __init__ ( self , lt : int = 100 ): self . lt = lt async def check ( self , event : Message ) -> bool : return len ( event . text ) < self . lt \u0422\u0435\u043f\u0435\u0440\u044c, \u0435\u0441\u043b\u0438 \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e (\u0434\u043e \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u044f \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432) \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e \u0432 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043b\u0435\u0439\u0431\u043b\u0435\u0440 bot . labeler . custom_rules [ \"my_rule\" ] = MyRule \u0415\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0438 \u0432\u0442\u043e\u0440\u044b\u043c \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u043c: @bot . on . message ( my_rule = 50 )","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e"},{"location":"tutorial/rules/#-","text":"\u0415\u0441\u0442\u044c \u0442\u0430\u043a \u043d\u0430\u0437\u044b\u0432\u0430\u0435\u043c\u044b\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430-\u0432\u0440\u0430\u043f\u043f\u0435\u0440\u044b, \u043f\u0440\u0430\u0432\u0438\u043b\u0430 - \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0441\u043f\u043e\u043b\u043d\u044f\u044e\u0442 \u043a\u0430\u043a\u043e\u0439-\u0442\u043e \u043a\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u043b\u0443\u0447\u0430\u044e\u0442 \u043a\u0430\u043a \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u041a \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c-\u0432\u0440\u0430\u043f\u043f\u0435\u0440\u0430\u043c \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438 \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u043d\u0435\u0441\u0442\u0438: func , \u0448\u043e\u0440\u0442\u043a\u0430\u0442 FuncRule ; coro \u0438\u043b\u0438 coroutine , \u0448\u043e\u0440\u0442\u043a\u0430\u0442 CoroutineRule FuncRule \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044e (\u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043b\u044f\u043c\u0431\u0434\u043e\u0439). \u0421\u043e\u0437\u0434\u0430\u043d\u043d\u043e\u0435 \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u043f\u0440\u0430\u0432\u0438\u043b\u043e MyRule \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u043e\u0442 \u0442\u0430\u043a: @bot . on . message ( func = lambda message : len ( message . text ) < 100 ) FuncRule \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043a\u043e\u0440\u0443\u0442\u0438\u043d\u0443. \u0415\u0449\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u043e\u0432\u043c\u0435\u0449\u0430\u044e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0430\u0432\u0438\u043b. \u0412 vkbottle \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u043a\u0430 \u0438 \u0442\u0440\u0430\u043d\u0441\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0438\u043d\u0441\u0442\u0430\u043d\u0441\u043e\u0432 \u0432 \u0442\u0430\u043a\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 (\u0441\u0442\u043e\u0438\u0442 \u0437\u0430\u043c\u0435\u0442\u0438\u0442\u044c \u0447\u0442\u043e \u0440\u0435\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u043e \u044d\u0442\u043e \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442), \u0430 \u0438\u043c\u0435\u043d\u043d\u043e: * Rule1() & Rule2() \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0432 AndRule * Rule1() | Rule2() \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0432 OrRule * ~Rule2() \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0432 NotRule \u0412\u043c\u0435\u0441\u0442\u043e OrRule \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432: @bot . on . message ( some_rule = 1 ) @bot . on . message ( some_rule = 100 ) \u0415\u0449\u0435 \u0441\u0442\u043e\u0438\u0442 \u0437\u0430\u043c\u0435\u0442\u0438\u0442\u044c, \u0447\u0442\u043e \u043c\u043d\u043e\u0433\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 \u0438\u0442\u0435\u0440\u0430\u0431\u0435\u043b\u044c\u043d\u044b\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0441\u0430\u043c\u0438\u043c \u0438\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440, \u043a\u0430\u043a \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 VBMLRule , \u0441\u0442\u043e\u044f\u0449\u0438\u0439 \u0437\u0430 text","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b \u0447\u0435\u0440\u0435\u0437 \u043f\u0440\u0430\u0432\u0438\u043b\u0430-\u0432\u0440\u0430\u043f\u043f\u0435\u0440\u044b"},{"location":"tutorial/rules/#_4","text":"labeler-setup rules-shortcuts","title":"\u042d\u043a\u0437\u0430\u043c\u043f\u043b\u044b \u043f\u043e \u044d\u0442\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u0430"},{"location":"whats_new/4.0/","text":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044f\u0445 \u0422\u0435\u043f\u0435\u0440\u044c \u043c\u0435\u0442\u043e\u0434\u044b pre \u0438 post \u043d\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 message \u0414\u043e\u0441\u0442\u0443\u043f \u043a \u043d\u0435\u043c\u0443 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0447\u0435\u0440\u0435\u0437 self.event , \u0430 \u0435\u0433\u043e \u0442\u0438\u043f \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432 \u0434\u0436\u0435\u043d\u0435\u0440\u0438\u043a\u0435. \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0440\u0443\u043b\u0437\u0430\u0445 \u0410\u0440\u0433\u0443\u043c\u0435\u043d\u0442 message \u043f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d \u0432 event \u041d\u043e\u0432\u044b\u0439 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 \u0434\u043b\u044f CodeException \u0422\u0435\u043f\u0435\u0440\u044c \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 CodeException \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432 \u043a\u0432\u0430\u0434\u0440\u0430\u0442\u043d\u044b\u0445 \u0441\u043a\u043e\u0431\u043a\u0430\u0445. \u042d\u0442\u043e \u043a\u0430\u0441\u0430\u0435\u0442\u0441\u044f \u0438 VKAPIError : async def main (): try : await api . users . get ( user_ids = [ \"123456789\" ]) except VKAPIError [ 5 ]: print ( \"\u041e\u0439, \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u0434\u043e\u0441\u0442\u0443\u043f\u0430.\" ) except VKAPIError [ 30 ]: print ( \"\u041e\u0439, \u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0437\u0430\u043a\u0440\u044b\u0442\u044b\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c.\" ) except VKAPIError as e : print ( f \"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 { e . code } .\" ) \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u044e\u0437\u0435\u0440\u0431\u043e\u0442\u043e\u0432 \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043a\u043b\u0430\u0441\u0441 User , \u0432\u0441\u0435 \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e \u043e\u0431\u044b\u0447\u043d\u044b\u043c \u0431\u043e\u0442\u0430\u043c. \u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0438\u0437 vkbottle.user","title":4.0},{"location":"whats_new/4.0/#_1","text":"\u0422\u0435\u043f\u0435\u0440\u044c \u043c\u0435\u0442\u043e\u0434\u044b pre \u0438 post \u043d\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 message \u0414\u043e\u0441\u0442\u0443\u043f \u043a \u043d\u0435\u043c\u0443 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0447\u0435\u0440\u0435\u0437 self.event , \u0430 \u0435\u0433\u043e \u0442\u0438\u043f \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432 \u0434\u0436\u0435\u043d\u0435\u0440\u0438\u043a\u0435. \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435","title":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044f\u0445"},{"location":"whats_new/4.0/#_2","text":"\u0410\u0440\u0433\u0443\u043c\u0435\u043d\u0442 message \u043f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d \u0432 event","title":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0440\u0443\u043b\u0437\u0430\u0445"},{"location":"whats_new/4.0/#codeexception","text":"\u0422\u0435\u043f\u0435\u0440\u044c \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 CodeException \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432 \u043a\u0432\u0430\u0434\u0440\u0430\u0442\u043d\u044b\u0445 \u0441\u043a\u043e\u0431\u043a\u0430\u0445. \u042d\u0442\u043e \u043a\u0430\u0441\u0430\u0435\u0442\u0441\u044f \u0438 VKAPIError : async def main (): try : await api . users . get ( user_ids = [ \"123456789\" ]) except VKAPIError [ 5 ]: print ( \"\u041e\u0439, \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u0434\u043e\u0441\u0442\u0443\u043f\u0430.\" ) except VKAPIError [ 30 ]: print ( \"\u041e\u0439, \u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0437\u0430\u043a\u0440\u044b\u0442\u044b\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c.\" ) except VKAPIError as e : print ( f \"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 { e . code } .\" ) \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435","title":"\u041d\u043e\u0432\u044b\u0439 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 \u0434\u043b\u044f CodeException"},{"location":"whats_new/4.0/#_3","text":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043a\u043b\u0430\u0441\u0441 User , \u0432\u0441\u0435 \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e \u043e\u0431\u044b\u0447\u043d\u044b\u043c \u0431\u043e\u0442\u0430\u043c. \u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0438\u0437 vkbottle.user","title":"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u044e\u0437\u0435\u0440\u0431\u043e\u0442\u043e\u0432"}]}